<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2021-09-27 Mon 12:28 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>programming languages</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="ChongChong He" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" href="css/org.css" type="text/css" />
<link rel="stylesheet" href="css/custom.css" type="text/css" />
<script type="text/javascript">
// @license magnet:?xt=urn:btih:e95b018ef3580986a04669f1b5879592219e2a7a&dn=public-domain.txt Public Domain
<!--/*--><![CDATA[/*><!--*/
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
    /*]]>*///-->
// @license-end
</script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="index.html"> UP </a>
 |
 <a accesskey="H" href="index.html"> HOME </a>
</div><div id="content">
<h1 class="title">programming languages</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org2edf8d3">Python</a>
<ul>
<li><a href="#orgee23062">Short notes on Python programming</a></li>
<li><a href="#orgbf65b29">Tips</a></li>
<li><a href="#org6b3b8fd">Deepthought2</a>
<ul>
<li><a href="#orge547838">What I did</a></li>
<li><a href="#org1e34578">Installing modules yourself</a></li>
<li><a href="#orga353a55">MPI4PY</a></li>
</ul>
</li>
<li><a href="#org8178acd">Plotting</a>
<ul>
<li><a href="#org0dd09c0">plotutils.py</a></li>
<li><a href="#org808fc6c">color palettes (in Seaborn)</a></li>
<li><a href="#orga68a4d2">SciencePlot</a></li>
</ul>
</li>
<li><a href="#org047f6e8">Miscellaneous</a>
<ul>
<li><a href="#orgb082cf5">Split pdf files</a></li>
</ul>
</li>
<li><a href="#org5e52cde">PyLint</a>
<ul>
<li><a href="#orgea939b7">Documentation</a></li>
<li><a href="#org89da05a">.pylintrc</a></li>
</ul>
</li>
<li><a href="#org80fe79f">Cython</a>
<ul>
<li><a href="#orgb74238a">Example: primes.pyx</a></li>
</ul>
</li>
<li><a href="#org3ad6308">iPython tricks</a></li>
<li><a href="#orgadbc810">Jupyter</a>
<ul>
<li><a href="#org7125789">Configurations</a></li>
<li><a href="#orgb2bee6b">Tips</a></li>
<li><a href="#org9473ab4">Edit python notebooks over SSH</a></li>
<li><a href="#org52b95b9">Add kernel to jupyter</a></li>
</ul>
</li>
<li><a href="#orgd5d757d">Web</a>
<ul>
<li><a href="#org2512325">Downloading files from web using Python</a></li>
</ul>
</li>
<li><a href="#org0853eec">Logging</a>
<ul>
<li><a href="#orgb7016a2">Try logging into file</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-org2edf8d3" class="outline-2">
<h2 id="org2edf8d3">Python</h2>
<div class="outline-text-2" id="text-org2edf8d3">
</div>
<div id="outline-container-orgee23062" class="outline-3">
<h3 id="orgee23062">Short notes on Python programming</h3>
<div class="outline-text-3" id="text-orgee23062">
<p>
<code>meshgrid</code> :: <code>meshgrid</code> is a convenient command to general coordinates for multidimensional images. A tricky part about this function is the dimension of the generated arrays. Compare the following two commands:
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #e45649;">import</span> numpy <span style="color: #e45649;">as</span> np
<span style="color: #e45649;">print</span>(np.meshgrid(np.arange(0,5), np.arange(0,4))[0].shape)
<span style="color: #e45649;">print</span>(np.meshgrid(np.arange(0,5), np.arange(0,4), np.arange(0,3))[0].shape)
</pre>
</div>
</div>
</div>


<div id="outline-container-orgbf65b29" class="outline-3">
<h3 id="orgbf65b29">Tips</h3>
<div class="outline-text-3" id="text-orgbf65b29">
<ul class="org-ul">
<li>To make a parameter into a list, use <code>ensure_list(x)</code>?</li>

<li><p>
pdb: add breakpoints in another file:
</p>

<p>
<code>import sys;</code>
</p>

<p>
<code>sys.path.append(module)</code>
</p></li>

<li>Add a .py or .pyc file to ~/.ipython/profile_default/startup/ and it will be excuted every time you start up ipython</li>
</ul>
</div>
</div>

<div id="outline-container-org6b3b8fd" class="outline-3">
<h3 id="org6b3b8fd">Deepthought2</h3>
<div class="outline-text-3" id="text-org6b3b8fd">
</div>
<div id="outline-container-orge547838" class="outline-4">
<h4 id="orge547838">What I did</h4>
<div class="outline-text-4" id="text-orge547838">
<ol class="org-ol">
<li>Created ~/.mypython, ~/.mypython/lib, ~/.mypython/lib/python</li>
<li>Installed PYMSES in ~/.mypython/lib/python/pymses_4.0.0</li>
<li>Added the following to my .cshrc.mine file</li>
</ol>

<div class="org-src-container">
<pre class="src src-python">setenv PYTHONPATH ~/.mypython/lib/python
setenv PYTHONPATH ~/.mypython/lib/python/pymses_4.0.0:$PYTHONPATH
setenv PATH ${PATH}:~/.mypython/lib/python/pymses_4.0.0/<span style="color: #a626a4;">bin</span>
</pre>
</div>

<ol class="org-ol">
<li><p>
Installed mpi4pi in ~/.mypython (results in lib/python/)
</p>

<div class="org-src-container">
<pre class="src src-shell">       <span style="color: #a626a4;">cd</span> ~/.mypython/mpi4py-2.0.0
       python setup.py install --home ~/.mypython
</pre>
</div></li>

<li>Installed anaconda2 but it's not the default enviroment. To
activate it, do `exec bash1` and `source ~/.cshrc.local.python`. Some .bash files have that code in it, e.g. _~/lustre/Sam/work/profilePlot.bash</li>
</ol>
</div>
</div>

<div id="outline-container-org1e34578" class="outline-4">
<h4 id="org1e34578">Installing modules yourself</h4>
<div class="outline-text-4" id="text-org1e34578">
<p>
Following <a href="https://www.glue.umd.edu/hpcc/help/software/python.html">https://www.glue.umd.edu/hpcc/help/software/python.html</a>
</p>

<p>
The mechanism for installing a module is of course dependent on the module being installed, but most modern python modules support the `setup.py` mechanism described below. Assuming that is the case, the standard procedure for installing your own copy of a module is:
</p>

<ol class="org-ol">
<li>`module load python/X.Y.Z` to select the version of python you wish to use.</li>
<li>Create a directory to contain your python module, if not already done. Typically, you will want one directory to house all of the modules you are installing, so something like `mkdir ~/.mypython` will work. You should also create `lib` and `lib/python` directories beneath it, e.g. `mkdir ~/.mypython/lib ~/.mypython/lib/python`.</li>
<li>You will need to tell python where to look for your modules. Assuming you are putting your modules under `~/.mypython`, something like `setenv PYTHONPATH ~/.mypython/lib/python` (bash/bourne shell users should do `PYTHONPATH=~/.mypython/lib/python; export PYTHONPATH `). You probably want to add this to your `.cshrc.mine` or `.bashrc.mine`.</li>
<li>Download and unzip/untar/etc the module sources. Cd to the main module source directory (it should contain the file `setup.py`</li>
<li>Run `python setup.py install &#x2013;home ~/.mypython`</li>
</ol>

<p>
If all goes well, the module should now be installed under `~/.mypython` or wherever you specified. If there are executables associated with it, they should be in `~/.mypython/bin`. You should be able to import the module in python now (this assumes that PYTHONPATH is set as indicated above).
</p>

<p>
Of course, not all modules install easily. Unfortunately, the install process can fail in far too many ways than can be reasonably enumerated. If you are comfortable with building modules, you might find reasonable guidance from error messages to assist you in getting the module to build, but it is probably easiest to just request the module be installed to the system libraries.
</p>

<p>
## PEP 8 &#x2013; Style Guide for Python Code
</p>

<ul class="org-ul">
<li>Class names should normally use the CapWords convention.</li>
<li>Function names should be lowercase, with words separated by underscores as necessary to improve readability.</li>
<li>Variable names follow the same convention as function names.</li>
<li>Method Names and Instance Variables: Use the function naming rules
<ul class="org-ul">
<li>Use one leading underscore only for non-public methods and instance variables.</li>
</ul></li>
<li>Constants are usually defined on a module level and written in all capital letters with underscores separating words. Examples include `MAX_OVERFLOW` and `TOTAL`.</li>
</ul>

<p>
## Mallecious
</p>

<p>
Update Spyder: <code>pip install -U spyder</code>
</p>

<p>
An environment for Python 3.5 installed along with Python 2 by
</p>

<div class="org-src-container">
<pre class="src src-shell">    conda create -n py35 <span style="color: #6a1868;">python</span>=3.5 anaconda
</pre>
</div>

<p>
To activate this environment, type `source activate py35`; to deactivate, use `source deactivate`.
The enviroment path is on <b>/startrek/chongchong/anaconda2/envs/py35/bin/python</b>.
</p>
</div>
</div>

<div id="outline-container-orga353a55" class="outline-4">
<h4 id="orga353a55">MPI4PY</h4>
<div class="outline-text-4" id="text-orga353a55">
</div>
<div id="outline-container-org700882e" class="outline-5">
<h5 id="org700882e">Solution to a problem</h5>
<div class="outline-text-5" id="text-org700882e">
<p>
<a href="https://stackoverflow.com/questions/44573568/mpirun-doesnt-work-and-ask-to-change-tmpdir-variable-to-tmp">https://stackoverflow.com/questions/44573568/mpirun-doesnt-work-and-ask-to-change-tmpdir-variable-to-tmp</a>
</p>

<div class="org-src-container">
<pre class="src src-shell">   <span style="color: #a626a4;">export</span> <span style="color: #6a1868;">TMPDIR</span>=/tmp
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org8178acd" class="outline-3">
<h3 id="org8178acd">Plotting</h3>
<div class="outline-text-3" id="text-org8178acd">
</div>
<div id="outline-container-org0dd09c0" class="outline-4">
<h4 id="org0dd09c0">plotutils.py</h4>
<div class="outline-text-4" id="text-org0dd09c0">
</div>
<div id="outline-container-org4587b65" class="outline-5">
<h5 id="org4587b65">What does it do?</h5>
<div class="outline-text-5" id="text-org4587b65">
<ul class="org-ul">
<li>Set figure size to make the lines and texts larger</li>
<li>Set font size, including texts, ticks, etc</li>
<li>Useful function like set_plot_style, sized_figure_new, etc</li>
</ul>
</div>
</div>

<div id="outline-container-orgeafb463" class="outline-5">
<h5 id="orgeafb463">How to use?</h5>
<div class="outline-text-5" id="text-orgeafb463">
<ul class="org-ul">
<li><code>import plotutils</code></li>
<li>Use the following methods to enable latex and serif style
<ul class="org-ul">
<li><code>pu.set_plot_style(0)</code></li>
<li>Put a <code>-l</code> in argv, e.g. <code>python main.py -l</code></li>
</ul></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org808fc6c" class="outline-4">
<h4 id="org808fc6c">color palettes (in Seaborn)</h4>
<div class="outline-text-4" id="text-org808fc6c">
<p>
<a href="https://chrisalbon.com/python/data_visualization/seaborn_color_palettes/">https://chrisalbon.com/python/data_visualization/seaborn_color_palettes/</a>
</p>
</div>
</div>

<div id="outline-container-orga68a4d2" class="outline-4">
<h4 id="orga68a4d2">SciencePlot</h4>
<div class="outline-text-4" id="text-orga68a4d2">
<div class="org-src-container">
<pre class="src src-python"><span style="background-color: #f0f0f0;"> </span>   <span style="color: #e45649;">with</span> plt.style.context([<span style="color: #50a14f;">'science'</span>]):
<span style="background-color: #f0f0f0;"> </span>   <span style="background-color: #f0f0f0;"> </span>   <span style="color: #6a1868;">fig</span>, <span style="color: #6a1868;">ax</span> = plt.subplots()
<span style="background-color: #f0f0f0;"> </span>   <span style="background-color: #f0f0f0;"> </span>   <span style="color: #e45649;">for</span> p <span style="color: #e45649;">in</span> [10, 15, 20, 30, 50, 100]:
<span style="background-color: #f0f0f0;"> </span>   <span style="background-color: #f0f0f0;"> </span>   <span style="background-color: #f0f0f0;"> </span>   ax.plot(x, model(x, p), label=p)
<span style="background-color: #f0f0f0;"> </span>   <span style="background-color: #f0f0f0;"> </span>   ax.legend(title=<span style="color: #50a14f;">'Order'</span>)
<span style="background-color: #f0f0f0;"> </span>   <span style="background-color: #f0f0f0;"> </span>   ax.<span style="color: #a626a4;">set</span>(xlabel=r<span style="color: #50a14f;">'Voltage ($\frac{1}{mV}$)'</span>)
<span style="background-color: #f0f0f0;"> </span>   <span style="background-color: #f0f0f0;"> </span>   ax.<span style="color: #a626a4;">set</span>(ylabel=<span style="color: #50a14f;">'Current ($\mu$A)'</span>)
<span style="background-color: #f0f0f0;"> </span>   <span style="background-color: #f0f0f0;"> </span>   ax.<span style="color: #a626a4;">set</span>(title=<span style="color: #50a14f;">'this is title'</span>)
<span style="background-color: #f0f0f0;"> </span>   <span style="background-color: #f0f0f0;"> </span>   ax.autoscale(tight=<span style="color: #b751b6;">True</span>)    <span style="color: #9ca0a4;"># </span><span style="color: #9ca0a4;">to auto set x and y lim</span>
<span style="background-color: #f0f0f0;"> </span>   <span style="background-color: #f0f0f0;"> </span>   fig.savefig(<span style="color: #50a14f;">'figures/fig-t1-autoscale.pdf'</span>)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org047f6e8" class="outline-3">
<h3 id="org047f6e8">Miscellaneous</h3>
<div class="outline-text-3" id="text-org047f6e8">
</div>
<div id="outline-container-orgb082cf5" class="outline-4">
<h4 id="orgb082cf5">Split pdf files</h4>
<div class="outline-text-4" id="text-orgb082cf5">
<p>
from pdfsplit import *  # in a folder with pdfsplit.py
pagenumbers = [3,4,1,2]
slices = []
</p>

<p>
for i in pagenumbers:
slices.append(slice(i, i+1, None))
</p>

<p>
path = file_path
splitPages(path, slices)
</p>
</div>
</div>
</div>

<div id="outline-container-org5e52cde" class="outline-3">
<h3 id="org5e52cde">PyLint</h3>
<div class="outline-text-3" id="text-org5e52cde">
</div>
<div id="outline-container-orgea939b7" class="outline-4">
<h4 id="orgea939b7">Documentation</h4>
<div class="outline-text-4" id="text-orgea939b7">
<ul class="org-ul">
<li>Docu: <a href="https://pylint.readthedocs.io/en/latest/">https://pylint.readthedocs.io/en/latest/</a></li>
<li>Tutorial: <a href="https://pylint.readthedocs.io/en/latest/tutorial.html">https://pylint.readthedocs.io/en/latest/tutorial.html</a></li>
<li>Naming:
<a href="https://pylint.readthedocs.io/en/latest/user_guide/options.html">https://pylint.readthedocs.io/en/latest/user_guide/options.html</a></li>
</ul>
</div>
</div>

<div id="outline-container-org89da05a" class="outline-4">
<h4 id="org89da05a">.pylintrc</h4>
<div class="outline-text-4" id="text-org89da05a">
<p>
I have my own version of .pylintrc in ~/
</p>
</div>
</div>
</div>

<div id="outline-container-org80fe79f" class="outline-3">
<h3 id="org80fe79f">Cython</h3>
<div class="outline-text-3" id="text-org80fe79f">
</div>
<div id="outline-container-orgb74238a" class="outline-4">
<h4 id="orgb74238a">Example: primes.pyx</h4>
<div class="outline-text-4" id="text-orgb74238a">
<p>
See ~/Documents/projects/Python/cython/eg_prime
</p>
</div>
<div id="outline-container-org82b6800" class="outline-5">
<h5 id="org82b6800">Steps</h5>
<div class="outline-text-5" id="text-org82b6800">
<ol class="org-ol">
<li>Write primes.pyx</li>
<li>Write setup.py</li>
<li>Compile with <code>python setup.py build_ext --inplace</code></li>
<li>In python, do</li>
</ol>
<div class="org-src-container">
<pre class="src src-python"><span style="background-color: #f0f0f0;"> </span>   <span style="background-color: #f0f0f0;"> </span><span style="color: #e45649;">import</span> primes
<span style="background-color: #f0f0f0;"> </span>   <span style="background-color: #f0f0f0;"> </span>primes.primes(10)
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org3ad6308" class="outline-3">
<h3 id="org3ad6308">iPython tricks</h3>
<div class="outline-text-3" id="text-org3ad6308">
<p>
Autoreload module
</p>

<div class="org-src-container">
<pre class="src src-python">%load_ext autoreload
%autoreload 2
<span style="color: #e45649;">from</span> foo <span style="color: #e45649;">import</span> some_function
some_function()
<span style="color: #9ca0a4;"># </span><span style="color: #9ca0a4;">Do some edit to foo.py</span>
some_function()
</pre>
</div>
</div>
</div>

<div id="outline-container-orgadbc810" class="outline-3">
<h3 id="orgadbc810">Jupyter</h3>
<div class="outline-text-3" id="text-orgadbc810">
</div>
<div id="outline-container-org7125789" class="outline-4">
<h4 id="org7125789">Configurations</h4>
<div class="outline-text-4" id="text-org7125789">
<ul class="org-ul">
<li><a href="http://christopherroach.com/articles/jupyterlab-desktop-app/">Running Jupyter Lab as a Desktop Application</a> (<a href="file:///Users/chongchonghe/Documents/computer/local-html-bk/Running_Jupyter_Lab_as_a_Desktop_Application.html">local</a>)</li>

<li>vim mode: I have installed jwkvam/jupyterlab-vim on macOS and startrek.</li>

<li>Table of contents: Installed jupyterlab/jupyterlab-toc on macOS and startrek.</li>
</ul>
</div>
</div>

<div id="outline-container-orgb2bee6b" class="outline-4">
<h4 id="orgb2bee6b">Tips</h4>
<div class="outline-text-4" id="text-orgb2bee6b">
</div>
<div id="outline-container-org8ff61a6" class="outline-5">
<h5 id="org8ff61a6">Shortcuts</h5>
<div class="outline-text-5" id="text-org8ff61a6">
<p>
<code>Shift-Cmd '</code>: switch to previously used tab
</p>
</div>
</div>
</div>

<div id="outline-container-org9473ab4" class="outline-4">
<h4 id="org9473ab4">Edit python notebooks over SSH</h4>
<div class="outline-text-4" id="text-org9473ab4">
<p>
Source:
</p>
<ul class="org-ul">
<li><a href="https://fizzylogic.nl/2017/11/06/edit-jupyter-notebooks-over-ssh/">5 easy steps to start editing python notebooks over SSH - Willem's Fizzy Logic</a></li>
<li>Open jupyter as application: <a href="http://christopherroach.com/articles/jupyterlab-desktop-app/">http://christopherroach.com/articles/jupyterlab-desktop-app/</a></li>
</ul>
</div>

<div id="outline-container-orgab7ff0b" class="outline-5">
<h5 id="orgab7ff0b">Quick steps</h5>
<div class="outline-text-5" id="text-orgab7ff0b">
</div>
<ul class="org-ul">
<li><a id="orgdb63377"></a>Method 1<br />
<div class="outline-text-6" id="text-orgdb63377">
<ol class="org-ol">
<li><p>
Start a jupyter server on startrek with host 8088 (not via ssh):
</p>

<pre class="example">
      startrek &gt;&gt;&gt; jln
</pre></li>

<li>On my macOS, do <code>jlst2</code>, which will setup a SSH tunnel to startrek
and open a localhost in browser.</li>
</ol>
</div>
</li>

<li><a id="orgb14d4e2"></a>Method 2<br />
<div class="outline-text-6" id="text-orgb14d4e2">
<p>
On my macOS, do <code>jlst</code> in one terminal, which will start a jupyter
notebook on startrek via ssh, then <code>jlst2</code> in another terminal.
</p>
</div>
</li>
</ul>
</div>

<div id="outline-container-org8a9ac0d" class="outline-5">
<h5 id="org8a9ac0d">Steps</h5>
<div class="outline-text-5" id="text-org8a9ac0d">
<ol class="org-ol">
<li>Start jupyter notebook editor on server (via ssh): (<code>--ip=0.0.0.0</code> is necessary)</li>
</ol>

<pre class="example" id="org7873288">
nohup jupyter notebook --no-browser --ip=0.0.0.0 --port=8088 &amp;
</pre>

<ol class="org-ol">
<li>Setup a SSH tunnel to your server (short: <code>jlconnect 8088</code>):</li>
</ol>

<pre class="example" id="org5915ebb">
ssh -NL 8088:localhost:8088 &lt;remote_user&gt;@&lt;remote_host&gt;
</pre>

<ol class="org-ol">
<li>Open the notebook in your browser (short: <code>jlopen 8088</code>):</li>
</ol>

<pre class="example" id="orgfb00ffc">
open http://localhost:8089/lab
</pre>

<p>
I have set a password on st, which is stored in lastpass.
</p>
</div>
</div>
</div>

<div id="outline-container-org52b95b9" class="outline-4">
<h4 id="org52b95b9">Add kernel to jupyter</h4>
<div class="outline-text-4" id="text-org52b95b9">
<p>
Source: <a href="https://janakiev.com/blog/jupyter-virtual-envs/">Using Virtual Environments in Jupyter Notebook and Python - Parametric Thoughts</a>
</p>

<p>
On base Python:
</p>
<div class="org-src-container">
<pre class="src src-sh">pip install --user ipykernel
</pre>
</div>

<p>
Add your virtual environment to Jupyter
</p>
<div class="org-src-container">
<pre class="src src-sh">python -m ipykernel install --user --name=myenv
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgd5d757d" class="outline-3">
<h3 id="orgd5d757d">Web</h3>
<div class="outline-text-3" id="text-orgd5d757d">
</div>
<div id="outline-container-org2512325" class="outline-4">
<h4 id="org2512325">Downloading files from web using Python</h4>
<div class="outline-text-4" id="text-org2512325">
<p>
Using <code>wget</code>:
</p>
<div class="org-src-container">
<pre class="src src-sh">wget img-url
<span style="color: #9ca0a4;"># </span><span style="color: #9ca0a4;">or</span>
wget img-url --referer=img-url
</pre>
</div>

<p>
Using <code>requests</code>:
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #9ca0a4;"># </span><span style="color: #9ca0a4;">imported the requests library </span>
<span style="color: #e45649;">import</span> requests 
<span style="color: #6a1868;">image_url</span> = <span style="color: #50a14f;">"https://www.python.org/static/community_logos/python-logo-master-v3</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">-TM.png"</span>
<span style="background-color: #f0f0f0;"> </span> 
<span style="color: #9ca0a4;"># </span><span style="color: #9ca0a4;">URL of the image to be downloaded is defined as image_url </span>
<span style="color: #6a1868;">r</span> = requests.get(image_url) <span style="color: #9ca0a4;"># </span><span style="color: #9ca0a4;">create HTTP response object </span>
<span style="background-color: #f0f0f0;"> </span> 
<span style="color: #e45649;">with</span> <span style="color: #a626a4;">open</span>(<span style="color: #50a14f;">"python_logo.png"</span>,<span style="color: #50a14f;">'wb'</span>) <span style="color: #e45649;">as</span> f: 
<span style="background-color: #f0f0f0;"> </span>   <span style="color: #9ca0a4;"># </span><span style="color: #9ca0a4;">write the contents of the response (r.content) </span>
<span style="background-color: #f0f0f0;"> </span>   <span style="color: #9ca0a4;"># </span><span style="color: #9ca0a4;">to a new file in binary mode. </span>
<span style="background-color: #f0f0f0;"> </span>   f.write(r.content) 
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org0853eec" class="outline-3">
<h3 id="org0853eec">Logging</h3>
<div class="outline-text-3" id="text-org0853eec">
</div>
<div id="outline-container-orgb7016a2" class="outline-4">
<h4 id="orgb7016a2">Try logging into file</h4>
<div class="outline-text-4" id="text-orgb7016a2">
<div class="org-src-container">
<pre class="src src-python"><span style="color: #6a1868;">flogger</span> = tools.getlog(<span style="color: #a626a4;">__name__</span>, <span style="color: #50a14f;">"info"</span>)
<span style="color: #9ca0a4;"># </span><span style="color: #9ca0a4;">flogger.propagate = False</span>
<span style="color: #6a1868;">fileHandler</span> = logging.FileHandler(<span style="color: #50a14f;">'parameters.log'</span>, mode=<span style="color: #50a14f;">'a'</span>)
fileHandler.setLevel(logging.INFO)
flogger.addHandler(fileHandler)
flogger.info(<span style="color: #50a14f;">"\n"</span>)
<span style="color: #6a1868;">formatter</span> = logging.Formatter(<span style="color: #50a14f;">'%(asctime)s %(name)s: %(message)s'</span>)
fileHandler.setFormatter(formatter)

flooger.info(<span style="color: #50a14f;">"log message"</span>)
</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p>Author: ChongChong He</p><p></p><p><a href='https://www.astro.umd.edu/~chongchong/'>www.astro.umd.edu/~chongchong/</a></p>
</div>
</body>
</html>