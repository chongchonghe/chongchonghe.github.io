<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>ChongChong He's Emacs dotfile</title>
<meta name="author" content="Chong-Chong He"/>
<meta name="description" content=""/>
<meta name="keywords" content=""/>
<style type="text/css">
.underline { text-decoration: underline; }
</style>
<link rel="stylesheet" href="/Users/chongchonghe/local/reveal.js-master/dist/reveal.css"/>

<link rel="stylesheet" href="/Users/chongchonghe/local/reveal.js-master/dist/theme/moon.css" id="theme"/>


<!-- If the query includes 'print-pdf', include the PDF print sheet -->
<script>
    if( window.location.search.match( /print-pdf/gi ) ) {
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = '/Users/chongchonghe/local/reveal.js-master/css/print/pdf.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
    }
</script>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<style type="text/css">
html,button,input,select,textarea {  color: #484C66;}html {  font-size: 90%;  line-height: 1.4;}*,*:before,*:after {  -moz-box-sizing: border-box;  -webkit-box-sizing: border-box;  box-sizing: border-box;}a {  white-space: pre;  white-space: pre-wrap;  white-space: pre-line;  white-space: -pre-wrap;  white-space: -o-pre-wrap;  white-space: -moz-pre-wrap;  white-space: -hp-pre-wrap;  word-wrap: break-word;  text-decoration: none;}a:hover {  color: #0A4C89;}/* * Remove text-shadow in selection highlight: h5bp.com/i * These selection rule sets have to be separate. * Customize the background color to match your design. */::-moz-selection {  background: #0A4C89;  color: #FFF;  text-shadow: none;}::selection {  background: #0A4C89;  color: #FFF;  text-shadow: none;}/* * A better looking default horizontal rule */hr {  display: block;  height: 1px;  border: 0;  border-top: 1px dashed #CCC;  margin: 1em 0;  padding: 0;}/* * Remove the gap between images, videos, audio and canvas and the bottom of * their containers: h5bp.com/i/440 */audio,canvas,img,video {  vertical-align: middle;}/* * Remove default fieldset styles. */fieldset {  border: 0;  margin: 0;  padding: 0;}/* * Allow only vertical resizing of textareas. */textarea {  resize: vertical;}/* ==========================================================================   Author's custom styles   ========================================================================== */.todo,.done,.tag {  font-family: "Source Pro", Monaco, "Courier New", monospace;  padding: 0 0.3em;  background-color: #EEE;  border: 1px solid #CCC;}.todo {  color: #DD4433;}.done {  color: #44934B;}.tag {  font-size: 80%;  font-weight: normal;  margin: 0 0.3em;  display: none;}.timestamp {  color: #BEBEBE;}.timestamp-kwd {  color: #5F9EA0;}.right {  margin-left: auto;  margin-right: 0px;  text-align: right;}.left {  margin-left: 0px;  margin-right: auto;  text-align: left;}.center {  margin-left: auto;  margin-right: auto;  text-align: center;}.underline {  text-decoration: underline;}#postamble p,#preamble p {  font-size: 90%;  margin: .2em;}pre,code {  font-family: "Source Pro", Monaco, "Courier New", monospace;  padding-left: 0.3em;  padding-right: 0.3em;}pre {  font-size: 90%;  padding: 8pt;  overflow: auto;  white-space: pre;  word-wrap: normal;}pre.src {  position: relative;}pre.src:before {  display: none;  position: absolute;  background-color: #FFF;  top: 0.5em;  right: 0.5em;  padding: 4px;  border: 1px solid #CCC;}pre.src-sh:before {  content: "Shell Script";}pre.src-bash:before {  content: "Bash Script";}pre.src-emacs-lisp:before {  content: "Emacs Lisp";}pre.src-R:before {  content: "R";}pre.src-perl:before {  content: "Perl";}pre.src-java:before {  content: "Java";}pre.src-sql:before {  content: "SQL";}pre.src-c:before {  content: "C";}pre.src-cpp:before {  content: "C++";}pre.src-html:before {  content: "HTML";}table {  border-collapse: collapse;  display: block;  overflow-x: auto;}caption.t-above {  caption-side: top;}caption.t-bottom {  caption-side: bottom;}td, th {  vertical-align: top;  border: 1px solid #CCC;  padding: 0.5em;}th.right {  text-align: center;}th.left {  text-align: center;}th.center {  text-align: center;}td.right {  text-align: right;}td.left {  text-align: left;}td.center {  text-align: center;}dt {  font-weight: bold;}#footnotes {  border-top: 5px solid #0A4C89;  margin-bottom: 5em;}#footnotes h2 {  display: none;}#text-footnotes {  margin-top: 1em;}.footpara:nth-child(2) {  display: inline;}.footpara {  display: block;}.footdef sup:before {  content: "[";}.footdef sup:after {  content: "]";}.footdef p {  display: inline;}figure {  margin: 0;}figure img {  max-width: 100%;}figcaption {  text-align: center;  font-size: 0.8rem;}.inlinetask {  padding: 10px;  border: 2px solid gray;  margin: 10px;  background: #ffffcc;}#org-div-home-and-up {  text-align: right;  font-size: 70%;  white-space: nowrap;}textarea {  overflow-x: auto;}.linenr {  font-size: smaller;}.code-highlighted {  background-color: #ffff00;}.org-info-js_info-navigation {  border-style: none;}#org-info-js_console-label {  font-size: 10px;  font-weight: bold;  white-space: nowrap;}.org-info-js_search-highlight {  background-color: #ffff00;  color: #000000;  font-weight: bold;}p.verse,blockquote {  margin: 0;  padding: 0;  padding-left: 3%;  border-left: 5px solid #0A4C89;}body {  font-family: Lora, Palatino, Georgia, serif;  width: 92%;  max-width: 1024px;  margin: 0 auto;  background-color: #FFF;}h2 {  line-height: 1.62em;}.title {  margin: 0 0 2em 0;  line-height: 2em;  border-bottom: 5px solid #0A4C89;  text-align: center;}#postamble {  font-size: 80%;  line-height: 1.4em;  text-align: right;}h1, h2, h3, h4, h5, h6 {  font-family: "Source Sans Pro", sans-serif;  color: #222;}.outline-2 {  margin-bottom: 4em;}.outline-2 h2 {  border-bottom: 1px solid #CCC;}.outline-text-2 code, pre {  background-color: #EEE;}#table-of-contents {  display: none;  margin-left: 0.5em;}#text-table-of-contents ul {  padding-left: 1.8em;}#text-table-of-contents li {  list-style-type: circle;  margin: 0.4em 0;}#text-table-of-contents ul ul {  margin: 0;}#text-table-of-contents li li {  font-weight: normal;  font-size: 90%;  margin: 0;}#content {  overflow: hidden;  *zoom: 1;}/* ==========================================================================   EXAMPLE Media Queries for Responsive Design.   These examples override the primary ('mobile first') styles.   Modify as content requires.   ========================================================================== */@media only screen and (min-width: 35em) {  /* Style adjustments for viewports that meet the condition */}@media print, (-o-min-device-pixel-ratio: 5 / 4), (-webkit-min-device-pixel-ratio: 1.25), (min-resolution: 120dpi) {  /* Style adjustments for high resolution devices */}/* ==========================================================================   Print styles.   Inlined to avoid required HTTP connection: h5bp.com/r   ========================================================================== */@media print {  * {    background: transparent !important;    color: #000 !important;    /* Black prints faster: h5bp.com/s */    box-shadow: none !important;    text-shadow: none !important;  }  a,  a:visited {    text-decoration: underline;  }  a[href]:after {    content: " (" attr(href) ")";  }  abbr[title]:after {    content: " (" attr(title) ")";  }  /*   * Don't show links for images, or javascript/internal links   */  .ir a:after,  a[href^="javascript:"]:after,  a[href^="#"]:after {    content: "";  }  pre,  blockquote {    /* border: 1px solid #999; */    page-break-inside: avoid;  }  thead {    display: table-header-group;    /* h5bp.com/t */  }  tr,  img {    page-break-inside: avoid;  }  img {    max-width: 100% !important;  }  @page {    margin: 0.5cm;  }  p,  h2,  h3 {    orphans: 3;    widows: 3;  }  h2,  h3 {    page-break-after: avoid;  }  #table-of-contents {    display: block;    width: initial;    border: none;  }  #table-of-contents a {    text-decoration: none;  }}/* large screen */@media screen and (min-width: 40rem) {  html {    font-size: 100%;  }  #table-of-contents {    display: block;    padding: 1em;    width: 32%;    min-width: 18em;    float: right;    background-color: #EEE;    position: relative;    /* required by z-index */    z-index: 5000;    border: 1px solid #CCC;  }  .tag {    display: initial;  }}
</style>
<style type="text/css"> body { font-size: 20px; color:black; max-width: 1100px; } img { max-width: 100%; } </style>
<style type="text/css"> @media only screen and (min-width: 1000px) { body { /* font-family: 'Helvetica Neue', Helvetica, 'Adobe Caslon Pro', 'Big Caslon', 'Source Serif Pro'; */ /* font-family: 'Adobe Caslon Pro', 'Big Caslon', 'Source Serif Pro'; */ /* font-size: 16px; */ font-family: Cambria, 'Times New Roman'; font-size: 18px; margin-right: 0; margin-left: 330px; padding: 1em; width: auto; max-width: 900px; /* border-right: thin solid gray; */ } #table-of-contents { top: 10px; /* right: 0; */ left: 5px; bottom: 5px; position: fixed; display: block; z-index: 99; padding: 15px; font-size: 0.9em; line-height: 1.4em; width: 300px; /* height: 800px; */ overflow-y: auto; /* border-left: thin solid gray; */ border-right: thin solid gray; display: block; } /* a { */ /*     color: inherit; */ /*     text-decoration: underline; */ /* } */ ul { padding-left: 20px; } } #org-div-home-and-up{font-size:70%;text-align:left;white-space:nowrap} </style>
<style>
#myBtn {
display: none;
position: fixed;
bottom: 30px;
right: 40px;
z-index: 99;
font-size: 20px;
border: none;
outline: none;
background-color: lightgrey;
color: white;
cursor: pointer;
padding: 13px;
padding-top: 5px;
padding-bottom: 10px;
border-radius: 4px;
}

#myBtn:hover {
background-color: #555;
}
</style>
</head>
<body>
<div class="reveal">
<div class="slides">
<section id="sec-title-slide"><h1 class="title">ChongChong He's Emacs dotfile</h1><p class="subtitle"></p>
<h2 class="author">Chong-Chong He</h2><p class="date">Created: 2022-11-18 Fri 00:10</p>
</section>
<section id="sec-table-of-contents"><nav id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#/slide-org6da3b4d">1. About</a>
<ul>
<li><a href="#/slide-org214b04c">1.1. If you want to use this dotfile</a></li>
<li><a href="#/slide-org8451c16">1.2. How to update this dotfile</a></li>
<li><a href="#/slide-orga53bdd4">1.3. Editing tips</a></li>
<li><a href="#/slide-org0d1481e">1.4. Resources</a>
<ul>
<li><a href="#/slide-org3421581">1.4.1. Articles</a></li>
<li><a href="#/slide-orgd474442">1.4.2. Emacs dotfile examples</a></li>
</ul>
</li>
<li><a href="#/slide-orgcbc8822">1.5. TODO</a></li>
<li><a href="#/slide-orgd88f4f0">1.6. Start to use this configuration</a></li>
<li><a href="#/slide-org14bb9e5">1.7. Dot emacs debugging</a></li>
</ul>
</li>
<li><a href="#/slide-orgfb28fc4">2. Basic usage</a></li>
<li><a href="#/slide-org9d1f8c7">3. Emacs initialization</a>
<ul>
<li><a href="#/slide-org8dc37b7">3.1. Initialization</a></li>
<li><a href="#/slide-org713a339">3.2. Add package sources</a></li>
<li><a href="#/slide-orgb817bae">3.3. Use-package</a>
<ul>
<li><a href="#/slide-orge54f357">3.3.1. Usage</a></li>
<li><a href="#/slide-orga0ad628">3.3.2. Config</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#/slide-orga149458">4. General configuration</a>
<ul>
<li><a href="#/slide-org4d018ef">4.1. Fundamentals</a></li>
<li><a href="#/slide-org5045bf5">4.2. Use CMD key for meta</a></li>
<li><a href="#/slide-org9d935b0">4.3. Reload</a></li>
<li><a href="#/slide-orgbd1d9e0">4.4. Column marker at 80</a></li>
<li><a href="#/slide-org7e48838">4.5. Set encoding</a></li>
<li><a href="#/slide-orga35539a">4.6. Compile</a></li>
<li><a href="#/slide-org9abcfb1">4.7. Shared functions</a></li>
<li><a href="#/slide-orgd5b5213">4.8. Clipboard (not working)</a></li>
<li><a href="#/slide-orgdb08786">4.9. default-text-scale</a></li>
<li><a href="#/slide-org207dfbd">4.10. Makefile mode indentation</a></li>
<li><a href="#/slide-org589758a">4.11. Indentation</a></li>
<li><a href="#/slide-org268e656">4.12. Miscellaneous</a></li>
</ul>
</li>
<li><a href="#/slide-org95e49ca">5. General tools</a>
<ul>
<li><a href="#/slide-orgb27dc97">5.1. Quick open files</a></li>
<li><a href="#/slide-orgb3b0080">5.2. Insert spaces as tab</a></li>
<li><a href="#/slide-org8b643b4">5.3. esup: init profiling</a></li>
<li><a href="#/slide-org0de2e11">5.4. crux: A Collection of Ridiculously Useful eXtensions for Emacs</a></li>
</ul>
</li>
<li><a href="#/slide-org7e7d137">6. evil</a></li>
<li><a href="#/slide-org14b40c1">7. org-mode</a>
<ul>
<li><a href="#/slide-org114e64b">7.1. Usage</a>
<ul>
<li><a href="#/slide-orgdf7f85f">7.1.1. Key-bindings</a></li>
<li><a href="#/slide-org56fb706">7.1.2. My org files</a></li>
<li><a href="#/slide-org9b93b3d">7.1.3. Reference</a></li>
</ul>
</li>
<li><a href="#/slide-org00806e3">7.2. Basic configurations</a></li>
<li><a href="#/slide-org047e00c">7.3. Key-bindings</a>
<ul>
<li><a href="#/slide-org9ea882c">7.3.1. Local keys</a></li>
<li><a href="#/slide-org45a5a74">7.3.2. key-bindings in evil mode</a></li>
<li><a href="#/slide-orgd8c4bfc">7.3.3. rename-file-and-buffer</a></li>
<li><a href="#/slide-org5777f07">7.3.4. evil-org-mode</a></li>
<li><a href="#/slide-org56de24d">7.3.5. org-evil</a></li>
</ul>
</li>
<li><a href="#/slide-org3c015d0">7.4. Appearance</a></li>
<li><a href="#/slide-orgac7b2f1">7.5. Embed local video</a></li>
<li><a href="#/slide-orgb6a8de7">7.6. org babel</a></li>
<li><a href="#/slide-org9df82ba">7.7. org-todo and org-agenda</a>
<ul>
<li><a href="#/slide-org901f074">7.7.1. Config</a></li>
<li><a href="#/slide-org6246364">7.7.2. org-super-agenda: group agenda items into sections</a></li>
<li><a href="#/slide-org29e4722">7.7.3. Todo and Priority</a></li>
<li><a href="#/slide-orgd8f5618">7.7.4. Org capture</a></li>
<li><a href="#/slide-org26ff9e0">7.7.5. Exporting to LaTeX</a></li>
</ul>
</li>
<li><a href="#/slide-org0d82f5b">7.8. org-journal</a></li>
<li><a href="#/slide-org926b4c9">7.9. org-caldav (unfinished)</a></li>
<li><a href="#/slide-org54ab21a">7.10. org-refile</a></li>
<li><a href="#/slide-org7abe00a">7.11. org-present</a></li>
<li><a href="#/slide-org4491dd1">7.12. org-toggl</a></li>
<li><a href="#/slide-org1663154">7.13. org file apps</a></li>
<li><a href="#/slide-org66d20fb">7.14. exec-path-from-shell</a></li>
<li><a href="#/slide-org226080a">7.15. org latex preview</a></li>
<li><a href="#/slide-orgdf3b413">7.16. org export</a></li>
<li><a href="#/slide-org36224c0">7.17. Publishing</a>
<ul>
<li><a href="#/slide-orgb70ad19">7.17.1. From publish.el</a></li>
<li><a href="#/slide-org6437886">7.17.2. Other</a></li>
</ul>
</li>
<li><a href="#/slide-org27e303e">7.18. Bibtex citations</a>
<ul>
<li><a href="#/slide-org8e5edc1">7.18.1. org-cite</a></li>
<li><a href="#/slide-orgdec5966">7.18.2. org-ref</a></li>
</ul>
</li>
<li><a href="#/slide-org347ea0d">7.19. plain-org-wiki</a></li>
<li><a href="#/slide-orgb0ace08">7.20. Hyperlink to a macOS Mail message</a></li>
<li><a href="#/slide-org9e4de3a">7.21. org-fancy-priorities</a></li>
<li><a href="#/slide-org3bee26e">7.22. org-reveal: org presentation</a></li>
<li><a href="#/slide-orgc5443ba">7.23. org preview</a></li>
<li><a href="#/slide-orge9ba622">7.24. org-hugo</a></li>
<li><a href="#/slide-org096a82d">7.25. ox-gfm</a></li>
<li><a href="#/slide-org60b72a1">7.26. liveorg</a></li>
<li><a href="#/slide-org7086dc8">7.27. org-inline-pdf</a></li>
<li><a href="#/slide-orge8201eb">7.28. LibreOffice</a></li>
<li><a href="#/slide-orga04fe45">7.29. Formats in Chinese language</a></li>
<li><a href="#/slide-orgc038799">7.30. fragtog-mode</a></li>
<li><a href="#/slide-orgf25a24f">7.31. Parsing file links</a></li>
</ul>
</li>
<li><a href="#/slide-org6f7720c">8. yasnippet</a>
<ul>
<li><a href="#/slide-org8e2c7ad">8.1. Usage</a></li>
<li><a href="#/slide-org1c7bbf4">8.2. Available snippets</a></li>
<li><a href="#/slide-orgc66f90a">8.3. Config</a></li>
</ul>
</li>
<li><a href="#/slide-orge438ffa">9. helm</a></li>
<li><a href="#/slide-org328793a">10. python</a>
<ul>
<li><a href="#/slide-org446c1bb">10.1. Basics</a></li>
<li><a href="#/slide-org6452b54">10.2. Jedi</a></li>
<li><a href="#/slide-orgcc56227">10.3. elpy</a></li>
<li><a href="#/slide-orgf0d4fec">10.4. old</a></li>
<li><a href="#/slide-org58cd9d3">10.5. Snippets</a></li>
<li><a href="#/slide-org7058cdf">10.6. Anaconda-mode</a></li>
</ul>
</li>
<li><a href="#/slide-orga246e33">11. Jupyter notebook</a></li>
<li><a href="#/slide-orgee26b96">12. Julia mode</a></li>
<li><a href="#/slide-org60d95e8">13. C++ mode</a></li>
<li><a href="#/slide-org40ae444">14. Fortran mode</a></li>
<li><a href="#/slide-org3c45f8d">15. Markdown</a>
<ul>
<li><a href="#/slide-orgf6c595b">15.1. Links</a></li>
<li><a href="#/slide-org10f7241">15.2. Key-bindings</a></li>
<li><a href="#/slide-org9b0f691">15.3. Basic configures</a></li>
<li><a href="#/slide-org1b54c12">15.4. Livedown</a></li>
<li><a href="#/slide-org29a4098">15.5. Marked 2.app</a></li>
<li><a href="#/slide-org7120b3f">15.6. Beautify</a></li>
</ul>
</li>
<li><a href="#/slide-org6066c33">16. Latex</a>
<ul>
<li><a href="#/slide-org44f8848">16.1. Sources</a></li>
<li><a href="#/slide-org2a41f22">16.2. Basics</a></li>
<li><a href="#/slide-org7e02bf9">16.3. citation</a></li>
<li><a href="#/slide-orgde43741">16.4. cdlatex</a></li>
<li><a href="#/slide-org495830e">16.5. Insert  string</a></li>
</ul>
</li>
<li><a href="#/slide-org0902b7f">17. Spell check</a>
<ul>
<li><a href="#/slide-orgbb08692">17.1. flyspell and ispell</a></li>
<li><a href="#/slide-orgd45f0ff">17.2. langtool</a></li>
</ul>
</li>
<li><a href="#/slide-org20866d7">18. Math preview</a></li>
<li><a href="#/slide-orgcd6059e">19. Other packages</a>
<ul>
<li><a href="#/slide-orga2ebdec">19.1. windresize</a></li>
<li><a href="#/slide-org741223b">19.2. clipboard2org (not working)</a></li>
<li><a href="#/slide-orgf05cb26">19.3. html2org-clipboard</a></li>
</ul>
</li>
<li><a href="#/slide-org30ee3ba">20. Keybindings</a>
<ul>
<li><a href="#/slide-org0c0b3c7">20.1. Make swithing windows easier</a></li>
<li><a href="#/slide-org53d1c5c">20.2. Super keys</a></li>
<li><a href="#/slide-org5560457">20.3. Clipboard</a></li>
<li><a href="#/slide-orgafea0e4">20.4. Adjust window size</a></li>
</ul>
</li>
<li><a href="#/slide-org168de11">21. Smooth scroll</a></li>
<li><a href="#/slide-org5e9c501">22. tramp</a></li>
<li><a href="#/slide-org108cb72">23. hide-show</a></li>
<li><a href="#/slide-orgf996c3e">24. Some Automatics</a>
<ul>
<li><a href="#/slide-org144b469">24.1. Initial my tasks.org view</a></li>
</ul>
</li>
<li><a href="#/slide-org533e28f">25. dashboard</a></li>
<li><a href="#/slide-orgdec9998">26. Folding mode (not using)</a>
<ul>
<li><a href="#/slide-orgc8e78dc">26.1. Usage</a></li>
<li><a href="#/slide-org0867e1b">26.2. Config</a></li>
</ul>
</li>
<li><a href="#/slide-org614eb48">27. f.el</a></li>
<li><a href="#/slide-org727d256">28. layout-restore.el</a></li>
<li><a href="#/slide-orge624d7e">29. Neotree</a></li>
<li><a href="#/slide-org1c0f779">30. Elfeed</a>
<ul>
<li><a href="#/slide-orgb7e1c7a">30.1. Usage</a></li>
<li><a href="#/slide-org8b2fc39">30.2. Basic config</a></li>
<li><a href="#/slide-org9c4ad65">30.3. Trash</a></li>
</ul>
</li>
<li><a href="#/slide-org36cde44">31. PDF-tool</a></li>
<li><a href="#/slide-orgeccf926">32. Shell</a>
<ul>
<li><a href="#/slide-org74a7d0b">32.1. ansi-term</a></li>
</ul>
</li>
<li><a href="#/slide-orgb6d961b">33. Other major and minor modes</a>
<ul>
<li><a href="#/slide-orgdfc4cc6">33.1. matlab</a></li>
<li><a href="#/slide-orgc0de2ab">33.2. YAML</a></li>
<li><a href="#/slide-orgc47a53d">33.3. epa-file ??</a></li>
</ul>
</li>
<li><a href="#/slide-org3c3ca46">34. Themes and fonts</a>
<ul>
<li><a href="#/slide-org11ed5a8">34.1. Doom theme</a></li>
<li><a href="#/slide-org16a7112">34.2. variable-pitch-mode and mixed-pitch</a></li>
<li><a href="#/slide-org8d788e5">34.3. Chinese font</a></li>
<li><a href="#/slide-org554219c">34.4. Font size</a></li>
<li><a href="#/slide-org2d2a7a2">34.5. Window size and more</a></li>
<li><a href="#/slide-orge878901">34.6. Not used</a></li>
</ul>
</li>
<li><a href="#/slide-org102b608">35. Keybinding in the end</a>
<ul>
<li><a href="#/slide-org61b0474">35.1. org-mode keymap</a></li>
<li><a href="#/slide-orgc02c5ff">35.2. my-keys-minor-mode (not using)</a></li>
<li><a href="#/slide-orga2cad01">35.3. Global keys in the very end</a></li>
</ul>
</li>
<li><a href="#/slide-org1d08aff">36. Try (TODO)</a></li>
<li><a href="#/slide-orgd883458">37. Startup</a></li>
</ul>
</div>
</nav>
</section>
<button onclick="topFunction()" id="myBtn" title="Go to top">
&uarr;
</button>
<script>
//Get the button
var mybutton = document.getElementById("myBtn");

// When the user scrolls down 20px from the top of the document, show the button
window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
    mybutton.style.display = "block";
  } else {
    mybutton.style.display = "none";
  }
}

// When the user clicks on the button, scroll to the top of the document
function topFunction() {
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;
}
</script>

<section>
<section id="slide-org6da3b4d">
<h2 id="org6da3b4d"><span class="section-number-2">1.</span> About</h2>
<p>
This is my Emacs configuration file written in Org mode. It is an attempt to keep my <code>~/.emacs.d/init.el</code> file organized and readable, as Emacs configuration could be a life-long practice.
</p>

<p>
The general structure of this org-file is inspired by <a href="https://github.com/larstvei/dot-emacs/blob/master/init.org">this github repository</a>.
</p>

</section>
<section id="slide-org214b04c">
<h3 id="org214b04c"><span class="section-number-3">1.1.</span> If you want to use this dotfile</h3>
<ul>
<li>Make a backup of your own <code>~/.emacs.d/</code></li>
<li>Copy <code>init.org</code> and <code>init.el.tangle</code> to <code>~/.emacs.d/</code> and rename <code>init.el.tangle</code> to <code>init.el</code></li>
<li>Open your Emacs. Your Emacs will automatically export <code>init.org</code> into <code>init.el</code> which overwrites the originial <code>init.el</code>.</li>

</ul>

</section>
<section id="slide-org8451c16">
<h3 id="org8451c16"><span class="section-number-3">1.2.</span> How to update this dotfile</h3>
<ul>
<li>Edit this file.</li>
<li>Execute <code>C-c C-v t</code> . This will export everything in blocks that start with <code>#+BEGIN_SRC emacs-lisp</code> and end with <code>#+END_SRC</code> to init.el.</li>

</ul>

</section>
<section id="slide-orga53bdd4">
<h3 id="orga53bdd4"><span class="section-number-3">1.3.</span> Editing tips</h3>
<ul>
<li>Use <code>C-c '</code> to edit a code block in an individual buffer in an individual buffer.</li>
<li><code>lisp&lt;tab&gt;</code> to insert a <code>#+BEGIN_SRC emacs-lisp</code> <code>#+END_SRC</code> block.</li>

</ul>

</section>
<section id="slide-org0d1481e">
<h3 id="org0d1481e"><span class="section-number-3">1.4.</span> Resources</h3>
<p>
Here is a list of resources where I learned to configure Emacs
</p>

</section>
<section id="slide-org3421581">
<h4 id="org3421581"><span class="section-number-4">1.4.1.</span> Articles</h4>
<ul>
<li><a href="https://caiorss.github.io/Emacs-Elisp-Programming/Elisp_Programming.html#sec-1">Elisp Programming</a></li>

<li><a href="https://medium.com/@holzman.simon/emacs-on-macos-catalina-10-15-in-2019-79ff713c1ccc">Emacs on MacOS Catalina 10.15 in 2̶0̶1̶9̶ 2020</a></li>

<li><a href="https://blog.d46.us/advanced-emacs-startup/">Advanced Techniques for Reducing Emacs Startup Time</a></li>

<li>Syncing Custom Set Variables: <a href="https://assortedarray.com/posts/my-init-org-setup/">https://assortedarray.com/posts/my-init-org-setup/</a></li>

</ul>

</section>
<section id="slide-orgd474442">
<h4 id="orgd474442"><span class="section-number-4">1.4.2.</span> Emacs dotfile examples</h4>
<ul>
<li><a href="https://github.com/yanghaoxie/emacs-dotfile">https://github.com/yanghaoxie/emacs-dotfile</a></li>
<li><a href="https://akirakyle.com/dotfile/dotfile.html#org83b9c8b">One Dotfile to rule them all!</a></li>
<li>dakrone-dotfiles: <a href="https://github.com/dakrone/dakrone-dotfiles/blob/master/emacs.org">https://github.com/dakrone/dakrone-dotfiles/blob/master/emacs.org</a></li>
<li>Juan José García Ripoll: <a href="http://juanjose.garciaripoll.com/blog/my-emacs-windows-configuration/index.html">http://juanjose.garciaripoll.com/blog/my-emacs-windows-configuration/index.html</a></li>
<li><a href="https://huadeyu.tech/tools/emacs-setup-notes.html">极简Emacs开发环境配置</a></li>
<li><a href="https://hugocisneros.com/org-config/">https://hugocisneros.com/org-config/</a>: very nice</li>

</ul>

</section>
<section id="slide-orgcbc8822">
<h3 id="orgcbc8822"><span class="section-number-3">1.5.</span> TODO</h3>
<ul>
<li>what is ERC?</li>
<li><a href="http://ergoemacs.org/emacs/elisp_next_prev_user_buffer.html">Emacs: Next/Previous User Buffer</a></li>

</ul>

</section>
<section id="slide-orgd88f4f0">
<h3 id="orgd88f4f0"><span class="section-number-3">1.6.</span> Start to use this configuration</h3>
<p>
When this configuration is loaded for the first time, the init.el is the file that is loaded. It should look like this:
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim><span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">This file replaces itself with the actual configuration at first run.</span>

<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">We can't tangle without org!</span>
(<span style="color: #e45649;">require</span> '<span style="color: #b751b6;">org</span>)
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Open the configuration</span>
(find-file (concat user-emacs-directory <span style="color: #50a14f;">"init.org"</span>))
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">tangle it</span>
(org-babel-tangle)
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">load it</span>
(load-file (concat user-emacs-directory <span style="color: #50a14f;">"init.el"</span>))
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">finally byte-compile it</span>
(byte-compile-file (concat user-emacs-directory <span style="color: #50a14f;">"init.el"</span>))
</code></pre>
</div>

<p>
It tangles the org-file, so that this file is overwritten with the actual configuration. Afterwards, this is not needed, because we can use <code>C-c C-v t</code> to run <code>org-babel-tangle</code>, which does the same job.
</p>

<p>
Alternatively, we can add the following configuration to execute <code>org-babel-tangle</code> after changes. I prefer to not enable this and do it manually.
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">-*- mode: emacs-lisp -*-</span>

  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(defun tangle-init ()</span>
  <span style="color: #9ca0a4;">;;       </span><span style="color: #9ca0a4;">"If the current buffer is '</span><span style="color: #b751b6;">init.org</span><span style="color: #9ca0a4;">' the code-blocks are</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">tangled, and the tangled file is compiled."</span>
  <span style="color: #9ca0a4;">;;       </span><span style="color: #9ca0a4;">(when (equal (buffer-file-name)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">            ;; (expand-file-name (concat user-emacs-directory "init.org")))</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">            "/Users/chongchonghe/dotfiles/emacs/init.org")</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;"> ;; Avoid running hooks when tangling.</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;"> (let ((prog-mode-hook nil))</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">       (org-babel-tangle)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">       (byte-compile-file (concat user-emacs-directory "init.el")))))</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(add-hook 'after-save-hook 'tangle-init)</span>
</code></pre>
</div>

<p>
(Not in use) The following config is a common optimization to temporarily disable garbage collection during initialization.
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">-*- mode: emacs-lisp -*-</span>

  (<span style="color: #e45649;">lexical-let</span> ((old-gc-treshold gc-cons-threshold))
    (<span style="color: #e45649;">setq</span> gc-cons-threshold most-positive-fixnum)
    (add-hook 'after-init-hook
              (<span style="color: #e45649;">lambda</span> () (<span style="color: #e45649;">setq</span> gc-cons-threshold old-gc-treshold))))
</code></pre>
</div>

</section>
<section id="slide-org14bb9e5">
<h3 id="org14bb9e5"><span class="section-number-3">1.7.</span> Dot emacs debugging</h3>
<ul>
<li>Remember to delete init.elc as you update init.el</li>
<li><code>Debugger entered--Lisp error: (void-variable personal-keybindings)</code>
<ul>
<li><code>(use-package org)</code></li>

</ul></li>

</ul>

</section>
</section>
<section>
<section id="slide-orgfb28fc4">
<h2 id="orgfb28fc4"><span class="section-number-2">2.</span> Basic usage</h2>
<dl>
<dt>Bookmarks</dt><dd>Commands: <code>bookmark-set</code>, <code>helm-bookmarks</code></dd>
<dt>org-agenda</dt><dd>Shortcuts: <code>C-c c</code>: org-capture, <code>C-c a t</code>: org-todo, <code>C-c a a</code>: org-agenda</dd>

</dl>

</section>
</section>
<section>
<section id="slide-org9d1f8c7">
<h2 id="org9d1f8c7"><span class="section-number-2">3.</span> Emacs initialization</h2>
<div class="outline-text-2" id="text-3">
</div>
</section>
<section id="slide-org8dc37b7">
<h3 id="org8dc37b7"><span class="section-number-3">3.1.</span> Initialization</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Make startup faster by reducing the frequency of garbage</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">collection.  The default is 800 kilobytes.  Measured in bytes.</span>
  (<span style="color: #e45649;">setq</span> gc-cons-threshold 100000000)

  (package-initialize)
  (add-to-list 'load-path <span style="color: #50a14f;">"~/.emacs.d/pkgs"</span>)

  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(defvar myPackages</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">'(better-defaults</span>
  <span style="color: #9ca0a4;">;;     </span><span style="color: #9ca0a4;">;;ein</span>
  <span style="color: #9ca0a4;">;;     </span><span style="color: #9ca0a4;">elpy</span>
  <span style="color: #9ca0a4;">;;     </span><span style="color: #9ca0a4;">flycheck</span>
  <span style="color: #9ca0a4;">;;     </span><span style="color: #9ca0a4;">;;spolky   ; theme?</span>
  <span style="color: #9ca0a4;">;;     </span><span style="color: #9ca0a4;">;; py-autopep8</span>
  <span style="color: #9ca0a4;">;;     </span><span style="color: #9ca0a4;">))</span>
</code></pre>
</div>

</section>
<section id="slide-org713a339">
<h3 id="org713a339"><span class="section-number-3">3.2.</span> Add package sources</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">unless</span> (assoc-default <span style="color: #50a14f;">"melpa"</span> package-archives)
  (add-to-list 'package-archives '(<span style="color: #50a14f;">"melpa"</span> . <span style="color: #50a14f;">"https://melpa.org/packages/"</span>) t))
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(unless (assoc-default "org" package-archives)</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(add-to-list 'package-archives '("org" . "https://orgmode.org/elpa/") t))</span>
</code></pre>
</div>

<p>
Use <code>M-x package-refresh-contents</code> to reload the list of packages after adding these for the first time.
</p>

</section>
<section id="slide-orgb817bae">
<h3 id="orgb817bae"><span class="section-number-3">3.3.</span> Use-package</h3>
<div class="outline-text-3" id="text-3-3">
</div>
</section>
<section id="slide-orge54f357">
<h4 id="orge54f357"><span class="section-number-4">3.3.1.</span> Usage</h4>
<p>
To use local packages, use <code>:ensure nil</code>, or use <code>:load-path</code> keyword. e.g.
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  (<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">si-general</span>
    <span style="color: #a626a4;">:ensure</span> nil
    <span style="color: #a626a4;">:load-path</span> <span style="color: #50a14f;">"~/.emacs.d/lib"</span>)
</code></pre>
</div>

</section>
<section id="slide-orga0ad628">
<h4 id="orga0ad628"><span class="section-number-4">3.3.2.</span> Config</h4>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">This is only needed once, near the top of the file</span>
  (<span style="color: #e45649;">require</span> '<span style="color: #b751b6;">bind-key</span>)
  (<span style="color: #e45649;">eval-when-compile</span>
    <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Following line is not needed if use-package.el is in ~/.emacs.d</span>
    (add-to-list 'load-path <span style="color: #50a14f;">"~/.emacs.d/elpa"</span>)
    (<span style="color: #e45649;">require</span> '<span style="color: #b751b6;">use-package</span>))

  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(add-to-list 'load-path "~/.emacs.d/elpa")</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(require 'use-package)</span>

  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(unless (package-installed-p 'use-package)</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(package-refresh-contents)</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(package-install 'use-package))</span>

  (<span style="color: #e45649;">setq</span> use-package-always-ensure t)
  (<span style="color: #e45649;">setq</span> use-package-verbose t)

  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(use-package ein)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(use-package ein-notebook)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(use-package ein-subpackages)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(use-package better-defaults)</span>
</code></pre>
</div>

</section>
</section>
<section>
<section id="slide-orga149458">
<h2 id="orga149458"><span class="section-number-2">4.</span> General configuration</h2>
<div class="outline-text-2" id="text-4">
</div>
</section>
<section id="slide-org4d018ef">
<h3 id="org4d018ef"><span class="section-number-3">4.1.</span> Fundamentals</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim><span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">remove backup files (e.g. README.md~)</span>
(<span style="color: #e45649;">setq</span> make-backup-files nil)
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">enable line numbers globally</span>
(global-linum-mode t) 
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Shift-arrow to swith windows</span>
(windmove-default-keybindings)
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(global-unset-key (kbd "C-x C-c"))</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(global-unset-key (kbd "M-`")) ; not working</span>
(<span style="color: #e45649;">setq</span> default-fill-column 80)
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Auto revert mode</span>
(global-auto-revert-mode 1)
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Keep track of loading time</span>
(<span style="color: #e45649;">defconst</span> <span style="color: #6a1868;">emacs-start-time</span> (current-time))
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">start server at startup</span>
(server-start)
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Disable welcome screen</span>
(<span style="color: #e45649;">setq</span> inhibit-startup-screen t)
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Search only visible </span>
(<span style="color: #e45649;">setq</span> search-invisible nil)
(<span style="color: #e45649;">setq</span> column-number-mode t)
(<span style="color: #e45649;">setq</span> x-select-enable-clipboard t)
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(desktop-save-mode 1)</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">end file with new line ("\n")</span>
(<span style="color: #e45649;">setq</span> mode-require-final-newline t)
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">always follow symlinks</span>
(<span style="color: #e45649;">setq</span> find-file-visit-truename t)
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Save Place</span>
(save-place-mode nil)
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">always confirm with y or n, not yes or no.</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">https://www.emacswiki.org/emacs/YesOrNoP</span>
(<span style="color: #e45649;">defalias</span> '<span style="color: #a626a4;">yes-or-no-p</span> 'y-or-n-p)
</code></pre>
</div>

</section>
<section id="slide-org5045bf5">
<h3 id="org5045bf5"><span class="section-number-3">4.2.</span> Use CMD key for meta</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim><span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Use cmd key for meta</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">https://superuser.com/questions/297259/set-emacs-meta-key-to-be-the-mac-key</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq mac-option-key-is-meta nil</span>
<span style="color: #9ca0a4;">;;       </span><span style="color: #9ca0a4;">mac-command-key-is-meta t</span>
<span style="color: #9ca0a4;">;;       </span><span style="color: #9ca0a4;">mac-command-modifier 'meta</span>
<span style="color: #9ca0a4;">;;       </span><span style="color: #9ca0a4;">mac-option-modifier 'super)</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq mac-option-modifier 'super)</span>
(<span style="color: #e45649;">setq</span> mac-option-modifier 'meta)
(<span style="color: #e45649;">setq</span> mac-command-modifier 'super)
</code></pre>
</div>

</section>
<section id="slide-org9d935b0">
<h3 id="org9d935b0"><span class="section-number-3">4.3.</span> Reload</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my/reload-emacs-configuration</span> ()
  (<span style="color: #e45649;">interactive</span>)
  (load-file <span style="color: #50a14f;">"~/.emacs.d/init.el"</span>))
</code></pre>
</div>

</section>
<section id="slide-orgbd1d9e0">
<h3 id="orgbd1d9e0"><span class="section-number-3">4.4.</span> Column marker at 80</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  (<span style="color: #e45649;">setq-default</span>
   <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Column Marker at 80</span>
   whitespace-line-column 80
   whitespace-style       '(face lines-tail))
  (add-hook 'prog-mode-hook #'whitespace-mode)
</code></pre>
</div>

</section>
<section id="slide-org7e48838">
<h3 id="org7e48838"><span class="section-number-3">4.5.</span> Set encoding</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">set encoding</span>
  (set-language-environment <span style="color: #50a14f;">"utf-8"</span>)
  (set-default-coding-systems 'utf-8)
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(set-buffer-file-coding-system 'utf-8-unix)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(set-clipboard-coding-system 'utf-8-unix)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(set-file-name-coding-system 'utf-8-unix)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(set-keyboard-coding-system 'utf-8-unix)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(set-next-selection-coding-system 'utf-8-unix)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(set-selection-coding-system 'utf-8-unix)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(set-terminal-coding-system 'utf-8-unix)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq locale-coding-system 'utf-8)</span>
  (prefer-coding-system 'utf-8)
</code></pre>
</div>

</section>
<section id="slide-orga35539a">
<h3 id="orga35539a"><span class="section-number-3">4.6.</span> Compile</h3>
<p>
Define <code>compile-command</code> as <code>make</code>
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">setq</span> compile-command <span style="color: #50a14f;">"make "</span>)
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(global-set-key (kbd "C-c r") #'recompile)</span>
</code></pre>
</div>

<p>
Make the compilation window go away in a few seconds on success (ref: <a href="https://emacs.stackexchange.com/a/336">https://emacs.stackexchange.com/a/336</a>)
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim><span style="color: #9ca0a4;">; </span><span style="color: #9ca0a4;">from enberg on #emacs</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(add-hook 'compilation-finish-functions</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(lambda (buf str)</span>
<span style="color: #9ca0a4;">;;     </span><span style="color: #9ca0a4;">(if (null (string-match ".*exited abnormally.*" str))</span>
<span style="color: #9ca0a4;">;;         </span><span style="color: #9ca0a4;">;;no errors, make the compilation window go away in a few seconds</span>
<span style="color: #9ca0a4;">;;         </span><span style="color: #9ca0a4;">(progn</span>
<span style="color: #9ca0a4;">;;           </span><span style="color: #9ca0a4;">(run-at-time</span>
<span style="color: #9ca0a4;">;;            </span><span style="color: #9ca0a4;">"2 sec" nil 'delete-windows-on</span>
<span style="color: #9ca0a4;">;;            </span><span style="color: #9ca0a4;">(get-buffer-create "*compilation*"))</span>
<span style="color: #9ca0a4;">;;           </span><span style="color: #9ca0a4;">(message "No Compilation Errors!")))))</span>
</code></pre>
</div>

<p>
Make <code>*cimpilation*</code> buffer disappear after done (not working?)
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">setq</span> special-display-buffer-names
      '(<span style="color: #50a14f;">"*compilation*"</span>))

(<span style="color: #e45649;">setq</span> special-display-function
      (<span style="color: #e45649;">lambda</span> (buffer <span style="color: #986801;">&amp;optional</span> args)
        (split-window)
        (switch-to-buffer buffer)
        (get-buffer-window buffer 0)))
</code></pre>
</div>

</section>
<section id="slide-org9abcfb1">
<h3 id="org9abcfb1"><span class="section-number-3">4.7.</span> Shared functions</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  (<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">no-auto-fill</span> ()
    <span style="color: #84888b; font-style: italic;">"Turn off auto-fill-mode."</span>
    (auto-fill-mode -1)
    (<span style="color: #e45649;">setq</span> word-wrap t)
    )
</code></pre>
</div>

</section>
<section id="slide-orgd5b5213">
<h3 id="orgd5b5213"><span class="section-number-3">4.8.</span> Clipboard (not working)</h3>
<p>
simpleclip (<a href="https://github.com/rolandwalker/simpleclip">https://github.com/rolandwalker/simpleclip</a>)
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  (<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">simpleclip</span>
  <span style="color: #a626a4;">:defer</span> t
  <span style="color: #a626a4;">:config</span>
  (simpleclip-mode 1))
</code></pre>
</div>

</section>
<section id="slide-orgdb08786">
<h3 id="orgdb08786"><span class="section-number-3">4.9.</span> default-text-scale</h3>
<p>
<a href="https://github.com/purcell/default-text-scale">https://github.com/purcell/default-text-scale</a>
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">default-text-scale</span>
  <span style="color: #a626a4;">:defer</span> 2)
</code></pre>
</div>

</section>
<section id="slide-org207dfbd">
<h3 id="org207dfbd"><span class="section-number-3">4.10.</span> Makefile mode indentation</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(add-hook 'BSDmakefile-mode-hook #'(indent-according-to-mode 1))
</code></pre>
</div>

</section>
<section id="slide-org589758a">
<h3 id="org589758a"><span class="section-number-3">4.11.</span> Indentation</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">setq-default</span> indent-tabs-mode nil)
(<span style="color: #e45649;">setq-default</span> tab-width 2)
(<span style="color: #e45649;">setq</span> indent-line-function 'insert-tab)
(<span style="color: #e45649;">setq</span> electric-indent-mode nil)
</code></pre>
</div>

</section>
<section id="slide-org268e656">
<h3 id="org268e656"><span class="section-number-3">4.12.</span> Miscellaneous</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(add-to-list 'auto-mode-alist '(<span style="color: #50a14f;">"/\\.[</span><span style="color: #4078f2; font-weight: bold;">^</span><span style="color: #50a14f;">/]*rc"</span> . conf-mode) t)
</code></pre>
</div>

</section>
</section>
<section>
<section id="slide-org95e49ca">
<h2 id="org95e49ca"><span class="section-number-2">5.</span> General tools</h2>
<div class="outline-text-2" id="text-5">
</div>
</section>
<section id="slide-orgb27dc97">
<h3 id="orgb27dc97"><span class="section-number-3">5.1.</span> Quick open files</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(global-set-key (kbd <span style="color: #50a14f;">"C-c f w"</span>) 'isamert/toggle-side-work-org-buffer)
(global-set-key (kbd <span style="color: #50a14f;">"C-c f t"</span>) 'isamert/toggle-side-work-org-buffer)
(global-set-key (kbd <span style="color: #50a14f;">"C-c f j"</span>) 'isamert/toggle-side-journal-org-buffer)

(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">isamert/toggle-side-work-org-buffer</span> ()
  <span style="color: #84888b; font-style: italic;">"Toggle `bullet.org` in a side buffer for quick note taking.  The buffer is op</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold; font-style: italic;">ened in side window so it can't be accidentaly removed."</span>
  (<span style="color: #e45649;">interactive</span>)
  (isamert/toggle-side-buffer-with-file <span style="color: #50a14f;">"~/Dropbox/orgfiles/work.org"</span>))

(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">isamert/toggle-side-journal-org-buffer</span> ()
  <span style="color: #84888b; font-style: italic;">"Toggle `bullet.org` in a side buffer for quick note taking.  The buffer is op</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold; font-style: italic;">ened in side window so it can't be accidentaly removed."</span>
  (<span style="color: #e45649;">interactive</span>)
  (isamert/toggle-side-buffer-with-file <span style="color: #50a14f;">"~/Dropbox/orgfiles/y-journals.org"</span>))

(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">isamert/buffer-visible-p</span> (buffer)
 <span style="color: #84888b; font-style: italic;">"Check if given BUFFER is visible or not.  BUFFER is a string representing the </span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold; font-style: italic;">buffer name."</span>
  (<span style="color: #e45649;">or</span> (eq buffer (window-buffer (selected-window))) (get-buffer-window buffer)))

(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">isamert/display-buffer-in-side-window</span> (buffer)
  <span style="color: #84888b; font-style: italic;">"Just like `</span><span style="color: #b751b6; font-style: italic;">display-buffer-in-side-window</span><span style="color: #84888b; font-style: italic;">' but only takes a BUFFER and rest of</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold; font-style: italic;"> the parameters are for my taste."</span>
  (select-window
   (display-buffer-in-side-window
    buffer
    (list (cons 'side 'right)
          (cons 'slot 0)
          (cons 'window-width 84)
          (cons 'window-parameters (list (cons 'no-delete-other-windows t)
                                         (cons 'no-other-window nil)))))))

(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">isamert/remove-window-with-buffer</span> (the-buffer-name)
  <span style="color: #84888b; font-style: italic;">"Remove window containing given THE-BUFFER-NAME."</span>
  (mapc (<span style="color: #e45649;">lambda</span> (window)
          (<span style="color: #e45649;">when</span> (string-equal (buffer-name (window-buffer window)) the-buffer-na<span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">me)</span>
            (delete-window window)))
        (window-list (selected-frame))))

(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">isamert/toggle-side-buffer-with-file</span> (file-path)
  <span style="color: #84888b; font-style: italic;">"Toggle FILE-PATH in a side buffer. The buffer is opened in side window so it </span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold; font-style: italic;">can't be accidentaly removed."</span>
  (<span style="color: #e45649;">interactive</span>)
  (<span style="color: #e45649;">let</span> ((fname (file-name-nondirectory file-path)))
  (<span style="color: #e45649;">if</span> (isamert/buffer-visible-p fname)
      (isamert/remove-window-with-buffer fname)
    (isamert/display-buffer-in-side-window
     (<span style="color: #e45649;">save-window-excursion</span>
       (find-file file-path)
       (current-buffer))))))
</code></pre>
</div>

</section>
<section id="slide-orgb3b0080">
<h3 id="orgb3b0080"><span class="section-number-3">5.2.</span> Insert spaces as tab</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-space-as-tab</span> ()
      <span style="color: #84888b; font-style: italic;">"Insert spaces as tabs."</span>
      (<span style="color: #e45649;">interactive</span>)
      (<span style="color: #e45649;">setq-default</span> indent-tabs-mode nil)
      (<span style="color: #e45649;">setq</span> indent-line-function 'insert-tab)
      )
</code></pre>
</div>

</section>
<section id="slide-org8b643b4">
<h3 id="org8b643b4"><span class="section-number-3">5.3.</span> esup: init profiling</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim><span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Work around a bug where esup tries to step into the byte-compiled</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">version of `</span><span style="color: #b751b6;">cl-lib</span><span style="color: #9ca0a4;">', and fails horribly.</span>
(<span style="color: #e45649;">setq</span> esup-depth 0)
(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">esup</span>)
</code></pre>
</div>

</section>
<section id="slide-org0de2e11">
<h3 id="org0de2e11"><span class="section-number-3">5.4.</span> crux: A Collection of Ridiculously Useful eXtensions for Emacs</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">crux</span>
  <span style="color: #a626a4;">:defer</span> t)
</code></pre>
</div>


</section>
</section>
<section>
<section id="slide-org7e7d137">
<h2 id="org7e7d137"><span class="section-number-2">6.</span> evil</h2>
<p>
Ref: <a href="http://evgeni.io/posts/quick-start-evil-mode/">http://evgeni.io/posts/quick-start-evil-mode/</a>
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(add-to-list 'load-path "~/.emacs.d/evil")</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(require 'evil)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(evil-mode 1)</span>

  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(use-package evil</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">:ensure t</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">:defer .1</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">:init</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(setq evil-want-integration nil) ;; required by evil-collection</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(setq evil-want-keybinding nil)</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(setq evil-search-module 'evil-search)</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(setq evil-vsplit-window-right t) ;; like vim's '</span><span style="color: #b751b6;">splitright</span><span style="color: #9ca0a4;">'</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(setq evil-split-window-below t) ;; like vim's '</span><span style="color: #b751b6;">splitbelow</span><span style="color: #9ca0a4;">'</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">:config</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(evil-mode 1)</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(define-key evil-normal-state-map (kbd "&lt;remap&gt; &lt;evil-next-line&gt;") 'evil-</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">next-visual-line)</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(define-key evil-normal-state-map (kbd "&lt;remap&gt; &lt;evil-previous-line&gt;") 'e</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">vil-previous-visual-line)</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">;; Make horizontal movement cross lines</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(setq-default evil-cross-lines t)</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(setq key-chord-two-keys-delay 0.4)</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(key-chord-define evil-insert-state-map "jj" 'evil-normal-state)</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">)</span>

  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">DO NOT PUT EVIL INTO USE-PACKAGE because other part of this dotfile </span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">relies on it</span>
  (<span style="color: #e45649;">require</span> '<span style="color: #b751b6;">evil</span>)
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq evil-want-integration nil) ;; required by evil-collection</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq evil-want-keybinding nil)</span>
  (<span style="color: #e45649;">setq</span> evil-search-module 'evil-search)
  (<span style="color: #e45649;">setq</span> evil-vsplit-window-right t) <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">like vim's '</span><span style="color: #b751b6;">splitright</span><span style="color: #9ca0a4;">'</span>
  (<span style="color: #e45649;">setq</span> evil-split-window-below t) <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">like vim's '</span><span style="color: #b751b6;">splitbelow</span><span style="color: #9ca0a4;">'</span>
  (evil-mode 1)
  (define-key evil-normal-state-map (kbd <span style="color: #50a14f;">"&lt;remap&gt; &lt;evil-next-line&gt;"</span>) 'evil-next-<span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">visual-line)</span>
  (define-key evil-normal-state-map (kbd <span style="color: #50a14f;">"&lt;remap&gt; &lt;evil-previous-line&gt;"</span>) 'evil-p<span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">revious-visual-line)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Make horizontal movement cross lines</span>
  (<span style="color: #e45649;">setq-default</span> evil-cross-lines t)
  (<span style="color: #e45649;">setq</span> key-chord-two-keys-delay 0.4)
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(key-chord-define evil-insert-state-map "jj" 'evil-normal-state)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(define-key evil-insert-state-map (kbd "M-v") 'yank)</span>
  (define-key evil-insert-state-map (kbd <span style="color: #50a14f;">"C-e"</span>) 'move-end-of-line)
  (define-key evil-insert-state-map (kbd <span style="color: #50a14f;">"C-a"</span>) 'move-beginning-of-line)

  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(use-package evil-collection</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">:after evil</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">:ensure t</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">:config</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(evil-collection-init))</span>
</code></pre>
</div>

<p>
Unknown key-chord mode
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim><span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(key-chord-mode 1)</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">;; Add key-chord-mode to minor-mode-alist</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(if (not (assq 'key-chord-mode minor-mode-alist))</span>
<span style="color: #9ca0a4;">;;     </span><span style="color: #9ca0a4;">(setq minor-mode-alist</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">   (cons '(key-chord-mode " KeyC ")</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">   minor-mode-alist)))</span>
</code></pre>
</div>


<p>
Make movement keys work like they should: instead of go to next logical line, pressing 'j' leads to the next visual line. <a href="https://stackoverflow.com/questions/20882935/how-to-move-between-visual-lines-and-move-past-newline-in-evil-mode">Ref</a>.
</p>

<p>
(Disabled) Exit insert mode by pressing j and then j quickly. Reference: <a href="https://stackoverflow.com/questions/10569165/how-to-map-jj-to-esc-in-emacs-evil-mode">https://stackoverflow.com/questions/10569165/how-to-map-jj-to-esc-in-emacs-evil-mode</a>
</p>

<p>
Treat underscore as part of a word. <a href="https://emacs.stackexchange.com/a/27350/26582">Ref</a>.
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim><span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">For python</span>
(add-hook 'python-mode-hook #'(<span style="color: #e45649;">lambda</span> () (modify-syntax-entry ?_ <span style="color: #50a14f;">"w"</span>)))
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">julia</span>
(add-hook 'julia-mode-hook #'(<span style="color: #e45649;">lambda</span> () (modify-syntax-entry ?_ <span style="color: #50a14f;">"w"</span>)))
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">For Javascript</span>
(add-hook 'js2-mode-hook #'(<span style="color: #e45649;">lambda</span> () (modify-syntax-entry ?_ <span style="color: #50a14f;">"w"</span>)))
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">;; For ruby</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(add-hook 'ruby-mode-hook #'(lambda () (modify-syntax-entry ?_ "w")))</span>
</code></pre>
</div>

</section>
</section>
<section>
<section id="slide-org14b40c1">
<h2 id="org14b40c1"><span class="section-number-2">7.</span> org-mode</h2>
<p>
I use <a href="http://www.orgmode.org">Org Mode</a> to take notes, write my agenda, and do all sorts of stuff. I have the best writing experience with org-mode over all software.
</p>

</section>
<section id="slide-org114e64b">
<h3 id="org114e64b"><span class="section-number-3">7.1.</span> Usage</h3>
<div class="outline-text-3" id="text-7-1">
</div>
</section>
<section id="slide-orgdf7f85f">
<h4 id="orgdf7f85f"><span class="section-number-4">7.1.1.</span> Key-bindings</h4>
<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Editing</th>
<th scope="col" class="org-left">&#xa0;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>C-c i</code></td>
<td class="org-left">clock-in (and start toggl timer)</td>
</tr>

<tr>
<td class="org-left"><code>C-c C-p</code></td>
<td class="org-left">org-cliplink</td>
</tr>

<tr>
<td class="org-left"><code>C-c '</code></td>
<td class="org-left">edit babel code block.</td>
</tr>
</tbody>
</table>

<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">org-agenda</th>
<th scope="col" class="org-left">&#xa0;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>C-c t</code></td>
<td class="org-left">org-todo</td>
</tr>

<tr>
<td class="org-left"><code>C-c c</code></td>
<td class="org-left">org-capture</td>
</tr>

<tr>
<td class="org-left"><code>C-c a</code></td>
<td class="org-left">org agenda</td>
</tr>

<tr>
<td class="org-left"><code>f/b/.</code></td>
<td class="org-left">(without evil-org) move forward/backword/today in agenda view</td>
</tr>

<tr>
<td class="org-left"><code>[[</code> or <code>]]</code></td>
<td class="org-left">(with evil-org) agenda-earlier / agenda-later</td>
</tr>
</tbody>
</table>

<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">latex</th>
<th scope="col" class="org-left">&#xa0;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">C-p</td>
<td class="org-left">org-latex-preview</td>
</tr>

<tr>
<td class="org-left">C-M-p</td>
<td class="org-left">org-fragtog-mode</td>
</tr>
</tbody>
</table>

</section>
<section id="slide-org56fb706">
<h4 id="org56fb706"><span class="section-number-4">7.1.2.</span> My org files</h4>
<p>
Here are the Org files I use.
</p>

<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<tbody>
<tr>
<td class="org-left">TODO.org</td>
<td class="org-left">My main TODO file for academics and life</td>
</tr>

<tr>
<td class="org-left">agenda.org</td>
<td class="org-left">Agenda file</td>
</tr>

<tr>
<td class="org-left">todos.org</td>
<td class="org-left">Org todo file</td>
</tr>
</tbody>
</table>

</section>
<section id="slide-org9b93b3d">
<h4 id="org9b93b3d"><span class="section-number-4">7.1.3.</span> Reference</h4>
<ul>
<li><a href="http://doc.norang.ca/org-mode.html#Refiling">Org Mode - Organize Your Life In Plain Text!</a></li>
<li>org config: <a href="https://hugocisneros.com/org-config/">https://hugocisneros.com/org-config/</a></li>
<li><a href="https://github.com/jzohrab/emacs.d/blob/master/init.el#L31">https://github.com/jzohrab/emacs.d/blob/master/init.el#L31</a></li>
<li><a href="https://vincent.demeester.fr/articles/my_organizational_workflow.html">My Organizational Workflow</a></li>

</ul>

</section>
<section id="slide-org00806e3">
<h3 id="org00806e3"><span class="section-number-3">7.2.</span> Basic configurations</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim><span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(use-package org</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">:pin gnu)</span>
(<span style="color: #e45649;">require</span> '<span style="color: #b751b6;">org</span>)
(<span style="color: #e45649;">setq</span> org-image-actual-width (list 400))
(<span style="color: #e45649;">setq</span> org-hide-emphasis-markers t)
(add-hook 'LaTeX-mode-hook 'flyspell-mode)
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">inline image size</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq org-image-actual-width nil)</span>
(<span style="color: #e45649;">setq</span> org-blank-before-new-entry
      '((heading . t) (plain-list-item . nil)))
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Initial visibility: do not set anything.</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Default: showeverything</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq org-startup-folded t)</span>

(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">htmlize</span>
  <span style="color: #a626a4;">:defer</span> 10
  <span style="color: #a626a4;">:load-path</span> <span style="color: #50a14f;">"/Users/chongchonghe/dotfiles/emacs/packages/emacs-htmlize"</span>)
</code></pre>
</div>

<p>
Hide emphasis markers
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">org-toggle-hide-emphasis-markers</span> ()
  <span style="color: #84888b; font-style: italic;">"Toggle org-hide-emphasis-markers"</span>
  (<span style="color: #e45649;">interactive</span>)
  (<span style="color: #e45649;">if</span> org-hide-emphasis-markers
      (<span style="color: #e45649;">setq</span> org-hide-emphasis-markers nil)
    (<span style="color: #e45649;">setq</span> org-hide-emphasis-markers t)))
</code></pre>
</div>

<p>
Disable descriptive (hidden) links <a href="https://emacs.stackexchange.com/questions/5387/show-org-mode-hyperlink-as-plain-text/5417">(Reference)</a>. Disabled. Use <code>C-c C-l</code> to edit a link.
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq org-descriptive-links nil)</span>
</code></pre>
</div>

<p>
Auto indent mode as default
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  (<span style="color: #e45649;">setq</span> org-startup-indented t)
</code></pre>
</div>

<p>
Auto fill? No!
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(add-hook 'org-mode-hook 'turn-on-auto-fill)</span>
  (auto-fill-mode -1)
  (remove-hook 'text-mode-hook #'turn-on-auto-fill)
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  (<span style="color: #e45649;">setq</span> outline-blank-line 2)
</code></pre>
</div>

<p>
org-show-two-levels
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">org-show-two-levels</span> ()
  (<span style="color: #e45649;">interactive</span>)
  (org-content 2))
(<span style="color: #e45649;">with-eval-after-load</span> 'org
  (define-key org-mode-map (kbd <span style="color: #50a14f;">"C-c 2"</span>) 'org-show-two-levels))
(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">org-show-three-levels</span> ()
  (<span style="color: #e45649;">interactive</span>)
  (org-content 3))
(<span style="color: #e45649;">with-eval-after-load</span> 'org
  (define-key org-mode-map (kbd <span style="color: #50a14f;">"C-c 3"</span>) 'org-show-three-levels))
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Evaluate it after startup</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(add-hook 'org-mode-hook #'org-show-two-levels)</span>
(add-hook 'org-view-mode-hook '(text-scale-adjust))
</code></pre>
</div>

<p>
To execute a function at startup, put the following script at the end
of a file
</p>

<div class="org-src-container">

<pre  class="src src-org"   ><code trim>  ;; Local Variables&#58;
  ;; eval: (progn (org-show-two-levels) (text-scale-adjust 1))
  ;; End:
</code></pre>
</div>

<p>
org-cliplink 
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">org-cliplink</span>
  <span style="color: #a626a4;">:defer</span> 12
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">:bind ("C-c C-p" . 'org-cliplink)</span>
  <span style="color: #a626a4;">:config</span>
  (global-set-key (kbd <span style="color: #50a14f;">"C-x p i"</span>) 'org-cliplink)
)
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(require 'org-cliplink)</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(define-key org-mode-map (kbd "C-c C-p") 'org-cliplink)</span>
</code></pre>
</div>

<p>
Unknown: org-tempo
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq org-modules '(org-tempo))</span>
</code></pre>
</div>

<p>
<a href="https://github.com/calvinwyoung/org-autolist">org-autolist</a>: I don't use this anymore. Its annoying.
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim><span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(use-package org-autolist</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">:config</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(add-hook 'org-mode-hook (lambda () (org-autolist-mode)))</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">)</span>
</code></pre>
</div>

<p>
Use return to follow links in org-mode
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">setq</span> org-return-follows-link t)
</code></pre>
</div>

</section>
<section id="slide-org047e00c">
<h3 id="org047e00c"><span class="section-number-3">7.3.</span> Key-bindings</h3>
<div class="outline-text-3" id="text-7-3">
</div>
</section>
<section id="slide-org9ea882c">
<h4 id="org9ea882c"><span class="section-number-4">7.3.1.</span> Local keys</h4>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-export-and-refresh-safari</span> ()
  (<span style="color: #e45649;">interactive</span>)
  (org-html-export-to-html)
  (shell-command <span style="color: #50a14f;">"osascript /Users/chongchonghe/local/bin/refresh_safari.scpt"</span>))

(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-org-mode-config</span> ()
  (local-set-key <span style="color: #50a14f;">"\M-n"</span> 'outline-next-visible-heading)
  (local-set-key <span style="color: #50a14f;">"\M-p"</span> 'outline-previous-visible-heading)
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">table</span>
  (local-set-key <span style="color: #50a14f;">"\C-\M-w"</span> 'org-table-copy-region)
  (local-set-key <span style="color: #50a14f;">"\C-\M-y"</span> 'org-table-paste-rectangle)
  (local-set-key <span style="color: #50a14f;">"\C-\M-l"</span> 'org-table-sort-lines)
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">display images</span>
  (local-set-key <span style="color: #50a14f;">"\M-I"</span> 'org-toggle-iimage-in-org)
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">TODOlist</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">fix tab</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(local-set-key "\C-y" 'yank)</span>
  (local-set-key <span style="color: #50a14f;">"\M-h"</span> 'windmove-left)
  (local-set-key <span style="color: #50a14f;">"\C-cl"</span> 'grg-store-link)
  (local-set-key <span style="color: #50a14f;">"\C-cb"</span> 'org-switchb)
  (local-set-key <span style="color: #50a14f;">"\C-cp"</span> 'org-display-inline-images)
  (local-set-key <span style="color: #50a14f;">"\M-h"</span> 'org-metaleft)
  (local-set-key <span style="color: #50a14f;">"\M-l"</span> 'org-metaright)
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(local-set-key "\C-ce" 'org-html-export-to-html)</span>
  (local-set-key <span style="color: #50a14f;">"\C-ce"</span> 'my-export-and-refresh-safari)
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(local-set-key (kbd "s-p") (kbd "C-c C-e h h"))</span>
  (<span style="color: #e45649;">setq-local</span> truncate-lines 'nil)
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(org-indent-mode)  ;; not working?</span>
  (local-set-key (kbd <span style="color: #50a14f;">"S-&lt;down&gt;"</span>) 'org-priority-down)
  (local-set-key (kbd <span style="color: #50a14f;">"S-&lt;up&gt;"</span>) 'org-priority-up)
  )
(add-hook 'org-mode-hook 'my-org-mode-config)

<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">redefine because local-set-key is not working</span>
(define-key org-mode-map (kbd <span style="color: #50a14f;">"C-c e"</span>) 'my-export-and-refresh-safari)
(define-key org-mode-map (kbd <span style="color: #50a14f;">"S-&lt;down&gt;"</span>) 'org-priority-down)

(<span style="color: #e45649;">with-eval-after-load</span> 'evil-maps
  (define-key evil-normal-state-map (kbd <span style="color: #50a14f;">"C-p"</span>) 'org-latex-preview)
  (define-key evil-normal-state-map (kbd <span style="color: #50a14f;">"C-M-p"</span>) 'org-fragtog-mode))
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(define-key org-mode-map (kbd "C-p") 'org-latex-preview)</span>
</code></pre>
</div>

<p>
Not used:
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">https://orgmode.org/manual/Conflicts.html</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Make windmove work in Org mode:</span>
  (add-hook 'org-shiftup-final-hook 'windmove-up)
  (add-hook 'org-shiftleft-final-hook 'windmove-left)
  (add-hook 'org-shiftdown-final-hook 'windmove-down)
  (add-hook 'org-shiftright-final-hook 'windmove-right)
  (define-key org-mode-map (kbd <span style="color: #50a14f;">"M-h"</span>) 'windmove-left) <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">org conflicts</span>
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(evil-define-key 'normal org-mode-map (kbd ", ,") 'org-insert-structure-tem</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">plate)</span>
</code></pre>
</div>

</section>
<section id="slide-org45a5a74">
<h4 id="org45a5a74"><span class="section-number-4">7.3.2.</span> key-bindings in evil mode</h4>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">evil-define-key</span> 'normal org-mode-map (kbd <span style="color: #50a14f;">"&lt;tab&gt;"</span>) #'org-cycle)
</code></pre>
</div>

</section>
<section id="slide-orgd8c4bfc">
<h4 id="orgd8c4bfc"><span class="section-number-4">7.3.3.</span> rename-file-and-buffer</h4>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">source: http://steve.yegge.googlepages.com/my-dot-emacs-file</span>
  (<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-rename-file-and-buffer</span> (new-name)
    <span style="color: #84888b; font-style: italic;">"Renames both current buffer and file it's visiting to NEW-NAME."</span>
    (<span style="color: #e45649;">interactive</span> <span style="color: #50a14f;">"sNew name: "</span>)
    (<span style="color: #e45649;">let</span> ((name (buffer-name))
          (filename (buffer-file-name)))
      (<span style="color: #e45649;">if</span> (not filename)
          (message <span style="color: #50a14f;">"Buffer '</span><span style="color: #b751b6;">%s</span><span style="color: #50a14f;">' is not visiting a file!"</span> name)
        (<span style="color: #e45649;">if</span> (get-buffer new-name)
            (message <span style="color: #50a14f;">"A buffer named '</span><span style="color: #b751b6;">%s</span><span style="color: #50a14f;">' already exists!"</span> new-name)
          (<span style="color: #e45649;">progn</span>
            (rename-file filename new-name 1)
            (rename-buffer new-name)
            (set-visited-file-name new-name)
            (set-buffer-modified-p nil))))))
</code></pre>
</div>

</section>
<section id="slide-org5777f07">
<h4 id="org5777f07"><span class="section-number-4">7.3.4.</span> evil-org-mode</h4>
<p>
<a href="https://github.com/Somelauw/evil-org-mode">https://github.com/Somelauw/evil-org-mode</a>
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">evil-org</span>
  <span style="color: #a626a4;">:ensure</span> t
  <span style="color: #a626a4;">:after</span> org
  <span style="color: #a626a4;">:hook</span> (org-mode . (<span style="color: #e45649;">lambda</span> () evil-org-mode))
  <span style="color: #a626a4;">:config</span>
  (evil-org-set-key-theme '(textobjects insert navigation additional shift todo <span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">heading))</span>
  (<span style="color: #e45649;">require</span> '<span style="color: #b751b6;">evil-org-agenda</span>)
  (evil-org-agenda-set-keys)
  (<span style="color: #e45649;">setq</span> org-super-agenda-header-map (make-sparse-keymap))
  )

<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">'evil-org-agenda is replaced by the following</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(define-key org-agenda-mode-map "j" 'evil-next-line)</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(define-key org-agenda-mode-map "k" 'evil-previous-line)</span>

<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(use-package org-agenda</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">:bind (:map org-agenda-mode-map</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">       ("j" . org-agenda-next-item)</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">       ("k" . org-agenda-previous-time)))</span>

<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(use-package org-agenda</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">:config</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(define-key org-agenda-mode-map (kbd "j") #'org-agenda-next-item)</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(define-key org-agenda-mode-map (kbd "k") #'org-agenda-previous-item))</span>
</code></pre>
</div>

</section>
<section id="slide-org56de24d">
<h4 id="org56de24d"><span class="section-number-4">7.3.5.</span> org-evil</h4>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim><span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(use-package org-evil</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">:ensure t</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">:after org</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">)</span>
</code></pre>
</div>

</section>
<section id="slide-org3c015d0">
<h3 id="org3c015d0"><span class="section-number-3">7.4.</span> Appearance</h3>
<p>
Set up a font-lock substitution for list markers (I always use “-” for lists, but you can change this if you want) by replacing them with a centered-dot character: (<a href="https://zzamboni.org/post/beautifying-org-mode-in-emacs/">Ref</a>)
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(font-lock-add-keywords</span>
  <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">'org-mode</span>
  <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">'(("^ *\\([-]\\) "</span>
  <span style="color: #9ca0a4;">;;     </span><span style="color: #9ca0a4;">(0 (prog1 () (compose-region (match-beginning 1) (match-end 1) "&#8226;")))))</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">)</span>
</code></pre>
</div>

<p>
Proportional font, in different sizes, for the headlines. The fonts listed will be tried in sequence, and the first one found will be used.
</p>

<p>
Beautify org mode
</p>

<p>
Org-superstar (<a href="https://hugocisneros.com/org-config/">reference</a>)
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim><span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(use-package org-bullets</span>
<span style="color: #9ca0a4;">;;       </span><span style="color: #9ca0a4;">:init</span>
<span style="color: #9ca0a4;">;;       </span><span style="color: #9ca0a4;">(add-hook 'org-mode-hook #'org-bullets-mode)</span>
<span style="color: #9ca0a4;">;;       </span><span style="color: #9ca0a4;">(setq org-bullets-bullet-list '("&#9899;" "&#9670;" "&#9673;" "&#9654;" "&#9671;"))</span>
<span style="color: #9ca0a4;">;;       </span><span style="color: #9ca0a4;">)</span>
(<span style="color: #e45649;">setq-default</span> org-list-indent-offset 4)
(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">org-superstar</span>              <span style="color: #9ca0a4;">; </span><span style="color: #9ca0a4;">supersedes `</span><span style="color: #b751b6;">org-bullets</span><span style="color: #9ca0a4;">'</span>
  <span style="color: #a626a4;">:ensure</span>
  <span style="color: #a626a4;">:after</span> org
  <span style="color: #a626a4;">:config</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Every non-TODO headline now have no bullet</span>
  (<span style="color: #e45649;">setq</span> org-superstar-headline-bullets-list '(<span style="color: #50a14f;">"\u200b"</span>))
  (<span style="color: #e45649;">setq</span> org-superstar-leading-bullet <span style="color: #50a14f;">"\u200b"</span>)
  (<span style="color: #e45649;">setq</span> org-superstar-item-bullet-alist
  '((?+ . ?+)
    (?* . ?&#10148;)
    (?- . ?&#8226;)))
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Enable custom bullets for TODO items</span>
  (<span style="color: #e45649;">setq</span> org-superstar-special-todo-items t)
  (<span style="color: #e45649;">setq</span> org-superstar-todo-bullet-alist
  '((<span style="color: #50a14f;">"TODO"</span> <span style="color: #50a14f;">"&#9744;"</span>)
    (<span style="color: #50a14f;">"NEXT"</span> <span style="color: #50a14f;">"&#10002;"</span>)
    (<span style="color: #50a14f;">"HOLD"</span> <span style="color: #50a14f;">"&#10032;"</span>)
    (<span style="color: #50a14f;">"WAIT"</span> <span style="color: #50a14f;">"&#9749;"</span>)
    (<span style="color: #50a14f;">"CXLD"</span> <span style="color: #50a14f;">"&#10008;"</span>)
    (<span style="color: #50a14f;">"DONE"</span> <span style="color: #50a14f;">"&#10004;"</span>)))
  (org-superstar-restart))
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq org-ellipsis "&#10549;")</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq org-ellipsis "&#9660;")</span>
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">simple version, only change font size</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(custom-set-faces</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">'(org-level-1 ((t (:inherit outline-1 :height 1.75))))</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">'(org-level-2 ((t (:inherit outline-2 :height 1.5))))</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">'(org-level-3 ((t (:inherit outline-3 :height 1.25))))</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">'(org-level-4 ((t (:inherit outline-4 :height 1.1))))</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">'(org-level-5 ((t (:inherit outline-5))))</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">'(org-level-6 ((t (:inherit outline-6))))</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">'(org-level-7 ((t (:inherit outline-7))))</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">'(org-document-title ((t (:height 2.0 :underline nil))))</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">)</span>

  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">complex version: change font as well</span>
  (add-hook 'org-mode-hook 'visual-line-mode)
  (<span style="color: #e45649;">with-eval-after-load</span> 'org
    (<span style="color: #e45649;">setq</span> word-wrap t)
    )

  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">check (custom-theme-set-faces) in the appearance section</span>

  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(custom-set-faces</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">;; '(org-level-1 ((t (:inherit outline-1 :height 1.75))))</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">;; '(org-document-title ((t (:height 2.0 :underline nil))))</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">'(mu4e-view-face ((t (:inherit default :height 1.2))))</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">)</span>
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq org-ellipsis "&#10549;")</span>
</code></pre>
</div>

</section>
<section id="slide-orgac7b2f1">
<h3 id="orgac7b2f1"><span class="section-number-3">7.5.</span> Embed local video</h3>
<p>
Adapted from this method:
<a href="http://endlessparentheses.com/embedding-youtube-videos-with-org-mode-links.html">http://endlessparentheses.com/embedding-youtube-videos-with-org-mode-links.html</a>.
<code>[[mv:movie.mp4]]</code> will export a html5 video.
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">defvar</span> <span style="color: #6a1868;">mv-iframe-format</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">You may want to change your width and height.</span>
  (concat <span style="color: #50a14f;">"&lt;video"</span>
    <span style="color: #50a14f;">" height=\"400\""</span>
      <span style="color: #50a14f;">" autoplay"</span>
    <span style="color: #50a14f;">" style=\"display:block; margin: 0 auto;\" controls&gt;"</span>
    <span style="color: #50a14f;">" &lt;source"</span>
    <span style="color: #50a14f;">" src=\"%s\""</span>
    <span style="color: #50a14f;">" type=\"video/mp4\"&gt;"</span>
    <span style="color: #50a14f;">"&lt;/video&gt;"</span>))

<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">" &lt;figcaption&gt; \"%s\" &lt;/figcaption&gt; "</span>

(org-add-link-type
 <span style="color: #50a14f;">"mv"</span>
 (<span style="color: #e45649;">lambda</span> (handle)
   (browse-url
    (concat <span style="color: #50a14f;">"https://www.youtube.com/embed/"</span>
      handle)))
 (<span style="color: #e45649;">lambda</span> (path desc backend)
   (<span style="color: #e45649;">cl-case</span> backend
     (html (format mv-iframe-format
       path (<span style="color: #e45649;">or</span> desc <span style="color: #50a14f;">""</span>)))
     (latex (format <span style="color: #50a14f;">"</span><span style="color: #986801;">\</span><span style="color: #50a14f;">href{%s}{%s}"</span>
        path (<span style="color: #e45649;">or</span> desc <span style="color: #50a14f;">"video"</span>))))))
</code></pre>
</div>

<p>
Embed audio
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">defvar</span> <span style="color: #6a1868;">audio-iframe-format</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">You may want to change your width and height.</span>
  (concat <span style="color: #50a14f;">"&lt;iframe"</span>
    <span style="color: #50a14f;">" width=\"600\""</span>
    <span style="color: #50a14f;">" height=\"60\""</span>
    <span style="color: #50a14f;">" style=\"display:block; margin: 0\""</span>
    <span style="color: #50a14f;">" src=\"%s\"&gt;"</span>
    <span style="color: #50a14f;">"&lt;/iframe&gt;"</span>))

(org-add-link-type
 <span style="color: #50a14f;">"audio"</span>
 (<span style="color: #e45649;">lambda</span> (handle)
   (browse-url
    (concat <span style="color: #50a14f;">"https://www.youtube.com/embed/"</span>
      handle)))
 (<span style="color: #e45649;">lambda</span> (path desc backend)
   (<span style="color: #e45649;">cl-case</span> backend
     (html (format audio-iframe-format
       path (<span style="color: #e45649;">or</span> desc <span style="color: #50a14f;">""</span>)))
     (latex (format <span style="color: #50a14f;">"</span><span style="color: #986801;">\</span><span style="color: #50a14f;">href{%s}{%s}"</span>
        path (<span style="color: #e45649;">or</span> desc <span style="color: #50a14f;">"audio"</span>))))))
</code></pre>
</div>

<p>
Other unknown config
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">&lt;tab&gt; for '</span><span style="color: #b751b6;">indent-for-tab-command</span><span style="color: #9ca0a4;">'</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(evil-define-key 'insert org-mode-map (kbd "C-t") #'indent-for-tab-command)</span>

  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">load shared .el followed by Emacs specific config</span>
  <span style="color: #9ca0a4;">;;</span><span style="color: #9ca0a4;">(load-file "~/.my-elips/org.el")</span>

  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(require 'org-mu4e)</span>
</code></pre>
</div>

</section>
<section id="slide-orgb6a8de7">
<h3 id="orgb6a8de7"><span class="section-number-3">7.6.</span> org babel</h3>
<p>
Minimal org babel setup
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(org-babel-do-load-languages
 'org-babel-load-languages
 '((python . t)
   (R . t)
   (C . t)
   (shell . t)
   (ipython . t)
   (perl . t)))

<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">disable confirmation</span>
(<span style="color: #e45649;">setq</span>
 org-export-babel-evaluate nil
 org-confirm-python-evaluate nil
 org-confirm-babel-evaluate nil
 org-confirm-sh-evaluate nil
 org-confirm-C++-evaluate nil
 )
(<span style="color: #e45649;">setq</span> org-babel-python-command <span style="color: #50a14f;">"/Users/chongchonghe/anaconda3/bin/python"</span>)
(<span style="color: #e45649;">setq</span> org-babel-sh-command <span style="color: #50a14f;">"zsh"</span>)
</code></pre>
</div>

<p>
If you get the message <code>org-babel-execute-src-block: No org-babel-execute function for sh!</code> then you need to enable shell mode for babel. Do that by running this code block:
</p>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(require 'ob-shell)</span>
</code></pre>
</div>

<p>
Indentation
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">setq</span> org-src-preserve-indentation t) 
</code></pre>
</div>


<p>
To supress "risky local variable&#x2026;"
<a href="https://emacs.stackexchange.com/questions/21575/mark-a-local-variable-safe-for-any-value">https://emacs.stackexchange.com/questions/21575/mark-a-local-variable-safe-for-any-value</a>
</p>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim><span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">allow remembering risky variables</span>
(put 'org-babel-python-command 'safe-local-variable
     (<span style="color: #e45649;">lambda</span> (x) t))
</code></pre>
</div>

<p>
Ref: <a href="https://www.juliabloggers.com/julia-with-emacs-org-mode/">https://www.juliabloggers.com/julia-with-emacs-org-mode/</a>
</p>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim><span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(defun my-load-org-babel ()</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(interactive)</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">;; (require 'ess-site)</span>
(<span style="color: #e45649;">setq</span>  inferior-julia-program-name <span style="color: #50a14f;">"/Applications/Julia-1.6.app/Contents/Resourc</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">es/julia/bin/julia"</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">)</span>
(org-babel-do-load-languages
 'org-babel-load-languages
 '((julia . t)
   ))
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">)</span>

</code></pre>
</div>

<p>
Display errors and warnings in an org-mode code block. <a href="https://emacs.stackexchange.com/questions/2952/display-errors-and-warnings-in-an-org-mode-code-block">Ref</a>. 
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">defvar</span> <span style="color: #6a1868;">org-babel-eval-verbose</span> t
  <span style="color: #84888b; font-style: italic;">"A non-nil value makes `</span><span style="color: #b751b6; font-style: italic;">org-babel-eval</span><span style="color: #84888b; font-style: italic;">' display"</span>)

(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">org-babel-eval</span> (cmd body)
  <span style="color: #84888b; font-style: italic;">"Run CMD on BODY.</span>
<span style="color: #84888b; font-style: italic;">  If CMD succeeds then return its results, otherwise display</span>
<span style="color: #84888b; font-style: italic;">  STDERR with `</span><span style="color: #b751b6; font-style: italic;">org-babel-eval-error-notify</span><span style="color: #84888b; font-style: italic;">'."</span>
  (<span style="color: #e45649;">let</span> ((err-buff (get-buffer-create <span style="color: #50a14f;">" *Org-Babel Error*"</span>)) exit-code)
    (<span style="color: #e45649;">with-current-buffer</span> err-buff (erase-buffer))
    (<span style="color: #e45649;">with-temp-buffer</span>
      (insert body)
      (<span style="color: #e45649;">setq</span> exit-code
            (org-babel--shell-command-on-region
             (point-min) (point-max) cmd err-buff))
      (<span style="color: #e45649;">if</span> (<span style="color: #e45649;">or</span> (not (numberp exit-code)) (&gt; exit-code 0)
              (<span style="color: #e45649;">and</span> org-babel-eval-verbose (&gt; (buffer-size err-buff) 0))) <span style="color: #9ca0a4;">; </span><span style="color: #9ca0a4;">new c</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">ondition</span>
          (<span style="color: #e45649;">progn</span>
            (<span style="color: #e45649;">with-current-buffer</span> err-buff
              (org-babel-eval-error-notify exit-code (buffer-string)))
            nil)
        (buffer-string)))))

(<span style="color: #e45649;">setq</span> org-babel-eval-verbose t)
</code></pre>
</div>

<p>
ob-async: <a href="https://github.com/astahlman/ob-async">https://github.com/astahlman/ob-async</a>
</p>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">ob-async</span>)
</code></pre>
</div>

<p>
ob-ipython: <a href="https://github.com/gregsexton/ob-ipython">https://github.com/gregsexton/ob-ipython</a>
</p>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">ob-ipython</span>)
</code></pre>
</div>

</section>
<section id="slide-org9df82ba">
<h3 id="org9df82ba"><span class="section-number-3">7.7.</span> org-todo and org-agenda</h3>
<div class="outline-text-3" id="text-7-7">
</div>
</section>
<section id="slide-org901f074">
<h4 id="org901f074"><span class="section-number-4">7.7.1.</span> Config</h4>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">evil-define-key</span> 'normal org-mode-map (kbd <span style="color: #50a14f;">"t"</span>) 'org-todo)
(<span style="color: #e45649;">evil-define-key</span> 'normal org-mode-map (kbd <span style="color: #50a14f;">"C-t"</span>) 'org-todo-list)
(<span style="color: #e45649;">evil-define-key</span> 'normal org-mode-map (kbd <span style="color: #50a14f;">"C-t"</span>) 'org-todo-list)
(define-key evil-normal-state-map (kbd <span style="color: #50a14f;">"C-a"</span>) 'org-agenda)
(<span style="color: #e45649;">setq</span> org-directory <span style="color: #50a14f;">"~/Dropbox/orgfiles"</span>)
(<span style="color: #e45649;">setq</span> org-deadline-warning-days 7)

(<span style="color: #e45649;">with-eval-after-load</span> 'org
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq org-directory "/Users/chongchonghe/Dropbox/orgfiles")</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq org-agenda-files '("~/Dropbox/orgfiles/work.org"</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">        ;; "~/Dropbox/orgfiles/proj.org"</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">        "~/Dropbox/orgfiles/life.org"</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">        "~/Dropbox/orgfiles/y-journals.org"</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">        "~/Dropbox/orgfiles/done.org"</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">        "~/Dropbox/orgfiles/journal/"</span>
  <span style="color: #9ca0a4;">;;                          </span><span style="color: #9ca0a4;">))</span>
  (<span style="color: #e45649;">setq</span> org-agenda-files '(<span style="color: #50a14f;">"~/Dropbox/orgfiles"</span>))
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq org-agenda-files '("~/Dropbox/orgfiles/new.org"))</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq org-default-notes-file "~/Dropbox/orgfiles/new.org")</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq org-agenda-files "~/Dropbox/orgfiles/agenda.org")</span>
  (<span style="color: #e45649;">setq</span> org-default-notes-file <span style="color: #50a14f;">"~/Dropbox/orgfiles/work.org"</span>)
  (<span style="color: #e45649;">setq</span> org-agenda-confirm-kill t)
  <span style="color: #9ca0a4;">;;</span><span style="color: #9ca0a4;">open agenda in current window</span>
  (<span style="color: #e45649;">setq</span> org-agenda-window-setup (<span style="color: #e45649;">quote</span> current-window))
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(define-key org-agenda-mode-map (kbd "M-j") nil)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(define-key org-agenda-mode-map (kbd "M-k") nil)</span>
  )
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my/buffer-face-mode-variable</span> ()
  <span style="color: #84888b; font-style: italic;">"Set font to a variable width (proportional) fonts in current buffer"</span>
  (<span style="color: #e45649;">interactive</span>)
  (<span style="color: #e45649;">setq</span> buffer-face-mode-face '(<span style="color: #a626a4;">:family</span> <span style="color: #50a14f;">"Roboto Slab"</span>
                                <span style="color: #a626a4;">:height</span> 180
                                <span style="color: #a626a4;">:width</span> normal))
  (buffer-face-mode))

(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my/style-org-agenda</span>()
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(my/buffer-face-mode-variable)</span>
  (set-face-attribute 'org-agenda-date nil <span style="color: #a626a4;">:height</span> 1.1)
  (set-face-attribute 'org-agenda-date-today nil <span style="color: #a626a4;">:height</span> 1.1 <span style="color: #a626a4;">:slant</span> 'italic)
  (set-face-attribute 'org-agenda-date-weekend nil <span style="color: #a626a4;">:height</span> 1.1)
)

(add-hook 'org-agenda-mode-hook 'my/style-org-agenda)

(<span style="color: #e45649;">setq</span> org-agenda-breadcrumbs-separator <span style="color: #50a14f;">" &#10097; "</span>
      <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">org-agenda-current-time-string "&#9200; &#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480; now"</span>
      org-agenda-time-grid '((weekly today require-timed)
                             (800 1000 1200 1400 1600 1800 2000)
                             <span style="color: #50a14f;">"......"</span> <span style="color: #50a14f;">"&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;&#9480;"</span>)
      org-agenda-prefix-format '(
         <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">%c category (filename) %e effor, %t the HH:MM time-of-day, %s schedu</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">ling/deadline</span>
         (agenda . <span style="color: #50a14f;">" %i %-10:c%?-16t%-4e% s"</span>)
         <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(agenda . " %i %12t  %4e % s")</span>
         (todo . <span style="color: #50a14f;">" %i %-10:c"</span>)
         (tags . <span style="color: #50a14f;">" %i %-10:c"</span>)
         (search . <span style="color: #50a14f;">" %i %-10:c"</span>))
)

(<span style="color: #e45649;">setq</span> org-agenda-format-date (<span style="color: #e45649;">lambda</span> (date) (concat <span style="color: #50a14f;">"\n"</span> (make-string (window-wi<span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">dth) 9472)</span>
                                                    <span style="color: #50a14f;">"\n"</span>
                                                    (org-agenda-format-date-alig<span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">ned date))))</span>
(<span style="color: #e45649;">setq</span> org-cycle-separator-lines 2)
</code></pre>
</div>

<p>
A week view spanning the current day
</p>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">setq</span> org-agenda-span 7
    org-agenda-start-on-weekday nil
    <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">org-agenda-start-day "-3d"</span>
    )
</code></pre>
</div>

<p>
Not used
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">; ;; org-agenda</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(use-package org-projectile</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">:bind (("C-c n p" . org-projectile-project-todo-completing-read)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">    ;; ("C-c c" . org-capture)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">    ;; ("C-c a" . org-agenda)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">    )</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">:config</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(progn</span>
  <span style="color: #9ca0a4;">;;     </span><span style="color: #9ca0a4;">(setq org-projectile-projects-file "~/Dropbox/orgfiles/tasks.org")</span>
  <span style="color: #9ca0a4;">;;     </span><span style="color: #9ca0a4;">(setq org-agenda-files (append org-agenda-files (org-projectile-todo-fi</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">les)))</span>
  <span style="color: #9ca0a4;">;;     </span><span style="color: #9ca0a4;">(push (org-projectile-project-todo-entry) org-capture-templates))</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">:ensure t)</span>
</code></pre>
</div>

</section>
<section id="slide-org6246364">
<h4 id="org6246364"><span class="section-number-4">7.7.2.</span> org-super-agenda: group agenda items into sections</h4>
<p>
<a href="https://github.com/alphapapa/org-super-agenda">https://github.com/alphapapa/org-super-agenda</a>
</p>

<p>
Check examples of configuration <a href="https://github.com/alphapapa/org-super-agenda/blob/master/examples.org">here</a>. 
</p>

<ul class="org-ul">
<li><a id="orgda4572b"></a>Call org-super-agenda<br>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">org-super-agenda</span>
  <span style="color: #a626a4;">:defer</span> nil
  <span style="color: #a626a4;">:after</span> org-agenda
  <span style="color: #a626a4;">:config</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq org-super-agenda-groups</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;"> '((:auto-category t)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">   (:discard (:anything t)))</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;"> )</span>
  (org-super-agenda-mode)
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq org-super-agenda-groups</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;"> '((:auto-group t)))</span>
  )

</code></pre>
</div>
</li>

<li><a id="org24c5fe0"></a>by projects<br>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-todo-by-projects</span> ()
  (<span style="color: #e45649;">interactive</span>)
  (<span style="color: #e45649;">let</span> ((org-super-agenda-groups
   '((<span style="color: #a626a4;">:auto-group</span> t))))
    (org-todo-list))
  )
</code></pre>
</div>
</li>

<li><a id="org6ee18b7"></a>today<br>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-agenda-by-today</span> ()
  (<span style="color: #e45649;">interactive</span>)
  (<span style="color: #e45649;">let</span> ((org-super-agenda-groups
   '(
     (<span style="color: #a626a4;">:name</span> <span style="color: #50a14f;">"Schedule"</span>
      <span style="color: #a626a4;">:time-grid</span> t)
     (<span style="color: #a626a4;">:name</span> <span style="color: #50a14f;">"Today"</span>
      <span style="color: #a626a4;">:scheduled</span> today
      <span style="color: #a626a4;">:scheduled</span> past)
     (<span style="color: #a626a4;">:name</span> <span style="color: #50a14f;">"Due soon"</span>
      <span style="color: #a626a4;">:deadline</span> future
      <span style="color: #a626a4;">:order</span> 1)
     (<span style="color: #a626a4;">:name</span> <span style="color: #50a14f;">"Action"</span>
      <span style="color: #a626a4;">:tag</span> <span style="color: #50a14f;">"Action"</span>)
     )))
    (org-agenda-list))
  )

(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-agenda-by-today2</span> ()
  (<span style="color: #e45649;">interactive</span>)
  (<span style="color: #e45649;">let</span> ((org-super-agenda-groups
   '((<span style="color: #a626a4;">:log</span> t)  <span style="color: #9ca0a4;">; </span><span style="color: #9ca0a4;">Automatically named "Log"</span>
           (<span style="color: #a626a4;">:name</span> <span style="color: #50a14f;">"Schedule"</span>
      <span style="color: #a626a4;">:time-grid</span> t)
           (<span style="color: #a626a4;">:name</span> <span style="color: #50a14f;">"Today"</span>
                  <span style="color: #a626a4;">:scheduled</span> today)
           (<span style="color: #a626a4;">:name</span> <span style="color: #50a14f;">"Overdue"</span>
      <span style="color: #a626a4;">:face</span> (<span style="color: #a626a4;">:background</span> <span style="color: #50a14f;">"pink"</span>)
                  <span style="color: #a626a4;">:deadline</span> past)
           (<span style="color: #a626a4;">:habit</span> t)
           (<span style="color: #a626a4;">:name</span> <span style="color: #50a14f;">"Due today"</span>
                  <span style="color: #a626a4;">:deadline</span> today)
           (<span style="color: #a626a4;">:name</span> <span style="color: #50a14f;">"Due soon"</span>
                  <span style="color: #a626a4;">:deadline</span> future)
           (<span style="color: #a626a4;">:name</span> <span style="color: #50a14f;">"Unimportant"</span>
                  <span style="color: #a626a4;">:todo</span> (<span style="color: #50a14f;">"SOMEDAY"</span> <span style="color: #50a14f;">"MAYBE"</span> <span style="color: #50a14f;">"CHECK"</span> <span style="color: #50a14f;">"TO-READ"</span> <span style="color: #50a14f;">"TO-WATCH"</span>)
                  <span style="color: #a626a4;">:order</span> 100)
           (<span style="color: #a626a4;">:name</span> <span style="color: #50a14f;">"Waiting..."</span>
                  <span style="color: #a626a4;">:todo</span> <span style="color: #50a14f;">"WAITING"</span>
                  <span style="color: #a626a4;">:order</span> 98)
           (<span style="color: #a626a4;">:name</span> <span style="color: #50a14f;">"Scheduled earlier"</span>
                  <span style="color: #a626a4;">:scheduled</span> past))))
    (org-agenda-list))
)

(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-ttt</span> ()
  (<span style="color: #e45649;">interactive</span>)
  (<span style="color: #e45649;">let</span> ((org-super-agenda-groups
   '((<span style="color: #a626a4;">:log</span> t)
     (<span style="color: #a626a4;">:name</span> <span style="color: #50a14f;">"Sche"</span>
      <span style="color: #a626a4;">:time-grid</span> t))))
    (org-agenda-list))
)
</code></pre>
</div>
</li>

<li><a id="org54ee453"></a>Tag<br>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-todo-tag-low-energy</span> ()
  (<span style="color: #e45649;">interactive</span>)
  (<span style="color: #e45649;">let</span> ((org-super-agenda-groups
   '(
     (<span style="color: #a626a4;">:name</span> <span style="color: #50a14f;">"Lower Energy"</span>
      <span style="color: #a626a4;">:tag</span> <span style="color: #50a14f;">"lowEnergy"</span>)
     (<span style="color: #a626a4;">:discard</span> (<span style="color: #a626a4;">:anything</span> t))
     )))
    (org-todo-list))
  )

(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-todo-tag-while-lunch</span> ()
  (<span style="color: #e45649;">interactive</span>)
  (<span style="color: #e45649;">let</span> ((org-super-agenda-groups
   '(
     (<span style="color: #a626a4;">:name</span> <span style="color: #50a14f;">"While having lunch"</span>
      <span style="color: #a626a4;">:tag</span> <span style="color: #50a14f;">"lunch"</span>)
     (<span style="color: #a626a4;">:discard</span> (<span style="color: #a626a4;">:anything</span> t))
     )))
    (org-todo-list))
  )

(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-todo-tag-action</span> ()
  (<span style="color: #e45649;">interactive</span>)
  (<span style="color: #e45649;">let</span> ((org-super-agenda-groups
   '(
     (<span style="color: #a626a4;">:name</span> <span style="color: #50a14f;">"Action items"</span>
      <span style="color: #a626a4;">:tag</span> <span style="color: #50a14f;">"action"</span>)
     (<span style="color: #a626a4;">:discard</span> (<span style="color: #a626a4;">:anything</span> t))
     )))
    (org-todo-list))
  )

</code></pre>
</div>
</li>


<li><a id="orge8fa11c"></a>More<br>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq org-super-agenda-groups</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;"> '((:log t)  ; Automatically named "Log"</span>
  <span style="color: #9ca0a4;">;;         </span><span style="color: #9ca0a4;">(:name "Schedule"</span>
  <span style="color: #9ca0a4;">;;                </span><span style="color: #9ca0a4;">:time-grid t)</span>
  <span style="color: #9ca0a4;">;;         </span><span style="color: #9ca0a4;">(:name "Today"</span>
  <span style="color: #9ca0a4;">;;                </span><span style="color: #9ca0a4;">:scheduled today</span>
  <span style="color: #9ca0a4;">;;                </span><span style="color: #9ca0a4;">:deadline today</span>
  <span style="color: #9ca0a4;">;;                </span><span style="color: #9ca0a4;">:deadline past)</span>
  <span style="color: #9ca0a4;">;;         </span><span style="color: #9ca0a4;">(:name "Due soon"</span>
  <span style="color: #9ca0a4;">;;                </span><span style="color: #9ca0a4;">:deadline future)</span>
  <span style="color: #9ca0a4;">;;         </span><span style="color: #9ca0a4;">;; (:name "Unimportant"</span>
  <span style="color: #9ca0a4;">;;         </span><span style="color: #9ca0a4;">;;        :todo ("SOMEDAY" "MAYBE" "CHECK" "TO-READ" "TO-WATCH")</span>
  <span style="color: #9ca0a4;">;;         </span><span style="color: #9ca0a4;">;;        :order 100)</span>
  <span style="color: #9ca0a4;">;;         </span><span style="color: #9ca0a4;">;; (:name "Waiting..."</span>
  <span style="color: #9ca0a4;">;;         </span><span style="color: #9ca0a4;">;;        :todo "WAITING"</span>
  <span style="color: #9ca0a4;">;;         </span><span style="color: #9ca0a4;">;;        :order 98)</span>
  <span style="color: #9ca0a4;">;;         </span><span style="color: #9ca0a4;">;; (:name "Scheduled earlier"</span>
  <span style="color: #9ca0a4;">;;         </span><span style="color: #9ca0a4;">;;        :scheduled past)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">   )</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;"> )</span>

<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq org-super-agenda-groups</span>
<span style="color: #9ca0a4;">;;       </span><span style="color: #9ca0a4;">'(</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;"> ;; (:name "&#9200; Calendar" :time-grid t)</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;"> (:name "Today" ; Optionally specify section name</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">        :time-grid t  ; Items that appear on the time grid</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">        :todo "TODAY") ; Items that have this TODO keyword</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;"> (:name "&#9888; Overdue!" :deadline past)</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;"> (:name "&#9888; Overdue!" :scheduled past)</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;"> (:name "&#11088; Important" :priority "A")</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;"> (:name "Optional" :priority "D" :order 90)</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;"> (:auto-category t)))</span>

<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(let ((org-super-agenda-groups</span>
<span style="color: #9ca0a4;">;;        </span><span style="color: #9ca0a4;">'((:auto-category t))))</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(org-agenda-list))</span>
</code></pre>
</div>
</li>
</ul>


</section>
<section id="slide-org29e4722">
<h4 id="org29e4722"><span class="section-number-4">7.7.3.</span> Todo and Priority</h4>
<p>
To set the priority of the current headline, do <code>C-c ,</code>, or
<code>S-UP</code> / <code>S_DOWN</code>.
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">setq</span> org-default-priority ?A)
(<span style="color: #e45649;">setq</span> org-highest-priority ?A)
(<span style="color: #e45649;">setq</span> org-lowest-priority ?D)
<span style="color: #9ca0a4;">;;</span><span style="color: #9ca0a4;">set colours for priorities</span>
(<span style="color: #e45649;">setq</span> org-priority-faces '((?A . (<span style="color: #a626a4;">:foreground</span> <span style="color: #50a14f;">"#FF0000"</span> <span style="color: #a626a4;">:weight</span> bold))
         (?B . (<span style="color: #a626a4;">:foreground</span> <span style="color: #50a14f;">"#FF9815"</span> <span style="color: #a626a4;">:weight</span> bold))
         (?C . (<span style="color: #a626a4;">:foreground</span> <span style="color: #50a14f;">"#68DF40"</span>))
         (?D . (<span style="color: #a626a4;">:foreground</span> <span style="color: #50a14f;">"#11D3FF"</span>))))
<span style="color: #9ca0a4;">;;</span><span style="color: #9ca0a4;">Different bullets</span>
(<span style="color: #e45649;">setq</span> org-todo-keywords
      '((sequence <span style="color: #50a14f;">"TODO(t!)"</span> <span style="color: #50a14f;">"NEXT(n!)"</span> <span style="color: #50a14f;">"DOIN(o!)"</span> <span style="color: #50a14f;">"WAIT(w!)"</span> <span style="color: #50a14f;">"FLUP(f!)"</span> <span style="color: #50a14f;">"REFI(r</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">!)"</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;"> </span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">"|"</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;"> </span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">"(e!)"</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;"> </span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">"SCHE(s!)"</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;"> </span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">"CXLD(c!)"</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;"> </span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">"DONE(d!)"</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">))</span>
      org-todo-keyword-faces
      '((<span style="color: #50a14f;">"TODO"</span> . (<span style="color: #a626a4;">:foreground</span> <span style="color: #50a14f;">"magenta"</span> <span style="color: #a626a4;">:weight</span> bold))
  (<span style="color: #50a14f;">"DOIN"</span> . (<span style="color: #a626a4;">:foreground</span> <span style="color: #50a14f;">"blue"</span>))
  (<span style="color: #50a14f;">"FLUP"</span> . (<span style="color: #a626a4;">:foreground</span> <span style="color: #50a14f;">"orange"</span>))
  (<span style="color: #50a14f;">"REFI"</span> . (<span style="color: #a626a4;">:foreground</span> <span style="color: #50a14f;">"#A52A2A"</span>))
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">("CANCELLED" . (:foreground "white" :background "#4d4d4d" :weight bold))</span>
  (<span style="color: #50a14f;">"CXLD"</span> . (<span style="color: #a626a4;">:foreground</span> <span style="color: #50a14f;">"gray"</span>))
  (<span style="color: #50a14f;">"NEXT"</span> . <span style="color: #50a14f;">"#008080"</span>)
  (<span style="color: #50a14f;">"DONE"</span> . <span style="color: #50a14f;">"#333"</span>))
      org-agenda-skip-scheduled-if-done t
      org-agenda-skip-deadline-if-done t
      )

(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-org-set-dark-todo-faces</span> ()
  (<span style="color: #e45649;">setq</span> org-todo-keyword-faces
  '((<span style="color: #50a14f;">"TODO"</span> . org-warning)
    (<span style="color: #50a14f;">"DOIN"</span> . (<span style="color: #a626a4;">:foreground</span> <span style="color: #50a14f;">"yellow"</span>))
    (<span style="color: #50a14f;">"FLUP"</span> . (<span style="color: #a626a4;">:foreground</span> <span style="color: #50a14f;">"magenta"</span>))
    (<span style="color: #50a14f;">"REFI"</span> . (<span style="color: #a626a4;">:foreground</span> <span style="color: #50a14f;">"#A52A2A"</span>))
    <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">("CANCELLED" . (:foreground "white" :background "#4d4d4d" :weight bold))</span>
    (<span style="color: #50a14f;">"CXLD"</span> . (<span style="color: #a626a4;">:foreground</span> <span style="color: #50a14f;">"gray"</span>))
    (<span style="color: #50a14f;">"NEXT"</span> . <span style="color: #50a14f;">"#008080"</span>)
    (<span style="color: #50a14f;">"DONE"</span> . <span style="color: #50a14f;">"#333"</span>))))

(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-org-set-light-todo-faces</span> ()
  (<span style="color: #e45649;">setq</span> org-todo-keyword-faces
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">'(("TODO" . org-warning)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">'(("TODO" . (:foreground "purple"))</span>
  '((<span style="color: #50a14f;">"DOIN"</span> . (<span style="color: #a626a4;">:foreground</span> <span style="color: #50a14f;">"orange"</span>))
    (<span style="color: #50a14f;">"FLUP"</span> . (<span style="color: #a626a4;">:foreground</span> <span style="color: #50a14f;">"magenta"</span>))
    (<span style="color: #50a14f;">"REFI"</span> . (<span style="color: #a626a4;">:foreground</span> <span style="color: #50a14f;">"#A52A2A"</span>))
    <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">("CANCELLED" . (:foreground "white" :background "#4d4d4d" :weight bold))</span>
    (<span style="color: #50a14f;">"CXLD"</span> . (<span style="color: #a626a4;">:foreground</span> <span style="color: #50a14f;">"gray"</span>))
    (<span style="color: #50a14f;">"NEXT"</span> . <span style="color: #50a14f;">"#008080"</span>)
    (<span style="color: #50a14f;">"DONE"</span> . <span style="color: #50a14f;">"#333"</span>))))
</code></pre>
</div>

</section>
<section id="slide-orgd8f5618">
<h4 id="orgd8f5618"><span class="section-number-4">7.7.4.</span> Org capture</h4>
<p>
My sketch notes: Notability - 2021 Sketchbook pg 2. 
</p>

<p>
References: <a href="https://www.youtube.com/watch?v=KdcXu_RdKI0">https://www.youtube.com/watch?v=KdcXu_RdKI0</a>
</p>

<p>
Templates:
</p>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">setq</span> org-capture-templates
      '((<span style="color: #50a14f;">"t"</span>              <span style="color: #9ca0a4;">; </span><span style="color: #9ca0a4;">hotkey</span>
         <span style="color: #50a14f;">"Todo list item"</span> <span style="color: #9ca0a4;">; </span><span style="color: #9ca0a4;">name</span>
         entry            <span style="color: #9ca0a4;">; </span><span style="color: #9ca0a4;">type</span>
         <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">heading type and title</span>
         (file+heading org-default-notes-file <span style="color: #50a14f;">"Tasks"</span>)
         <span style="color: #50a14f;">"* TODO %?\n  %i\n  %a"</span>)   <span style="color: #9ca0a4;">; </span><span style="color: #9ca0a4;">template</span>
        ))
</code></pre>
</div>

<p>
Generally, use <code>%u/U</code> (inactive timestamp, [time]) instead of <code>%t/T</code> (active timestamp, &lt;time&gt;), because I don't want the creation of a todo item in the agenda. Use <code>%a</code> for annotation.
</p>

<p>
My configuration:
</p>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">org-get-target-headline</span> (<span style="color: #986801;">&amp;optional</span> targets prompt)
  <span style="color: #84888b; font-style: italic;">"Prompt for a location in an org file and jump to it.</span>

<span style="color: #84888b; font-style: italic;">This is for promping for refile targets when doing captures.</span>
<span style="color: #84888b; font-style: italic;">Targets are selected from `</span><span style="color: #b751b6; font-style: italic;">org-refile-targets</span><span style="color: #84888b; font-style: italic;">'. If TARGETS is</span>
<span style="color: #84888b; font-style: italic;">given it temporarily overrides `</span><span style="color: #b751b6; font-style: italic;">org-refile-targets</span><span style="color: #84888b; font-style: italic;">'. PROMPT will</span>
<span style="color: #84888b; font-style: italic;">replace the default prompt message.</span>

<span style="color: #84888b; font-style: italic;">If CAPTURE-LOC is is given, capture to that location instead of</span>
<span style="color: #84888b; font-style: italic;">prompting."</span>
  (<span style="color: #e45649;">let</span> ((org-refile-targets (<span style="color: #e45649;">or</span> targets org-refile-targets))
        (prompt (<span style="color: #e45649;">or</span> prompt <span style="color: #50a14f;">"Capture Location"</span>)))
    (<span style="color: #e45649;">let</span> ((org-refile-targets (<span style="color: #e45649;">or</span> targets org-refile-targets))
          (prompt (<span style="color: #e45649;">or</span> prompt <span style="color: #50a14f;">"Capture Location"</span>)))
      (org-refile t nil nil prompt)))
    <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(if org-capture-overriding-marker</span>
    <span style="color: #9ca0a4;">;;     </span><span style="color: #9ca0a4;">(org-goto-marker-or-bmk org-capture-overriding-marker)</span>
    <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(org-refile t nil nil prompt)))</span>
  )

(<span style="color: #e45649;">with-eval-after-load</span> 'org
  (<span style="color: #e45649;">setq</span> org-capture-templates
        '((<span style="color: #50a14f;">"t"</span> <span style="color: #50a14f;">"Todo"</span> entry (file+olp <span style="color: #50a14f;">""</span> <span style="color: #50a14f;">"Todos"</span>)
           <span style="color: #50a14f;">"* TODO [#%^{Priority?||A|B|C|D}] %?\n %u\n\n\n"</span> <span style="color: #a626a4;">:empty-lines-after</span> 1<span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;"> </span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">:empty-lines-before</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;"> 1)</span>
          (<span style="color: #50a14f;">"s"</span> <span style="color: #50a14f;">"Scheduled"</span> entry (file+olp <span style="color: #50a14f;">""</span> <span style="color: #50a14f;">"Todos"</span>)
           <span style="color: #50a14f;">"* [#%^{Priority?||A|B|C|D}] %^{Title}\nSCHEDULED: %^t\n%u\n%?\n\n\n"</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;"> </span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">:empty-lines-before</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;"> 1 </span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">:empty-lines-after</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;"> 1)</span>
          (<span style="color: #50a14f;">"i"</span> <span style="color: #50a14f;">"INBOX"</span> entry (file+olp <span style="color: #50a14f;">""</span> <span style="color: #50a14f;">"INBOX"</span>)
           <span style="color: #50a14f;">"* %^{Title}\n\n"</span> <span style="color: #a626a4;">:empty-lines-before</span> 1 <span style="color: #a626a4;">:empty-lines-after</span> 1)
          (<span style="color: #50a14f;">"z"</span> <span style="color: #50a14f;">"project"</span> entry (file+function <span style="color: #50a14f;">""</span> org-get-target-headline)
           <span style="color: #50a14f;">"* %^{Title}\n\n"</span> <span style="color: #a626a4;">:empty-lines-before</span> 1 <span style="color: #a626a4;">:empty-lines-after</span> 1)
          (<span style="color: #50a14f;">"a"</span> <span style="color: #50a14f;">"Todo with link"</span> entry (file+olp <span style="color: #50a14f;">""</span> <span style="color: #50a14f;">"Todos"</span>)
           <span style="color: #50a14f;">"* TODO [#%^{Priority?||A|B|C|D}] %?\n %U\n %a\n\n"</span> <span style="color: #a626a4;">:empty-lines-befo</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">re</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;"> 1 </span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">:empty-lines-after</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;"> 1)</span>
          (<span style="color: #50a14f;">"m"</span> <span style="color: #50a14f;">"Meeting"</span> entry (file+olp <span style="color: #50a14f;">""</span> <span style="color: #50a14f;">"Meetings"</span>)
           <span style="color: #50a14f;">"* REFI Meeting with %? :MEETING:\n%U\n\n"</span> <span style="color: #a626a4;">:empty-lines-before</span> 1 <span style="color: #a626a4;">:emp</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">ty-lines-after</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;"> 1)</span>
          (<span style="color: #50a14f;">"n"</span> <span style="color: #50a14f;">"Notes"</span> entry (file+olp <span style="color: #50a14f;">""</span> <span style="color: #50a14f;">"General Notes"</span>)
           <span style="color: #50a14f;">"* REFI %? :NOTE:\n%U\n\n"</span> <span style="color: #a626a4;">:empty-lines-before</span> 1 <span style="color: #a626a4;">:empty-lines-after</span> 1<span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">)</span>
          (<span style="color: #50a14f;">"l"</span> <span style="color: #50a14f;">"Learn"</span> entry (file+olp <span style="color: #50a14f;">""</span> <span style="color: #50a14f;">"To Learn"</span>)
           <span style="color: #50a14f;">"* %? \n\n"</span> <span style="color: #a626a4;">:empty-lines-before</span> 1 <span style="color: #a626a4;">:empty-lines-after</span> 1)
          <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">("l" "Life" entry (file+olp "~/Dropbox/orgfiles/life.org" "Todos")</span>
          <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">"* TODO [#%^{Priority?||A|B|C|D}] %?\nSCHEDULED: %^t %u\n\n\n" :em</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">pty-lines-before 1 :empty-lines-after 1)</span>
          <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">("j" "Journal" entry (file+olp "~/Dropbox/orgfiles/y-journals.org" </span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">"2021")</span>
          <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">"** %?\n\n" :empty-lines-before 1 :empty-lines-after 1)</span>
          <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">("o" "Doing" entry (file+olp "" "Todos")</span>
          <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">"* DOIN [#%^{Priority?||A|B|C|D}] %?\n %u\n\n" :empty-lines-before</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;"> 1 :empty-lines-after 1)</span>
          <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">("w" "Work task" entry (file+headline "" "Todos")</span>
          <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">"* TODO [#A] %?\n  %U\n  %a\n\n" :empty-lines-before 1)</span>
          <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">("s" "Scheduled" entry (file+olp "" "Todos")</span>
          <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">"* [#A] %^{Title}\nSCHEDULED: %^t\n%u\n%?\n\n" :empty-lines-before</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;"> 1 :empty-lines-after 1)</span>
          <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">("i" "Ideas" entry (file+olp "" "Ideas")</span>
          <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">"* %?\n  %u\n\n" :empty-lines-before 1 :empty-lines-after 1)</span>
          <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">("e" "Event" entry (file+olp "" "Todos")</span>
          <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">"* %^{This is a?||TODO |NEXT |FLUP |DOIN |SCHE |REFI}%^{Title}\nSC</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">HEDULED: %^t\n%t\n%?")</span>
          <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">("f" "Followup" entry (file+olp "" "Followups")</span>
          <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">"* FLUP [#B] %?\n  %U\n  %a\n\n" :empty-lines-before 1 :empty-line</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">s-after 1)</span>
          <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">("w" "Work" entry (file+headline "" "Work")</span>
          <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">"* DOIN [#A] %? :WORK:\n%U\n\n" :empty-lines-before 1)</span>
          <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">("g" "General todo" entry (file+headline "/Users/chongchonghe/tasks</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">.org" "Todos")</span>
          <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">"* TODO [#B] %?\n %a" :empty-lines 1)</span>
          )))
</code></pre>
</div>

</section>
<section id="slide-org26ff9e0">
<h4 id="org26ff9e0"><span class="section-number-4">7.7.5.</span> Exporting to LaTeX</h4>
<p>
No used. TODO
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim><span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Exporting to LaTeX and PDF, formatting</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">http://pragmaticemacs.com/emacs/org-mode-basics-v-exporting-your-notes/</span>
(<span style="color: #e45649;">with-eval-after-load</span> 'ox-latex
  (add-to-list 'org-latex-classes
         '(<span style="color: #50a14f;">"bjmarticle"</span>
     <span style="color: #50a14f;">"\\documentclass{article}</span>
<span style="color: #50a14f;">  \\usepackage[utf8]{inputenc}</span>
<span style="color: #50a14f;">  \\usepackage[T1]{fontenc}</span>
<span style="color: #50a14f;">  \\usepackage{graphicx}</span>
<span style="color: #50a14f;">  \\usepackage{longtable}</span>
<span style="color: #50a14f;">  \\usepackage{hyperref}</span>
<span style="color: #50a14f;">  \\usepackage{natbib}</span>
<span style="color: #50a14f;">  \\usepackage{amssymb}</span>
<span style="color: #50a14f;">  \\usepackage{amsmath}</span>
<span style="color: #50a14f;">  \\usepackage{geometry}</span>
<span style="color: #50a14f;">  \\geometry{a4paper,margin=0.5in,marginparsep=7pt, marginparwidth=.6in}"</span>
     (<span style="color: #50a14f;">"\\section{%s}"</span> . <span style="color: #50a14f;">"\\section*{%s}"</span>)
     (<span style="color: #50a14f;">"\\subsection{%s}"</span> . <span style="color: #50a14f;">"\\subsection*{%s}"</span>)
     (<span style="color: #50a14f;">"\\subsubsection{%s}"</span> . <span style="color: #50a14f;">"\\subsubsection*{%s}"</span>)
     (<span style="color: #50a14f;">"\\paragraph{%s}"</span> . <span style="color: #50a14f;">"\\paragraph*{%s}"</span>)
     (<span style="color: #50a14f;">"\\subparagraph{%s}"</span> . <span style="color: #50a14f;">"\\subparagraph*{%s}"</span>))))
</code></pre>
</div>

</section>
<section id="slide-org0d82f5b">
<h3 id="org0d82f5b"><span class="section-number-3">7.8.</span> org-journal</h3>
<p>
<a href="https://github.com/bastibe/org-journal">Org journal</a> is a package to create and maintain a journal/diary in Emacs org-mode.
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">org-journal</span>
  <span style="color: #a626a4;">:ensure</span> t
  <span style="color: #a626a4;">:defer</span> t
  <span style="color: #a626a4;">:bind</span>
  (<span style="color: #50a14f;">"s-j"</span> . org-journal-new-entry)
  (<span style="color: #50a14f;">"s-s"</span> . org-journal-new-scheduled-entry)
  (<span style="color: #50a14f;">"s-n"</span> . org-journal-open-next-entry)
  (<span style="color: #50a14f;">"s-p"</span> . org-journal-open-previous-entry)
  <span style="color: #a626a4;">:init</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Change default prefix key; needs to be set before loading org-journal</span>
  (<span style="color: #e45649;">setq</span>
   org-journal-prefix-key <span style="color: #50a14f;">"M-g "</span>
   org-journal-enable-agenda-integration t)
  <span style="color: #a626a4;">:config</span>
  (<span style="color: #e45649;">setq</span> org-journal-dir (concat org-directory <span style="color: #50a14f;">"/journal"</span>)
        org-journal-file-type 'weekly
        org-journal-file-format <span style="color: #50a14f;">"%Y%m%d.org"</span>
        org-journal-date-format <span style="color: #50a14f;">"%A, %Y-%m-%d"</span>
        ))
</code></pre>
</div>

</section>
<section id="slide-org926b4c9">
<h3 id="org926b4c9"><span class="section-number-3">7.9.</span> org-caldav (unfinished)</h3>
<p>
TODO: finish this.
</p>

<p>
<a href="https://github.com/dengste/org-caldav">org-caldav</a> is a package to do Caldav sync for Emacs Orgmode.
</p>

<p>
<a href="https://hugocisneros.com/org-config/#org-caldav">Reference.</a> 
</p>

</section>
<section id="slide-org54ab21a">
<h3 id="org54ab21a"><span class="section-number-3">7.10.</span> org-refile</h3>
<p>
Ref:
<a href="https://blog.aaronbieber.com/2017/03/19/organizing-notes-with-refile.html">https://blog.aaronbieber.com/2017/03/19/organizing-notes-with-refile.html</a>
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim><span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq org-refile-targets '((("~/Dropbox/orgfiles")</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">         :maxlevel . 2)))</span>
(<span style="color: #e45649;">setq</span> org-refile-targets '(((<span style="color: #50a14f;">"~/Dropbox/orgfiles/work.org"</span>
           <span style="color: #50a14f;">"~/Dropbox/orgfiles/notes.org"</span>
           )
          <span style="color: #a626a4;">:maxlevel</span> . 1)))
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq org-refile-targets '((("~/Dropbox/orgfiles/work.org"</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">          ;; "~/Dropbox/orgfiles/proj.org"</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">          "~/Dropbox/orgfiles/life.org"</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">          "~/Dropbox/orgfiles/y-journals.org")</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">         :maxlevel . 2)))</span>
</code></pre>
</div>

</section>
<section id="slide-org7abe00a">
<h3 id="org7abe00a"><span class="section-number-3">7.11.</span> org-present</h3>
<p>
<a href="https://github.com/rlister/org-present">https://github.com/rlister/org-present</a>
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(add-to-list 'load-path <span style="color: #50a14f;">"~/path/to/org-present"</span>)
(autoload 'org-present <span style="color: #50a14f;">"org-present"</span> nil t)

(<span style="color: #e45649;">setq</span> org-present-text-scale 2)

(eval-after-load <span style="color: #50a14f;">"org-present"</span>
  '(progn
     (add-hook 'org-present-mode-hook
               (<span style="color: #e45649;">lambda</span> ()
                 (org-present-big)
                 (org-display-inline-images)
                 (org-present-hide-cursor)
                 (org-present-read-only)
                 <span style="color: #9ca0a4;">;;</span><span style="color: #9ca0a4;">(toggle-frame-fullscreen)</span>
                 ))
     (add-hook 'org-present-mode-quit-hook
               (<span style="color: #e45649;">lambda</span> ()
                 (org-present-small)
                 (org-remove-inline-images)
                 (org-present-show-cursor)
                 (org-present-read-write)
                 <span style="color: #9ca0a4;">;;</span><span style="color: #9ca0a4;">(toggle-frame-fullscreen)</span>
                 ))))
</code></pre>
</div>

</section>
<section id="slide-org4491dd1">
<h3 id="org4491dd1"><span class="section-number-3">7.12.</span> org-toggl</h3>
<p>
How to setup? Check the <a href="https://github.com/mbork/org-toggl">org-toggl</a> github repository for instructions. Basically, add the following code to your init.el, where the toggl-auth-token is copied from your toggl account.
</p>

<p>
Usage:
</p>

<p>
'C-c i' then 'C-c o' (re-mapped) to clock in then clock out, which starts a toggl timer. This is enabled by <a href="https://github.com/mbork/org-toggl">org-toggl</a>. Note that 'C-c o' wont' work. It won't stop the timer.
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim><span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(with-eval-after-load 'org</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(use-package org-toggl</span>
<span style="color: #9ca0a4;">;;     </span><span style="color: #9ca0a4;">:init</span>
<span style="color: #9ca0a4;">;;     </span><span style="color: #9ca0a4;">(setq toggl-auth-token "ce3e8fc3922edda6986a6e729509338f")</span>
<span style="color: #9ca0a4;">;;     </span><span style="color: #9ca0a4;">(setq org-toggl-inherit-toggl-properties t)</span>
<span style="color: #9ca0a4;">;;     </span><span style="color: #9ca0a4;">:load-path "/Users/chongchonghe/dotfiles/emacs/packages"</span>
<span style="color: #9ca0a4;">;;     </span><span style="color: #9ca0a4;">:config</span>
<span style="color: #9ca0a4;">;;     </span><span style="color: #9ca0a4;">(toggl-get-projects)</span>
<span style="color: #9ca0a4;">;;     </span><span style="color: #9ca0a4;">(org-toggl-integration-mode)</span>
<span style="color: #9ca0a4;">;;     </span><span style="color: #9ca0a4;">;; remove clock-out since it failed at stopping toggl timer</span>
<span style="color: #9ca0a4;">;;     </span><span style="color: #9ca0a4;">(remove-hook 'org-clock-out-hook #'org-toggl-clock-out)</span>
<span style="color: #9ca0a4;">;;     </span><span style="color: #9ca0a4;">;; bind C-c i to clock-in then clock-out</span>
<span style="color: #9ca0a4;">;;     </span><span style="color: #9ca0a4;">(define-key org-mode-map (kbd "C-c i")</span>
<span style="color: #9ca0a4;">;;       </span><span style="color: #9ca0a4;">(lambda () (interactive) (org-clock-in) (sit-for 2) (org-clock-out)))</span>
<span style="color: #9ca0a4;">;;     </span><span style="color: #9ca0a4;">)</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">)</span>

(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">org-toggl</span>
  <span style="color: #a626a4;">:after</span> org
  <span style="color: #a626a4;">:defer</span> 15
  <span style="color: #a626a4;">:init</span>
  (<span style="color: #e45649;">setq</span> toggl-auth-token <span style="color: #50a14f;">"ce3e8fc3922edda6986a6e729509338f"</span>)
  (<span style="color: #e45649;">setq</span> org-toggl-inherit-toggl-properties t)
  (<span style="color: #e45649;">setq</span> toggl-default-project <span style="color: #50a14f;">"Research"</span>)
  <span style="color: #a626a4;">:load-path</span> <span style="color: #50a14f;">"/Users/chongchonghe/dotfiles/emacs/packages"</span>
  <span style="color: #a626a4;">:config</span>
  (toggl-get-projects)
  (org-toggl-integration-mode)
  (define-key org-mode-map (kbd <span style="color: #50a14f;">"C-c I"</span>) 'toggl-select-default-project)

  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">remove clock-out since it failed at stopping toggl timer</span>
  (remove-hook 'org-clock-out-hook #'org-toggl-clock-out)
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">bind C-c i to clock-in then clock-out</span>
  (define-key org-mode-map (kbd <span style="color: #50a14f;">"C-c i"</span>)
    (<span style="color: #e45649;">lambda</span> () (<span style="color: #e45649;">interactive</span>) (org-clock-in) (sit-for 5) (org-clock-out)))

  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">This is the originial setup. Need to invoke clock-in and clock-out to</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">start and stop a projection</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(add-hook 'org-clock-out-hook #'org-toggl-clock-out)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(define-key org-mode-map (kbd "C-c i") 'org-clock-in)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(define-key org-mode-map (kbd "C-c o") 'org-clock-out)</span>

  )
  
</code></pre>
</div>

</section>
<section id="slide-org1663154">
<h3 id="org1663154"><span class="section-number-3">7.13.</span> org file apps</h3>
<p>
Open file links with default applications. "Open with". 
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">setq</span> org-file-apps
      '((<span style="color: #50a14f;">"\\.docx\\'"</span> . default)
  (<span style="color: #50a14f;">"\\.mm\\'"</span> . default)
  (<span style="color: #50a14f;">"\\.x?html?\\'"</span> . default)
  (<span style="color: #50a14f;">"\\.pdf\\'"</span> . default)
  (<span style="color: #50a14f;">"\\.md\\'"</span> . default)
  (<span style="color: #50a14f;">"\\.png\\'"</span> . default)
  (<span style="color: #50a14f;">"\\.gif\\'"</span> . default)
  (auto-mode . emacs))
      )
</code></pre>
</div>

</section>
<section id="slide-org66d20fb">
<h3 id="org66d20fb"><span class="section-number-3">7.14.</span> exec-path-from-shell</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  (<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">exec-path-from-shell</span>
    <span style="color: #a626a4;">:defer</span> 20
  <span style="color: #a626a4;">:ensure</span> t
  <span style="color: #a626a4;">:config</span>
  (<span style="color: #e45649;">when</span> (memq window-system '(mac ns x))
  (exec-path-from-shell-initialize)))
</code></pre>
</div>

</section>
<section id="slide-org226080a">
<h3 id="org226080a"><span class="section-number-3">7.15.</span> org latex preview</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  (<span style="color: #e45649;">setq</span> org-format-latex-options (plist-put org-format-latex-options <span style="color: #a626a4;">:scale</span> 1.5)<span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">)</span>
</code></pre>
</div>

</section>
<section id="slide-orgdf3b413">
<h3 id="orgdf3b413"><span class="section-number-3">7.16.</span> org export</h3>
<p>
Export settings: <a href="https://orgmode.org/manual/Export-Settings.html">https://orgmode.org/manual/Export-Settings.html</a>
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(use-package ox-md)</span>
(<span style="color: #e45649;">setq</span> org-export-backends '(ascii html md icalendar latex odt)
      org-use-sub-superscripts '{}
      org-export-with-sub-superscripts '{}
      org-export-with-broken-links <span style="color: #50a14f;">"mark"</span>
      <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">org-export-with-toc nil</span>
      )
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-org-html-postamble</span> (plist)
  (concat <span style="color: #50a14f;">"&lt;p&gt;Author: Chong-Chong He&lt;/p&gt;"</span>
    (format <span style="color: #50a14f;">"&lt;p&gt;Last updated: %s&lt;/p&gt;"</span> (format-time-string <span style="color: #50a14f;">"%Y-%b-%d"</span>))
    <span style="color: #50a14f;">"&lt;a href='</span><span style="color: #b751b6;">https://www.astro.umd.edu/~chongchong/</span><span style="color: #50a14f;">'&gt;www.astro.umd.edu/~chongch</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">ong/&lt;/a&gt;"</span>
    ))
(<span style="color: #e45649;">setq</span> org-html-postamble 'my-org-html-postamble)

<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq org-export-html-postamble-format </span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">       '(("en" "&lt;p class=\"author\"&gt;Author: %a (%e)&lt;/p&gt;&lt;p class=\"date\"&gt;Last</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;"> Updated %d.&lt;/p&gt;")))</span>

<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq org-html-postamble-format</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">;; (setq org-export-html-postamble-format </span>
<span style="color: #9ca0a4;">;;       </span><span style="color: #9ca0a4;">'(("en" "&lt;p class=\"author\"&gt;Author: %a (%e)&lt;/p&gt;</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Last updated: &lt;p class=\"date\"&gt;Date: %d&lt;/p&gt;</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">&lt;p class=\"creator\"&gt;Generated by %c&lt;/p&gt;</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">&lt;p class=\"xhtml-validation\"&gt;%v&lt;/p&gt;</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">")))</span>
</code></pre>
</div>

<p>
Remove validate
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">setq</span> org-html-validation-link nil)
</code></pre>
</div>

<p>
Set postamble
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  (<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-website-html-postamble</span> (options)
  (concat <span style="color: #50a14f;">"&lt;hr&gt;"</span>
      (<span style="color: #e45649;">if</span> (<span style="color: #e45649;">and</span> (plist-get options '<span style="color: #a626a4;">:keywords</span>) (not (string= (plist-get options '<span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">:keywords</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">) </span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">""</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">)))</span>
        (format <span style="color: #50a14f;">"&lt;p&gt;Keywords: %s&lt;/p&gt;"</span> (plist-get options '<span style="color: #a626a4;">:keywords</span>))
        <span style="color: #50a14f;">""</span>)
      (format <span style="color: #50a14f;">"&lt;p class=\"date\"&gt;Modified: %s&lt;/p&gt;"</span> (format-time-string <span style="color: #50a14f;">"%Y-%m-%d</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;"> %H:%M:%S"</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">))</span>
      (format <span style="color: #50a14f;">"&lt;p&gt;Copyright (c) %s %s&lt;/p&gt;"</span>
          (car (split-string (car (plist-get options '<span style="color: #a626a4;">:date</span>)) <span style="color: #50a14f;">"-"</span>)) <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">TODO: get</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;"> from custom document option</span>
          (car (plist-get options '<span style="color: #a626a4;">:author</span>)))
      (format <span style="color: #50a14f;">"&lt;p&gt;%s&lt;/p&gt;"</span> (plist-get options '<span style="color: #a626a4;">:creator</span>))))
</code></pre>
</div>


</section>
<section id="slide-org36224c0">
<h3 id="org36224c0"><span class="section-number-3">7.17.</span> Publishing</h3>
<p>
Ref:
</p>
<ul>
<li>Basic: <a href="https://orgmode.org/worg/org-tutorials/org-publish-html-tutorial.html">Publishing Org-mode files to HTML</a></li>
<li><a href="https://huadeyu.tech/tools/emacs-setup-notes.html#org1f969c4">极简Emacs开发环境配置</a>: org-publish</li>

</ul>

</section>
<section id="slide-orgb70ad19">
<h4 id="orgb70ad19"><span class="section-number-4">7.17.1.</span> From publish.el</h4>
<p>
Config (not using it because of an error related to Dropbox
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">require</span> '<span style="color: #b751b6;">ox-publish</span>)

(global-hl-line-mode 1)
(<span style="color: #e45649;">setq</span> org-src-fontify-natively t)  
(add-to-list 'load-path <span style="color: #50a14f;">"/Users/chongchonghe/dotfiles/emacs/packages/emacs-htmli</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">ze"</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">)</span>
(<span style="color: #e45649;">require</span> '<span style="color: #b751b6;">htmlize</span>)

<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq org-html-postamble nil)</span>
(<span style="color: #e45649;">setq</span> org-html-postamble
      (concat <span style="color: #50a14f;">"&lt;p&gt;Author: %a&lt;/p&gt;"</span>
              <span style="color: #50a14f;">"&lt;p&gt;%d&lt;/p&gt;"</span>
              <span style="color: #50a14f;">"&lt;p&gt;&lt;a href='</span><span style="color: #b751b6;">https://www.astro.umd.edu/~chongchong/</span><span style="color: #50a14f;">'&gt;"</span>
              <span style="color: #50a14f;">"www.astro.umd.edu/~chongchong/&lt;/a&gt;&lt;/p&gt;"</span>))

<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">sitemap function</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(defun my-org-publish-org-sitemap (title list)</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">"Sitemap generation function."</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(concat (format "#+TITLE: %s\n" title)</span>
<span style="color: #9ca0a4;">;;           </span><span style="color: #9ca0a4;">;; "\n#+SETUPFILE: ../style/default.setup\n"</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">         "\n#+SETUPFILE: ~/dotfiles/org-styles/simple_inline.theme\n"</span>
<span style="color: #9ca0a4;">;;           </span><span style="color: #9ca0a4;">"#+OPTIONS: toc:nil\n"</span>
<span style="color: #9ca0a4;">;;           </span><span style="color: #9ca0a4;">(org-list-to-subtree list)</span>
<span style="color: #9ca0a4;">;;           </span><span style="color: #9ca0a4;">"\n"</span>
<span style="color: #9ca0a4;">;;           </span><span style="color: #9ca0a4;">))</span>
(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-org-publish-org-sitemap</span> (title list)
  <span style="color: #84888b; font-style: italic;">"Sitemap generation function."</span>
  (concat (format <span style="color: #50a14f;">"#+TITLE: %s\n"</span> title)
    <span style="color: #50a14f;">"#+HTML_HEAD: &lt;link rel='</span><span style="color: #b751b6;">stylesheet</span><span style="color: #50a14f;">' type='</span><span style="color: #b751b6;">text/css</span><span style="color: #50a14f;">' href='</span><span style="color: #b751b6;">https://gongzhita</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">ao.org/orgcss/org.css</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">'/&gt;\n"</span>
    <span style="color: #50a14f;">"#+options: toc:nil\n"</span>
          (org-list-to-subtree list)
          <span style="color: #50a14f;">"\n\n"</span>
          <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(@-load-file-contents (expand-file-name "~/.emacs.d/aboutme.org"))</span>
          )
  )

(<span style="color: #e45649;">setq</span> org-publish-project-alist
      '((<span style="color: #50a14f;">"body"</span>
         <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">generic</span>
         <span style="color: #a626a4;">:base-directory</span> <span style="color: #50a14f;">"."</span>
         <span style="color: #a626a4;">:base-extension</span> <span style="color: #50a14f;">"org"</span>
         <span style="color: #a626a4;">:publishing-directory</span> <span style="color: #50a14f;">"../public"</span>
         <span style="color: #a626a4;">:recursive</span> t
         <span style="color: #a626a4;">:language</span> en
         <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">html</span>
         <span style="color: #a626a4;">:publishing-function</span> org-html-publish-to-html
         <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">sitemap</span>
         <span style="color: #a626a4;">:auto-sitemap</span> t
   <span style="color: #a626a4;">:html-link-home</span> <span style="color: #50a14f;">"../index.html"</span>
   <span style="color: #a626a4;">:html-link-up</span> <span style="color: #50a14f;">"./index.html"</span>
         <span style="color: #a626a4;">:sitemap-filename</span> <span style="color: #50a14f;">"index.org"</span>
         <span style="color: #a626a4;">:sitemap-title</span> <span style="color: #50a14f;">"Index"</span>
         <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">:sitemap-sort-files anti-chronologically</span>
         <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">:sitemap-file-entry-format "%d - %t"</span>
         <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">:sitemap-function my-website-sitemap-function</span>
         <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">:sitemap-function org-publish-org-sitemap</span>
         <span style="color: #a626a4;">:sitemap-function</span> my-org-publish-org-sitemap
         <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">:html-home/up-format "&lt;div&gt; &lt;a accesskey='</span><span style="color: #b751b6;">h</span><span style="color: #9ca0a4;">' href='</span><span style="color: #b751b6;">index.html</span><span style="color: #9ca0a4;">'&gt; UP &lt;</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">/a&gt; | &lt;a accesskey='</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">H</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">' href='</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">index.html</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">'&gt; HOME &lt;/a&gt; &lt;/div&gt;"</span>
         )
        (<span style="color: #50a14f;">"css"</span>
         <span style="color: #a626a4;">:base-directory</span> <span style="color: #50a14f;">"../style/"</span>
         <span style="color: #a626a4;">:base-extension</span> <span style="color: #50a14f;">"css</span><span style="color: #4078f2; font-weight: bold;">\\</span><span style="color: #4078f2; font-weight: bold;">|</span><span style="color: #50a14f;">js"</span>
         <span style="color: #a626a4;">:publishing-directory</span> <span style="color: #50a14f;">"../public/css"</span>
         <span style="color: #a626a4;">:publishing-function</span> org-publish-attachment
         <span style="color: #a626a4;">:recursive</span> t)
        (<span style="color: #50a14f;">"attach"</span>
         <span style="color: #a626a4;">:base-directory</span> <span style="color: #50a14f;">"../attach/"</span>
         <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">:base-extension "png\\|jpg\\|ico"</span>
         <span style="color: #a626a4;">:base-extension</span> <span style="color: #50a14f;">"png</span><span style="color: #4078f2; font-weight: bold;">\\</span><span style="color: #4078f2; font-weight: bold;">|</span><span style="color: #50a14f;">jpg</span><span style="color: #4078f2; font-weight: bold;">\\</span><span style="color: #4078f2; font-weight: bold;">|</span><span style="color: #50a14f;">ico</span><span style="color: #4078f2; font-weight: bold;">\\</span><span style="color: #4078f2; font-weight: bold;">|</span><span style="color: #50a14f;">svg"</span>
         <span style="color: #a626a4;">:publishing-directory</span> <span style="color: #50a14f;">"../public/attach"</span>
         <span style="color: #a626a4;">:publishing-function</span> org-publish-attachment
         <span style="color: #a626a4;">:recursive</span> t)
        (<span style="color: #50a14f;">"all"</span> <span style="color: #a626a4;">:components</span> (<span style="color: #50a14f;">"body"</span> <span style="color: #50a14f;">"css"</span> <span style="color: #50a14f;">"attach"</span>))))
</code></pre>
</div>

<p>
Version 2, might be working
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">require</span> '<span style="color: #b751b6;">ox-publish</span>)

<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">inline image size</span>
(<span style="color: #e45649;">setq</span> org-image-actual-width 200)
(<span style="color: #e45649;">setq</span> org-html-validation-link nil)
(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-org-html-postamble</span> (plist)
  (concat <span style="color: #50a14f;">"&lt;hr&gt;"</span> <span style="color: #50a14f;">"&lt;p&gt;Author: &lt;a href='</span><span style="color: #b751b6;">https://www.astro.umd.edu/~chongchong/</span><span style="color: #50a14f;">'&gt;Ch</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">ong-Chong He&lt;/a&gt;&lt;/p&gt;"</span>
    (format <span style="color: #50a14f;">"&lt;p&gt;Last updated: %s&lt;/p&gt;"</span> (format-time-string <span style="color: #50a14f;">"%Y-%m-%d"</span>))
    ))
(<span style="color: #e45649;">setq</span> org-html-postamble 'my-org-html-postamble)

<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">sitemap function</span>
(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-org-publish-org-sitemap</span> (title list)
  <span style="color: #84888b; font-style: italic;">"Sitemap generation function."</span>
  (concat (format <span style="color: #50a14f;">"#+TITLE: %s\n"</span> title)
    <span style="color: #50a14f;">"#+HTML_HEAD: &lt;link rel='</span><span style="color: #b751b6;">stylesheet</span><span style="color: #50a14f;">' type='</span><span style="color: #b751b6;">text/css</span><span style="color: #50a14f;">' href='</span><span style="color: #b751b6;">https://gongzhita</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">ao.org/orgcss/org.css</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">'/&gt;\n"</span>
    <span style="color: #50a14f;">"#+options: toc:nil\n"</span>
          (org-list-to-subtree list)
          <span style="color: #50a14f;">"\n\n"</span>
          <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(@-load-file-contents (expand-file-name "~/.emacs.d/aboutme.org"))</span>
          )
  )

(<span style="color: #e45649;">setq</span> org-publish-project-alist
      '((<span style="color: #50a14f;">"body"</span>
   <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">generic</span>
         <span style="color: #a626a4;">:base-directory</span> <span style="color: #50a14f;">"."</span>
         <span style="color: #a626a4;">:base-extension</span> <span style="color: #50a14f;">"org"</span>
   <span style="color: #a626a4;">:exclude</span> <span style="color: #50a14f;">"README.org"</span>
         <span style="color: #a626a4;">:publishing-directory</span> <span style="color: #50a14f;">"../public"</span>
         <span style="color: #a626a4;">:recursive</span> nil
   <span style="color: #a626a4;">:language</span> en
   <span style="color: #a626a4;">:with-latex</span> t
         <span style="color: #a626a4;">:publishing-function</span> org-html-publish-to-html
   <span style="color: #a626a4;">:html-doctype</span> <span style="color: #50a14f;">"html5"</span>
   <span style="color: #a626a4;">:html-style</span> nil
         <span style="color: #a626a4;">:html-html5-fancy</span> t
   <span style="color: #a626a4;">:html-link-home</span> <span style="color: #50a14f;">"../index.html"</span>
   <span style="color: #a626a4;">:html-link-up</span> <span style="color: #50a14f;">"./index.html"</span>
   <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">sitemap</span>
   <span style="color: #a626a4;">:auto-sitemap</span> t
   <span style="color: #a626a4;">:sitemap-filename</span> <span style="color: #50a14f;">"index.org"</span>
   <span style="color: #a626a4;">:sitemap-title</span> <span style="color: #50a14f;">"Index"</span>
   <span style="color: #a626a4;">:sitemap-function</span> my-org-publish-org-sitemap
   <span style="color: #a626a4;">:html-home/up-format</span> <span style="color: #50a14f;">"&lt;div&gt; &lt;a accesskey='</span><span style="color: #b751b6;">h</span><span style="color: #50a14f;">' href='</span><span style="color: #b751b6;">index.html</span><span style="color: #50a14f;">'&gt; UP &lt;/a&gt; | &lt;a </span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">accesskey='</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">H</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">' href='</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">index.html</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">'&gt; HOME &lt;/a&gt; &lt;/div&gt;"</span>
   )
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">("css"</span>
        <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">:base-directory "style/"</span>
        <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">:base-extension "css\\|js\\|setup"</span>
        <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">:publishing-directory "public/css"</span>
        <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">:publishing-function org-publish-attachment</span>
        <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">:recursive t)</span>
  (<span style="color: #50a14f;">"attach"</span>
         <span style="color: #a626a4;">:base-directory</span> <span style="color: #50a14f;">"../attach/"</span>
         <span style="color: #a626a4;">:base-extension</span> <span style="color: #50a14f;">"png</span><span style="color: #4078f2; font-weight: bold;">\\</span><span style="color: #4078f2; font-weight: bold;">|</span><span style="color: #50a14f;">jpg</span><span style="color: #4078f2; font-weight: bold;">\\</span><span style="color: #4078f2; font-weight: bold;">|</span><span style="color: #50a14f;">ico</span><span style="color: #4078f2; font-weight: bold;">\\</span><span style="color: #4078f2; font-weight: bold;">|</span><span style="color: #50a14f;">pdf"</span>
         <span style="color: #a626a4;">:publishing-directory</span> <span style="color: #50a14f;">"../public/attach"</span>
         <span style="color: #a626a4;">:publishing-function</span> org-publish-attachment
         <span style="color: #a626a4;">:recursive</span> t)
  (<span style="color: #50a14f;">"all"</span> <span style="color: #a626a4;">:components</span> (<span style="color: #50a14f;">"body"</span> <span style="color: #50a14f;">"attach"</span>))))
</code></pre>
</div>

<p>
sitemap:
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-website-sitemap-function</span> (project <span style="color: #986801;">&amp;optional</span> sitemap-filename)
  <span style="color: #84888b; font-style: italic;">"Custom sitemap generator that inserts additional options."</span>
  (<span style="color: #e45649;">let</span> ((buffer (org-publish-org-sitemap project sitemap-filename)))
    (<span style="color: #e45649;">with-current-buffer</span> buffer
      (insert <span style="color: #50a14f;">"\n#+SETUPFILE: ../style/default.setup"</span>)
      (save-buffer))))
</code></pre>
</div>

</section>
<section id="slide-org6437886">
<h4 id="org6437886"><span class="section-number-4">7.17.2.</span> Other</h4>
<p>
org-plus-contrib:
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">require</span> '<span style="color: #b751b6;">ox-extra</span>)
(ox-extras-activate '(ignore-headlines))
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(use-package ox-extra </span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">:config</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(ox-extras-activate '(ignore-headlines))</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">)</span>
</code></pre>
</div>

</section>
<section id="slide-org27e303e">
<h3 id="org27e303e"><span class="section-number-3">7.18.</span> Bibtex citations</h3>
<div class="outline-text-3" id="text-7-18">
</div>
</section>
<section id="slide-org8e5edc1">
<h4 id="org8e5edc1"><span class="section-number-4">7.18.1.</span> org-cite</h4>
<p>
The most recent version of orgmode comes with native citation syntax to deal with bibtex citations. Isn't that cool! The basic usage is as follow:
</p>
<ol>
<li><p>
We specify the bibliography file either via the <code>#+bibliography</code> keyword, or the variable <code>org-cite-global-bibliography</code>.
</p>

<pre class="example" id="orgd04cbec">
#+bibliography: orgcite.bib
</pre></li>

<li><p>
Reference to your bibliography sources via the syntax <code>[cite:@key]</code>. A more detailed but simple syntax is illustrated in the following figure. The more commonly used syntax are <code>[cite://f:@key]</code>
</p>


<figure id="orgb8d0ee1">
<img src="https://i.imgur.com/L5M7w1h.png" alt="L5M7w1h.png">

<figcaption><span class="figure-number">Figure 1: </span>The new citation syntax, for simple citations</figcaption>
</figure></li>

<li><p>
Summary:
</p>

<pre  class="example" >
#+bibliography: references.bib
[cite:@key]
#+print_bibliography:
</pre></li>

</ol>

<p>
Sources:
</p>
<ul>
<li><a href="https://blog.tecosaur.com/tmio/2021-07-31-citations.html">https://blog.tecosaur.com/tmio/2021-07-31-citations.html</a></li>

</ul>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim><span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(use-package oc-csl</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">:defer nil</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">:config</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(setq org-cite-csl-styles-dir (list "/Users/chongchonghe/dotfiles/emacs/pac</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">kages/csl-styles"))</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">)</span>
(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">citeproc</span>
  <span style="color: #a626a4;">:defer</span> 6
  <span style="color: #a626a4;">:config</span>
  (<span style="color: #e45649;">require</span> '<span style="color: #b751b6;">oc-csl</span>)
  )
</code></pre>
</div>

</section>
<section id="slide-orgdec5966">
<h4 id="orgdec5966"><span class="section-number-4">7.18.2.</span> org-ref</h4>
<p>
I haven't make it work yet. I'm using the buildin org-cite instead. 
</p>

<p>
Ref:
</p>
<ul>
<li><a href="https://github.com/jkitchin/org-ref">https://github.com/jkitchin/org-ref</a></li>
<li>Manual: <a href="https://github.com/jkitchin/org-ref/blob/master/org-ref.org">https://github.com/jkitchin/org-ref/blob/master/org-ref.org</a></li>
<li>Quick guide: <a href="https://www.reddit.com/r/orgmode/comments/5shz5o/orgref_introduction/">https://www.reddit.com/r/orgmode/comments/5shz5o/orgref_introduction/</a></li>
<li>Author guide: <a href="https://kitchingroup.cheme.cmu.edu/blog/2014/05/13/Using-org-ref-for-citations-and-references/">https://kitchingroup.cheme.cmu.edu/blog/2014/05/13/Using-org-ref-for-citations-and-references/</a></li>

</ul>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">setq</span>
 org-ref-bibliography-notes <span style="color: #50a14f;">"~/Academics/org-ref-notes.org"</span>
 org-ref-default-bibliography '(<span style="color: #50a14f;">"~/folders-and-files/BIB_HE.bib"</span>)
 org-ref-pdf-directory <span style="color: #50a14f;">"~/Academics/Papers/"</span>
 ) 
(<span style="color: #e45649;">setq</span> bibtex-completion-bibliography '(<span style="color: #50a14f;">"~/folders-and-files/BIB_HE.bib"</span>
               <span style="color: #50a14f;">"~/folders-and-files/Books.bib"</span>)
      bibtex-completion-library-path <span style="color: #50a14f;">"~/Academics/Papers/"</span>
      bibtex-completion-notes-path <span style="color: #50a14f;">"~/Dropbox/orgfiles/org-ref-notes.org"</span>
      )
(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">citeproc</span>)

<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(use-package org-ref</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">:init</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(setq bibtex-completion-bibliography '("~/folders-and-files/BIB_HE.bib"</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">          "~/folders-and-files/Books.bib")</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;"> bibtex-completion-library-path "~/Academics/Papers/"</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;"> bibtex-completion-notes-path "~/Dropbox/orgfiles/org-ref-notes.org"</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;"> )</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">)</span>

</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim><span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Install org-contrib</span>
(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">org-contrib</span>)

<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Install org</span>
(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">org</span>
  <span style="color: #a626a4;">:config</span>
  (<span style="color: #e45649;">setq</span> org-latex-pdf-process '(<span style="color: #50a14f;">"latexmk -pdf -outdir=%o %f"</span>))
  (<span style="color: #e45649;">setq</span> org-export-with-smart-quotes t)
  
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">export citations</span>
  (<span style="color: #e45649;">require</span> '<span style="color: #b751b6;">ox-bibtex</span>)
  
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">manage citations</span>
  (<span style="color: #e45649;">require</span> '<span style="color: #b751b6;">org-bibtex-extras</span>)
  
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">ignore headline but include content when exporting</span>
  (<span style="color: #e45649;">require</span> '<span style="color: #b751b6;">ox-extra</span>)
  (ox-extras-activate '(ignore-headlines))
  
  <span style="color: #a626a4;">:custom</span> (org-startup-indented t)
  <span style="color: #a626a4;">:bind</span> (<span style="color: #a626a4;">:map</span> org-mode-map
              (<span style="color: #50a14f;">"&lt;f12&gt;"</span> . org-bibtex-yank)))
</code></pre>
</div>

</section>
<section id="slide-org347ea0d">
<h3 id="org347ea0d"><span class="section-number-3">7.19.</span> plain-org-wiki</h3>
<p>
Usage:
</p>
<ul>
<li><code>plain-org-wiki name</code> to open a wiki page from <code>~/org/wiki/org</code> or create a new one.</li>
<li><code>plain-org-academic name</code> to open a academic page from <code>~/org/astronomy/org</code>.</li>

</ul>

<p>
Installation:
</p>
<ul>
<li>Downloaded from github repo: <a href="https://github.com/alraban/org-recoll">https://github.com/alraban/org-recoll</a>. Modified. DO NOT OVERWRITE.</li>
<li>Stackoverflow page: <a href="https://stackoverflow.com/a/26675657/4635427">https://stackoverflow.com/a/26675657/4635427</a></li>

</ul>

<p>
Modifications to the source code:
</p>
<ul>
<li>Defined <code>plain-org-academic</code> similar to <code>plain-org-wiki</code>. It calls the following definitions:
<ul>
<li><code>plain-org-academic-directory</code></li>
<li><code>plain-org-academic-extra-dirs</code></li>
<li><code>plain-org-academic-extra-files</code></li>
<li><code>plain-org-academic-files</code></li>
<li><code>plain-org-academic-find-file</code></li>

</ul></li>

</ul>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">plain-org-wiki</span>
  <span style="color: #a626a4;">:ensure</span> t
  <span style="color: #a626a4;">:load-path</span> <span style="color: #50a14f;">"/Users/chongchonghe/dotfiles/emacs/packages/plain-org-wiki/"</span>
  <span style="color: #a626a4;">:config</span>
  (<span style="color: #e45649;">setq</span> plain-org-wiki-directory <span style="color: #50a14f;">"~/org/wiki/org"</span>)
  (<span style="color: #e45649;">setq</span> plain-org-academic-directory <span style="color: #50a14f;">"~/org/astronomy/org"</span>)
  (<span style="color: #e45649;">setq</span> plain-org-wiki-extra-dirs '(<span style="color: #50a14f;">"~/org/astronomy/org"</span>))
  (global-set-key (kbd <span style="color: #50a14f;">"C-M-w"</span>) 'plain-org-wiki))
</code></pre>
</div>

</section>
<section id="slide-orgb0ace08">
<h3 id="orgb0ace08"><span class="section-number-3">7.20.</span> Hyperlink to a macOS Mail message</h3>
<p>
A link that opens a Mail message on macOS. The link should be in the following format:
</p>

<pre class="example" id="org2191463">
[[message:&lt;message_id@domain.com&gt;][Apple Mail Link]]
</pre>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(org-add-link-type <span style="color: #50a14f;">"message"</span>
 (<span style="color: #e45649;">lambda</span> (id)
  (shell-command
   <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(concat "open -a mail.app message:" id))))</span>
   (concat <span style="color: #50a14f;">"open message:"</span> id))))
</code></pre>
</div>

<p>
I use this along with the following Applescript to copy a link to a Mail message and paste it into my orgmode notes. What it does is it copy a string <code>[[message://%3c&lt;MESSAGEID&gt;%3e][Maillink: &lt;SUBJECT&gt;]]</code> (where the parts in <code>&lt;&gt;</code> are replaced with the corresponding properties) into your clipboared which you can paste into orgmode as a hyperlink to the message.
</p>

<pre  class="example" >
[[message://%3c2c609fab-7217-1fac-8156-8a689b6f09b9@umd.edu%3e][Maillink: Reminder: EHT talk Friday 12:30 pm]]
-- copy a link to the selected message which can then be pasted into a calendar item under url.
-- Reference: https://superuser.com/a/8589/502567
tell application "Mail"
	set selectedMessages to selection
	set theMessage to item 1 of selectedMessages
	set messageid to message id of theMessage
	-- Make URL (must use URL-encoded values for "&lt;" and "&gt;")
	set msgSubject to subject of theMessage
	set urlText to "[[message://" &amp; "%3c" &amp; messageid &amp; "%3e][Maillink: " &amp; msgSubject &amp; "]]"
	set the clipboard to (urlText)
	set disMsg to urlText &amp; "
	
copied!"
	-- display dialog disMsg
end tell
</pre>

<p>
Source: <a href="https://emacs.stackexchange.com/a/46028/26582">https://emacs.stackexchange.com/a/46028/26582</a>. Original answer applied <code>url-hexify-string</code> to <code>id</code>: <code>(url-hexify-string id)</code>. 
</p>

</section>
<section id="slide-org9e4de3a">
<h3 id="org9e4de3a"><span class="section-number-3">7.21.</span> org-fancy-priorities</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">org-fancy-priorities</span>
  <span style="color: #a626a4;">:diminish</span>
  <span style="color: #a626a4;">:ensure</span> t
  <span style="color: #a626a4;">:hook</span> (org-mode . org-fancy-priorities-mode)
  <span style="color: #a626a4;">:config</span>
  (<span style="color: #e45649;">setq</span> org-fancy-priorities-list '(<span style="color: #50a14f;">"&#127344;"</span> <span style="color: #50a14f;">"&#127345;"</span> <span style="color: #50a14f;">"&#127346;"</span> <span style="color: #50a14f;">"&#127347;"</span> <span style="color: #50a14f;">"&#127348;"</span>)))
</code></pre>
</div>

</section>
<section id="slide-org3bee26e">
<h3 id="org3bee26e"><span class="section-number-3">7.22.</span> org-reveal: org presentation</h3>
<p>
Do a presentation with org mode
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">ox-reveal</span>)
(<span style="color: #e45649;">setq</span> org-reveal-root <span style="color: #50a14f;">"/Users/chongchonghe/local/reveal.js-master"</span>)
</code></pre>
</div>

</section>
<section id="slide-orgc5443ba">
<h3 id="orgc5443ba"><span class="section-number-3">7.23.</span> org preview</h3>
<p>
org-preview-html
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">org-preview-html</span>
  <span style="color: #a626a4;">:defer</span> 20
)
</code></pre>
</div>

<p>
skewer-mode
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">skewer-mode</span>)
</code></pre>
</div>

<p>
impatient-mode
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">impatient-mode</span>)
</code></pre>
</div>

</section>
<section id="slide-orge9ba622">
<h3 id="orge9ba622"><span class="section-number-3">7.24.</span> org-hugo</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">ox-hugo</span>
  <span style="color: #a626a4;">:ensure</span> t   <span style="color: #9ca0a4;">;</span><span style="color: #9ca0a4;">Auto-install the package from Melpa</span>
  <span style="color: #a626a4;">:pin</span> melpa  <span style="color: #9ca0a4;">;</span><span style="color: #9ca0a4;">`</span><span style="color: #b751b6;">package-archives</span><span style="color: #9ca0a4;">' should already have ("melpa" . "https://melpa.</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">org/packages/")</span>
  <span style="color: #a626a4;">:after</span> ox)
</code></pre>
</div>

</section>
<section id="slide-org096a82d">
<h3 id="org096a82d"><span class="section-number-3">7.25.</span> ox-gfm</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">ox-gfm</span>)
(eval-after-load <span style="color: #50a14f;">"org"</span>
  '(<span style="color: #e45649;">require</span> '<span style="color: #b751b6;">ox-gfm</span> nil t))
</code></pre>
</div>

</section>
<section id="slide-org60b72a1">
<h3 id="org60b72a1"><span class="section-number-3">7.26.</span> liveorg</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim><span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(add-to-list 'load-path (expand-file-name "~/.emacs.d/emacs-liveorg"))</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(require 'liveorg)</span>
(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">liveorg</span>
  <span style="color: #a626a4;">:defer</span> 5
  <span style="color: #a626a4;">:load-path</span> <span style="color: #50a14f;">"~/.emacs.d/emacs-liveorg"</span>
  <span style="color: #a626a4;">:config</span>
  (<span style="color: #e45649;">setq</span> liveorg-browser <span style="color: #50a14f;">"Safari.app"</span>)
  (define-key org-mode-map <span style="color: #50a14f;">"\C-cE"</span> 'liveorg-preview)
  )
</code></pre>
</div>

</section>
<section id="slide-org7086dc8">
<h3 id="org7086dc8"><span class="section-number-3">7.27.</span> org-inline-pdf</h3>
<p>
To enable inline PDF preview in Org buffers. Source: <a href="https://github.com/shg/org-inline-pdf.el">https://github.com/shg/org-inline-pdf.el</a>
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">org-inline-pdf</span>
  <span style="color: #a626a4;">:ensure</span> t
  <span style="color: #a626a4;">:defer</span> 5
  <span style="color: #a626a4;">:mode</span> (<span style="color: #50a14f;">"\\.org\\'"</span> . org-mode)
  <span style="color: #a626a4;">:config</span>
  (add-hook 'org-mode-hook #'org-inline-pdf-mode))
</code></pre>
</div>

</section>
<section id="slide-orge8201eb">
<h3 id="orge8201eb"><span class="section-number-3">7.28.</span> LibreOffice</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim><span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">This setup is tested on Emacs 24.3 &amp; Emacs 24.4 on Linux/OSX</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">org v7 bundled with Emacs 24.3</span>
(<span style="color: #e45649;">setq</span> org-export-odt-preferred-output-format <span style="color: #50a14f;">"doc"</span>)
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">org v8 bundled with Emacs 24.4</span>
(<span style="color: #e45649;">setq</span> org-odt-preferred-output-format <span style="color: #50a14f;">"doc"</span>)
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">BTW, you can assign "pdf" in above variables if you prefer PDF format</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">"doc" for word document</span>

<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Only OSX need below setup</span>
(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-setup-odt-org-convert-process</span> ()
  (<span style="color: #e45649;">interactive</span>)
  (<span style="color: #e45649;">let</span> ((cmd <span style="color: #50a14f;">"/Applications/LibreOffice.app/Contents/MacOS/soffice"</span>))
    (<span style="color: #e45649;">when</span> (<span style="color: #e45649;">and</span> (eq system-type 'darwin) (file-exists-p cmd))
      <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">org v7</span>
      (<span style="color: #e45649;">setq</span> org-export-odt-convert-processes '((<span style="color: #50a14f;">"LibreOffice"</span> <span style="color: #50a14f;">"/Applications/Lib</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">reOffice.app/Contents/MacOS/soffice --headless --convert-to %f%x --outdir %d %i"</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">)))</span>
      <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">org v8</span>
      (<span style="color: #e45649;">setq</span> org-odt-convert-processes '((<span style="color: #50a14f;">"LibreOffice"</span> <span style="color: #50a14f;">"/Applications/LibreOffic</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">e.app/Contents/MacOS/soffice --headless --convert-to %f%x --outdir %d %i"</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">))))</span>
    ))
(my-setup-odt-org-convert-process)
</code></pre>
</div>

</section>
<section id="slide-orga04fe45">
<h3 id="orga04fe45"><span class="section-number-3">7.29.</span> Formats in Chinese language</h3>
<p>
让中文也可以不加空格就使用行内格式 (<a href="https://emacs-china.org/t/orgmode/9740/12">ref</a>)
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(setcar (nthcdr 0 org-emphasis-regexp-components) <span style="color: #50a14f;">" \t('\"{[:nonascii:]"</span>)
(setcar (nthcdr 1 org-emphasis-regexp-components) <span style="color: #50a14f;">"- \t.,:!?;'\")}\\[[:nonascii:</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">]"</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">)</span>
(org-set-emph-re 'org-emphasis-regexp-components org-emphasis-regexp-components)
(org-element-update-syntax)
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">&#35268;&#23450;&#19978;&#19979;&#26631;&#24517;&#39035;&#21152; {}&#65292;&#21542;&#21017;&#20013;&#25991;&#20351;&#29992;&#19979;&#21010;&#32447;&#26102;&#23427;&#20250;&#20197;&#20026;&#26159;&#20004;&#20010;&#36830;&#30528;&#30340;&#19979;&#26631;</span>
(<span style="color: #e45649;">setq</span> org-use-sub-superscripts <span style="color: #50a14f;">"{}"</span>)
</code></pre>
</div>

</section>
<section id="slide-orgc038799">
<h3 id="orgc038799"><span class="section-number-3">7.30.</span> fragtog-mode</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">org-fragtog</span>
  <span style="color: #a626a4;">:defer</span> 10
  )
</code></pre>
</div>

</section>
<section id="slide-orgf25a24f">
<h3 id="orgf25a24f"><span class="section-number-3">7.31.</span> Parsing file links</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-org-link-info</span> (link)
  (<span style="color: #e45649;">interactive</span>)
  (<span style="color: #e45649;">let</span> ((path (org-element-property <span style="color: #a626a4;">:path</span> link))
        (type (org-element-property <span style="color: #a626a4;">:type</span> link))
        (desc (substring-no-properties (nth 2 link))))
    (list type path desc)))

(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-org-links</span> ()
  (<span style="color: #e45649;">interactive</span>)
(org-element-map (org-element-parse-buffer) 'link
  (<span style="color: #e45649;">lambda</span> (link)
    (<span style="color: #e45649;">when</span> (string= (org-element-property <span style="color: #a626a4;">:type</span> link) <span style="color: #50a14f;">"file"</span>)
      (org-element-property <span style="color: #a626a4;">:path</span> link))))
)
</code></pre>
</div>

</section>
</section>
<section>
<section id="slide-org6f7720c">
<h2 id="org6f7720c"><span class="section-number-2">8.</span> yasnippet</h2>
<p>
The default snippets are located in
<code>~/.emacs.d/elpa/yasnippet-0.12.2/snippets</code>. My own snippet files are
located in <code>~/dotfiles/emacs/snippets</code>. To add more snippets for
auto-completion, add snippets files into that folder.
</p>

</section>
<section id="slide-org8e2c7ad">
<h3 id="org8e2c7ad"><span class="section-number-3">8.1.</span> Usage</h3>
<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<tbody>
<tr>
<td class="org-left"><code>TAB</code></td>
<td class="org-left">hippie-expand: expand template at point</td>
</tr>

<tr>
<td class="org-left"><code>M-x yas-visit-snippet-file</code></td>
<td class="org-left">yas-expand: expand template at point</td>
</tr>

<tr>
<td class="org-left"><code>M-/</code> (spacemacs only)</td>
<td class="org-left">Edit snippet files for current mode</td>
</tr>
</tbody>
</table>

</section>
<section id="slide-org1c7bbf4">
<h3 id="org1c7bbf4"><span class="section-number-3">8.2.</span> Available snippets</h3>
<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">org-mode</th>
<th scope="col" class="org-left">&#xa0;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>lisp</code></td>
<td class="org-left"><code>#+begin_src emacs-lisp</code> stuff</td>
</tr>

<tr>
<td class="org-left"><code>img_</code></td>
<td class="org-left"><code>&lt;img src=...</code> stuff</td>
</tr>
</tbody>
</table>

<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">python-mode</th>
<th scope="col" class="org-left">&#xa0;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>np</code></td>
<td class="org-left"><code>import numpy as np</code></td>
</tr>

<tr>
<td class="org-left"><code>plt</code></td>
<td class="org-left"><code>import matplotlib.pyplot as plt</code></td>
</tr>

<tr>
<td class="org-left"><code>ifm</code></td>
<td class="org-left"><code>if __name__ == '__main__':</code></td>
</tr>
</tbody>
</table>

</section>
<section id="slide-orgc66f90a">
<h3 id="orgc66f90a"><span class="section-number-3">8.3.</span> Config</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">setq-default</span> mode-require-final-newline nil)

(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">yasnippet</span>
  <span style="color: #a626a4;">:defer</span> 3
  <span style="color: #a626a4;">:diminish</span> yas-minor-mode
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">:init (yas-global-mode)</span>
  <span style="color: #a626a4;">:ensure</span> t
  <span style="color: #a626a4;">:config</span>
  (<span style="color: #e45649;">setq</span> yas-snippet-dirs '(<span style="color: #50a14f;">"~/dotfiles/emacs/snippets/yasnippet-snippets-2021010</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">5.1346/snippets"</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;"> </span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">"~/dotfiles/emacs/snippets/personal"</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">))</span>
  (yas-global-mode 1)
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(add-to-list #'yas-snippet-dirs "~/dotfiles/emacs/snippets/yasnippet-snippe</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">ts-20210105.1346/snippets")</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(add-to-list #'yas-snippet-dirs "~/dotfiles/emacs/snippets/personal")</span>
  (yas-reload-all)
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(progn</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(add-hook 'hippie-expand-try-functions-list 'yas-hippie-try-expand)</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">;; (setq yas-key-syntaxes '("w_" "w_." "^ "))</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(setq yas-installed-snippets-dir "~/dotfiles/emacs/snippets")</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(setq yas-expand-only-for-last-commands nil))</span>
  )
</code></pre>
</div>

<p>
Not used
</p>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  (<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-yasnippet-config</span> ()
    (<span style="color: #e45649;">require</span> '<span style="color: #b751b6;">yasnippet</span>)
    (<span style="color: #e45649;">setq</span> yas-triggers-in-field t)
  <span style="color: #9ca0a4;">;;; </span><span style="color: #9ca0a4;">https://superuser.com/questions/1006188/can-emacs-be-set-up-to-display-pyt</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">hon-code-in-python-mode-and-display-docstrings</span>
                                          <span style="color: #9ca0a4;">;</span><span style="color: #9ca0a4;">(add-to-list 'load-path "~/.emacs.d/p</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">ython-docstring-mode")</span>
                                          <span style="color: #9ca0a4;">;</span><span style="color: #9ca0a4;">(require 'python-docstring)</span>
                                          <span style="color: #9ca0a4;">;</span><span style="color: #9ca0a4;">(add-hook 'python-mode-hook (lambda (</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">) (python-docstring-mode t)))</span>
    (yas-minor-mode 1)
    <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(defun my/autoinsert-yas-expand()</span>
    <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">"Replace text in yasnippet template."</span>
    <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(yas/expand-snippet (buffer-string) (point-min) (point-max)))</span>
    )
</code></pre>
</div>

</section>
</section>
<section>
<section id="slide-orge438ffa">
<h2 id="orge438ffa"><span class="section-number-2">9.</span> helm</h2>
<p>
Ref: <a href="https://emacs-helm.github.io/helm/">https://emacs-helm.github.io/helm/</a>
</p>

<ul>
<li><a href="https://tuhdo.github.io/helm-intro.html">https://tuhdo.github.io/helm-intro.html</a> and
<a href="https://www.sandeepnambiar.com/my-minimal-emacs-setup/">https://www.sandeepnambiar.com/my-minimal-emacs-setup/</a>
<ul>
<li>TODO: make this work</li>

</ul></li>

</ul>


<p>
Before we load any helm things, need to load helm-flx so it uses flx
instead of helm’s fuzzy matching. (<a href="https://github.com/dakrone/dakrone-dotfiles/blob/master/emacs.org">Ref</a>)
</p>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  (<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">helm-flx</span>
    <span style="color: #a626a4;">:init</span> (helm-flx-mode +1))
</code></pre>
</div>

<p>
A good reference: <a href="https://writequit.org/org/settings.html#sec-1-34">https://writequit.org/org/settings.html#sec-1-34</a>
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">helm</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">:bind</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(("C-M-z" . helm-resume)</span>
  <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">("C-x C-f" . helm-find-files)</span>
  <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">("C-h b" . helm-descbinds)</span>
  <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">("C-x C-r" . helm-mini)</span>
  <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">("C-x M-o" . helm-occur)</span>
  <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">("M-y" . helm-show-kill-ring)</span>
  <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">("C-h a" . helm-apropos)</span>
  <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">("C-h m" . helm-man-woman)</span>
  <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">("M-g &gt;" . helm-ag-this-file)</span>
  <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">("M-g ," . helm-ag-pop-stack)</span>
  <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">("M-g ." . helm-do-grep)</span>
  <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">("C-x C-i" . helm-semantic-or-imenu)</span>
  <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">("M-x" . helm-M-x)</span>
  <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">("C-x C-b" . helm-buffers-list)</span>
  <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">("C-x C-r" . helm-mini)</span>
  <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">("C-x b" . helm-mini)</span>
  <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">("C-h t" . helm-world-time))</span>
  <span style="color: #a626a4;">:init</span>
  (helm-mode 1)
  <span style="color: #a626a4;">:config</span>
  (global-set-key (kbd <span style="color: #50a14f;">"M-x"</span>) #'helm-M-x)
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(global-set-key (kbd "C-x r b") #'helm-filtered-bookmarks)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(global-set-key (kbd "M-C-b") #'helm-filtered-bookmarks)</span>
  (global-set-key (kbd <span style="color: #50a14f;">"M-C-o"</span>) #'helm-filtered-bookmarks)
  (global-set-key (kbd <span style="color: #50a14f;">"C-x C-f"</span>) #'helm-find-files)
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">rebind tab to run persistent action</span>
  (define-key helm-map (kbd <span style="color: #50a14f;">"&lt;tab&gt;"</span>) 'helm-execute-persistent-action)
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">make TAB work in terminal</span>
  (define-key helm-map (kbd <span style="color: #50a14f;">"C-i"</span>) 'helm-execute-persistent-action)
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">list actions using C-z</span>
  (define-key helm-map (kbd <span style="color: #50a14f;">"C-z"</span>)  'helm-select-action)
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">unknonw</span>
    <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq helm-split-window-inside-p t</span>
    <span style="color: #9ca0a4;">;;       </span><span style="color: #9ca0a4;">helm-move-to-line-cycle-in-source t)</span>
    <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq helm-autoresize-max-height 0)</span>
    <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq helm-autoresize-min-height 20)</span>
    <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(helm-autoresize-mode 1)</span>
  )
</code></pre>
</div>

</section>
</section>
<section>
<section id="slide-org328793a">
<h2 id="org328793a"><span class="section-number-2">10.</span> python</h2>
<div class="outline-text-2" id="text-10">
</div>
</section>
<section id="slide-org446c1bb">
<h3 id="org446c1bb"><span class="section-number-3">10.1.</span> Basics</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-turn-on-elpy-mode</span> ()
  (<span style="color: #e45649;">interactive</span>)
  (elpy-enable)
  (elpy-mode))

(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">python</span>
  <span style="color: #a626a4;">:defer</span> t
  <span style="color: #a626a4;">:mode</span> (<span style="color: #50a14f;">"\\.py\\'"</span> . python-mode)
  <span style="color: #a626a4;">:interpreter</span> (<span style="color: #50a14f;">"python"</span> . python-mode)
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">:hook hs-minor-mode</span>
  <span style="color: #a626a4;">:bind</span> (<span style="color: #a626a4;">:map</span> python-mode-map
        (<span style="color: #50a14f;">"C-c C-c"</span> . compile)
        (<span style="color: #50a14f;">"s-e"</span> . my-turn-on-elpy-mode)
        )
  <span style="color: #a626a4;">:config</span>
  (<span style="color: #e45649;">setq</span> python-indent-offset 4)
  (<span style="color: #e45649;">setq</span> python-shell-interpreter <span style="color: #50a14f;">"/Users/chongchonghe/anaconda3/bin/python3"</span>)
  (define-key python-mode-map (kbd <span style="color: #50a14f;">"C-c C-z"</span>) 'run-python)
  (define-key python-mode-map (kbd <span style="color: #50a14f;">"&lt;backtab&gt;"</span>) 'python-back-indent)
  (<span style="color: #e45649;">setq</span> python-python-command <span style="color: #50a14f;">"/Users/chongchonghe/anaconda3/bin/python"</span>)
  (<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-insert-comments</span> (string)
    <span style="color: #84888b; font-style: italic;">"Insert </span><span style="color: #986801; font-style: italic;">\</span><span style="color: #84888b; font-style: italic;">label{ARG} </span><span style="color: #986801; font-style: italic;">\</span><span style="color: #84888b; font-style: italic;">index{\nameref{ARG}} at point"</span>
    (<span style="color: #e45649;">interactive</span> <span style="color: #50a14f;">"sString for \\label and \\nameref: "</span>)
    (insert <span style="color: #50a14f;">"##### "</span>  string  <span style="color: #50a14f;">" #####"</span>))
  (define-key python-mode-map (kbd <span style="color: #50a14f;">"&lt;f5&gt;"</span>) 'my-insert-comments)
  (<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-insert-comments-block</span> (string)
    <span style="color: #84888b; font-style: italic;">"Insert </span><span style="color: #986801; font-style: italic;">\</span><span style="color: #84888b; font-style: italic;">label{ARG} </span><span style="color: #986801; font-style: italic;">\</span><span style="color: #84888b; font-style: italic;">index{\nameref{ARG}} at point"</span>
    (<span style="color: #e45649;">interactive</span> <span style="color: #50a14f;">"sString for \\label and \\nameref: "</span>)
    (insert <span style="color: #50a14f;">"# {{{ "</span>  string  <span style="color: #50a14f;">" </span>
<span style="color: #50a14f;">  # }}}"</span>))
  (define-key python-mode-map (kbd <span style="color: #50a14f;">"&lt;f6&gt;"</span>) 'my-insert-comments-block)
  )
(add-hook 'python-mode-hook 'hs-minor-mode)
</code></pre>
</div>

</section>
<section id="slide-org6452b54">
<h3 id="org6452b54"><span class="section-number-3">10.2.</span> Jedi</h3>
<p>
elpy include jedi???
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(use-package jedi</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">       :ensure t)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq elpy-rpc-backend "jedi")</span>
</code></pre>
</div>

</section>
<section id="slide-orgcc56227">
<h3 id="orgcc56227"><span class="section-number-3">10.3.</span> elpy</h3>
<p>
Ref: <a href="https://medium.com/analytics-vidhya/managing-a-python-development-environment-in-emacs-43897fd48c6a">https://medium.com/analytics-vidhya/managing-a-python-development-environment-in-emacs-43897fd48c6a</a>
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">flycheck</span>)

(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">elpy</span>
  <span style="color: #a626a4;">:bind</span>
  (<span style="color: #a626a4;">:map</span> elpy-mode-map
  (<span style="color: #50a14f;">"C-M-n"</span> . elpy-nav-forward-block)
  (<span style="color: #50a14f;">"C-M-p"</span> . elpy-nav-backward-block))
  <span style="color: #a626a4;">:hook</span> ((elpy-mode . flycheck-mode))
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">:init</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(elpy-enable)</span>
  <span style="color: #a626a4;">:config</span>
  (<span style="color: #e45649;">setq</span> elpy-modules (delq 'elpy-module-flymake elpy-modules))
          <span style="color: #9ca0a4;">; </span><span style="color: #9ca0a4;">fix for MacOS, see https://github.com/jorgenschaefer/elpy/issues/155</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">0</span>
  (<span style="color: #e45649;">setq</span> elpy-shell-echo-output nil)
  (<span style="color: #e45649;">setq</span> elpy-rpc-python-command <span style="color: #50a14f;">"python3"</span>)
  (<span style="color: #e45649;">setq</span> elpy-rpc-timeout 30)    <span style="color: #9ca0a4;">; </span><span style="color: #9ca0a4;">elpy autopep8 call timeout</span>
  ) 
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(use-package elpy</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">:ensure t</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">:commands elpy-enable</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">:init (with-eval-after-load 'python (elpy-enable))</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">)</span>
</code></pre>
</div>

</section>
<section id="slide-orgf0d4fec">
<h3 id="orgf0d4fec"><span class="section-number-3">10.4.</span> old</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  (<span style="color: #e45649;">with-eval-after-load</span> 'python
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Disable elpy Vertical Guide Lines for Indentation</span>
  (add-hook 'elpy-mode-hook (<span style="color: #e45649;">lambda</span> () (highlight-indentation-mode -1)))
  (<span style="color: #e45649;">when</span> (<span style="color: #e45649;">require</span> '<span style="color: #b751b6;">flycheck</span> nil t)
    (<span style="color: #e45649;">setq</span> elpy-modules (delq 'elpy-module-flymake elpy-modules))
    (add-hook 'elpy-mode-hook 'flycheck-mode))
  <span style="color: #9ca0a4;">;;</span><span style="color: #9ca0a4;">(require 'py-autopep8)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(define-key ein:notebook-mode-map (kbd "C-c C-x d")</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">'ein:worksheet-delete-cell)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Autoinsert Python comments</span>
  <span style="color: #9ca0a4;">;;</span><span style="color: #9ca0a4;">(global-set-key (kbd "&lt;f6&gt;") 'my-insert-docstring)</span>
  <span style="color: #9ca0a4;">;;</span><span style="color: #9ca0a4;">(defun my-insert-docstring (string)</span>
  <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">"Insert \label{ARG} \index{\nameref{ARG}} at point"</span>
  <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">(interactive "sString for \\label and \\nameref: ")</span>
  <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">(insert '""" '  string  ' """'))</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">jedi, replaced by (setq elpy-rpc-backend "jedi")</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(add-hook 'python-mode-hook 'jedi:setup)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq jedi:complete-on-dot t)</span>
  (<span style="color: #e45649;">setq</span> elpy-rpc-ignored-buffer-size 204800)
  )
</code></pre>
</div>

<p>
Auto-insert (disabled). <a href="https://emacs.stackexchange.com/questions/36721/evil-mode-interacting-with-python-el-invoking-skeletons">Ref</a>. Replaced by yasnippet
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">ref: https://www.webscalability.com/blog/2018/07/auto-insert-snippet-for-py</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">thon-emacs/</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">insert python skeleton with auto-insert</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq python-skeleton-autoinsert nil)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(eval-after-load 'autoinsert</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">'(define-auto-insert</span>
  <span style="color: #9ca0a4;">;;      </span><span style="color: #9ca0a4;">'("\\.\\py\\'" . "python skeleton")</span>
  <span style="color: #9ca0a4;">;;      </span><span style="color: #9ca0a4;">'(""</span>
  <span style="color: #9ca0a4;">;;        </span><span style="color: #9ca0a4;">"#!/usr/bin/env python" \n</span>
  <span style="color: #9ca0a4;">;;        </span><span style="color: #9ca0a4;">"\"\"\" "</span>
  <span style="color: #9ca0a4;">;;        </span><span style="color: #9ca0a4;">(file-name-nondirectory (buffer-file-name)) \n \n</span>
  <span style="color: #9ca0a4;">;;        </span><span style="color: #9ca0a4;">"Author: Chong-Chong He (che1234@umd.edu)" \n</span>
  <span style="color: #9ca0a4;">;;        </span><span style="color: #9ca0a4;">"Written on " (format-time-string "%a, %e %b %Y.") \n</span>
  <span style="color: #9ca0a4;">;;        </span><span style="color: #9ca0a4;">"\"\"\"" \n</span>
  <span style="color: #9ca0a4;">;;        </span><span style="color: #9ca0a4;">\n</span>
  <span style="color: #9ca0a4;">;;        </span><span style="color: #9ca0a4;">"import numpy as np" \n</span>
  <span style="color: #9ca0a4;">;;        </span><span style="color: #9ca0a4;">"import matplotlib.pyplot as plt" \n</span>
  <span style="color: #9ca0a4;">;;        </span><span style="color: #9ca0a4;">\n</span>
  <span style="color: #9ca0a4;">;;        </span><span style="color: #9ca0a4;">&gt; _ \n</span>
  <span style="color: #9ca0a4;">;;        </span><span style="color: #9ca0a4;">\n</span>
  <span style="color: #9ca0a4;">;;        </span><span style="color: #9ca0a4;">"if __name__ == '</span><span style="color: #b751b6;">__main__</span><span style="color: #9ca0a4;">':" \n</span>
  <span style="color: #9ca0a4;">;;        </span><span style="color: #9ca0a4;">"pass" \n \n)))</span>
</code></pre>
</div>

</section>
<section id="slide-org58cd9d3">
<h3 id="org58cd9d3"><span class="section-number-3">10.5.</span> Snippets</h3>
<p>
Usage: <code>defg&lt;tab&gt;</code>. Ref: stackexchange, <a href="https://emacs.stackexchange.com/a/19471/26582">Library for automatically inserting python docstring in Google style</a>
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  (<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">python-args-to-google-docstring</span> (text <span style="color: #986801;">&amp;optional</span> make-fields)
  <span style="color: #84888b; font-style: italic;">"Return a reST docstring format for the python arguments in yas-text."</span>
  (<span style="color: #e45649;">let*</span> ((indent (concat <span style="color: #50a14f;">"\n"</span> (make-string (current-column) 32)))
       (args (python-split-args text))
     (nr 0)
       (formatted-args
    (mapconcat
     (<span style="color: #e45649;">lambda</span> (x)
       (concat <span style="color: #50a14f;">"    "</span> (nth 0 x)
         (<span style="color: #e45649;">if</span> make-fields (format <span style="color: #50a14f;">" ${%d:arg%d}"</span> (<span style="color: #e45649;">cl-incf</span> nr) nr))
         (<span style="color: #e45649;">if</span> (nth 1 x) (concat <span style="color: #50a14f;">" </span><span style="color: #986801;">\</span><span style="color: #50a14f;">(default "</span> (nth 1 x) <span style="color: #50a14f;">"</span><span style="color: #986801;">\</span><span style="color: #50a14f;">)"</span>))))
     args
     indent)))
    (<span style="color: #e45649;">unless</span> (string= formatted-args <span style="color: #50a14f;">""</span>)
    (concat
     (mapconcat 'identity
      (list <span style="color: #50a14f;">""</span> <span style="color: #50a14f;">"Args:"</span> formatted-args)
      indent)
     <span style="color: #50a14f;">"\n"</span>))))
</code></pre>
</div>

</section>
<section id="slide-org7058cdf">
<h3 id="org7058cdf"><span class="section-number-3">10.6.</span> Anaconda-mode</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  (<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">anaconda-mode</span>)
</code></pre>
</div>

</section>
</section>
<section>
<section id="slide-orga246e33">
<h2 id="orga246e33"><span class="section-number-2">11.</span> Jupyter notebook</h2>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">ein</span>)
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(use-package ein</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">:config</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(setq ob-ein-languages</span>
<span style="color: #9ca0a4;">;;    </span><span style="color: #9ca0a4;">(quote</span>
<span style="color: #9ca0a4;">;;     </span><span style="color: #9ca0a4;">(("ein-python" . python)</span>
<span style="color: #9ca0a4;">;;      </span><span style="color: #9ca0a4;">("ein-R" . R)</span>
<span style="color: #9ca0a4;">;;      </span><span style="color: #9ca0a4;">("ein-r" . R)</span>
<span style="color: #9ca0a4;">;;      </span><span style="color: #9ca0a4;">("ein-rust" . rust)</span>
<span style="color: #9ca0a4;">;;      </span><span style="color: #9ca0a4;">("ein-haskell" . haskell)</span>
<span style="color: #9ca0a4;">;;      </span><span style="color: #9ca0a4;">("ein-julia" . julia))))</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">)</span>
</code></pre>
</div>

</section>
</section>
<section>
<section id="slide-orgee26b96">
<h2 id="orgee26b96"><span class="section-number-2">12.</span> Julia mode</h2>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">set-selective-display-dlw</span> (<span style="color: #986801;">&amp;optional</span> level)
<span style="color: #84888b; font-style: italic;">"Fold text indented same of more than the cursor.</span>
<span style="color: #84888b; font-style: italic;">If level is set, set the indent level to LEVEL.</span>
<span style="color: #84888b; font-style: italic;">If '</span><span style="color: #b751b6; font-style: italic;">selective-display</span><span style="color: #84888b; font-style: italic;">' is already set to LEVEL, clicking</span>
<span style="color: #84888b; font-style: italic;">F5 again will unset '</span><span style="color: #b751b6; font-style: italic;">selective-display</span><span style="color: #84888b; font-style: italic;">' by setting it to 0."</span>
  (<span style="color: #e45649;">interactive</span> <span style="color: #50a14f;">"P"</span>)
  (<span style="color: #e45649;">if</span> (eq selective-display (1+ (current-column)))
      (set-selective-display 0)
    (set-selective-display (<span style="color: #e45649;">or</span> level (1+ (current-column))))))

(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">julia-mode</span>
  <span style="color: #a626a4;">:bind</span> (<span style="color: #50a14f;">"C-c C-c"</span> . set-selective-display-dlw)
)
</code></pre>
</div>


<p>
Outshine: not use. Not using
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">outshine</span>
  <span style="color: #a626a4;">:init</span>
  (<span style="color: #e45649;">progn</span>
    <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(add-hook 'outline-minor-mode-hook 'outshine-mode)</span>
    <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(add-hook 'c-mode-common-hook 'outline-minor-mode)</span>
    <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(add-hook 'sh-mode-common-hook 'outline-minor-mode)</span>
    (add-hook 'julia-mode-hook 'outline-minor-mode)))
</code></pre>
</div>

</section>
</section>
<section>
<section id="slide-org60d95e8">
<h2 id="org60d95e8"><span class="section-number-2">13.</span> C++ mode</h2>
<p>
Not using it. Configure later
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-CC++-config</span> ()
  (<span style="color: #e45649;">setq-default</span> c-basic-offset 4)
  (add-hook 'c-mode-common-hook
      (<span style="color: #e45649;">lambda</span> ()
        (<span style="color: #e45649;">when</span> (<span style="color: #e45649;">and</span> (derived-mode-p 'c-mode 'c++-mode 'java-mode) (<span style="color: #e45649;">require</span> '<span style="color: #b751b6;">ggtag</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">s</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;"> nil 'noerror))</span>
    (ggtags-mode 1))
        (global-set-key (kbd <span style="color: #50a14f;">"M-j"</span>) 'windmove-down)
        ))
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(define-skeleton 'c++-throwaway</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">"Throwaway C skeleton"</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">nil</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">"#include &lt;iostream&gt;\n"</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">"#include &lt;string&gt;\n"</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">"#include &lt;fstream&gt;\n"</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">"\n"</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">"using namespace std;\n"</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">"\n"</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">"int main(void){\n"</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">"  \n"</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">"  return 0;\n"</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">"}\n")</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">'("\\.\\(CC?\\|cc\\|cxx\\|cpp\\|c++\\)\\'" . "C++-throwaway")</span>
  (eval-after-load 'autoinsert
    '(define-auto-insert
       '(<span style="color: #50a14f;">"\\.</span><span style="color: #4078f2; font-weight: bold;">\\</span><span style="color: #4078f2; font-weight: bold;">(</span><span style="color: #50a14f;">CC?</span><span style="color: #4078f2; font-weight: bold;">\\</span><span style="color: #4078f2; font-weight: bold;">|</span><span style="color: #50a14f;">cc</span><span style="color: #4078f2; font-weight: bold;">\\</span><span style="color: #4078f2; font-weight: bold;">|</span><span style="color: #50a14f;">cxx</span><span style="color: #4078f2; font-weight: bold;">\\</span><span style="color: #4078f2; font-weight: bold;">|</span><span style="color: #50a14f;">cpp</span><span style="color: #4078f2; font-weight: bold;">\\</span><span style="color: #4078f2; font-weight: bold;">|</span><span style="color: #50a14f;">c++</span><span style="color: #4078f2; font-weight: bold;">\\</span><span style="color: #4078f2; font-weight: bold;">)</span><span style="color: #50a14f;">\\'"</span> . <span style="color: #50a14f;">"C++ skeleton"</span>)
       '(<span style="color: #50a14f;">"Short description: "</span>
   <span style="color: #50a14f;">"/*"</span> \n
   (file-name-nondirectory (buffer-file-name))
   <span style="color: #50a14f;">" -- "</span> str \n
   <span style="color: #50a14f;">" */"</span> &gt; \n \n
   <span style="color: #50a14f;">"#include &lt;iostream&gt;"</span> \n \n
   <span style="color: #50a14f;">"using namespace std;"</span> \n \n
   <span style="color: #50a14f;">"int main()"</span> \n
   -4 <span style="color: #50a14f;">"{"</span> \n
   &gt; _ \n
   &gt; _ <span style="color: #50a14f;">"return 0;"</span> \n
   -4 <span style="color: #50a14f;">"}"</span> &gt; \n)))
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">https://www.emacswiki.org/emacs/AutoInsertMode</span>
  (eval-after-load 'autoinsert
    '(define-auto-insert '(<span style="color: #50a14f;">"\\.c\\'"</span> . <span style="color: #50a14f;">"C skeleton"</span>)
       '(
   <span style="color: #50a14f;">"Short description: "</span>
   <span style="color: #50a14f;">"/**\n * "</span>
   (file-name-nondirectory (buffer-file-name))
   <span style="color: #50a14f;">" -- "</span> str \n
   <span style="color: #50a14f;">"*"</span> \n
   <span style="color: #50a14f;">"* Written on "</span> (format-time-string <span style="color: #50a14f;">"%a, %e %b %Y."</span>) \n
   <span style="color: #50a14f;">"*/"</span> &gt; \n \n
   <span style="color: #50a14f;">"#include &lt;stdio.h&gt;"</span> \n
   \n
   <span style="color: #50a14f;">"int main()"</span> \n
   <span style="color: #50a14f;">"{"</span> &gt; \n
   &gt; _ \n
   <span style="color: #50a14f;">"}"</span> &gt; \n)))
  )

(add-hook 'C++-mode-hook 'my-CC++-config)
</code></pre>
</div>

</section>
</section>
<section>
<section id="slide-org40ae444">
<h2 id="org40ae444"><span class="section-number-2">14.</span> Fortran mode</h2>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-fortran-config</span> ()
  (<span style="color: #e45649;">require</span> '<span style="color: #b751b6;">f90-namelist-mode</span>)
  (autoload 'f90-mode <span style="color: #50a14f;">"f90"</span> <span style="color: #84888b; font-style: italic;">"Fortran 90 mode"</span> t)
  (<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-f90-mode-hook</span> ()
    (<span style="color: #e45649;">setq</span> f90-font-lock-keywords f90-font-lock-keywords-3)
    (abbrev-mode 1)                       <span style="color: #9ca0a4;">; </span><span style="color: #9ca0a4;">turn on abbreviation mode</span>
    (turn-on-font-lock)                   <span style="color: #9ca0a4;">; </span><span style="color: #9ca0a4;">syntax highlighting</span>
    (auto-fill-mode 0))                   <span style="color: #9ca0a4;">; </span><span style="color: #9ca0a4;">turn off auto-filling</span>
  (add-hook 'f90-mode-hook 'my-f90-mode-hook)
  (add-hook 'f90-mode-hook 'auto-fill-mode)
  (add-to-list 'auto-mode-alist '(<span style="color: #50a14f;">"\\.f9\\'"</span> . f90-mode))
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">From https://gist.github.com/aradi/68a4ff8430a735de13f13393213f0ea8</span>
  <span style="color: #9ca0a4;">;;</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Add this settings to your ~/.emacs file</span>
  <span style="color: #9ca0a4;">;;</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Fortran settings</span>
  (<span style="color: #e45649;">setq</span> fortran-continuation-string <span style="color: #50a14f;">"&amp;"</span>)
  (<span style="color: #e45649;">setq</span> fortran-do-indent 2)
  (<span style="color: #e45649;">setq</span> fortran-if-indent 2)
  (<span style="color: #e45649;">setq</span> fortran-structure-indent 2)
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Fortran 90 settings</span>
  (<span style="color: #e45649;">setq</span> f90-do-indent 2)
  (<span style="color: #e45649;">setq</span> f90-if-indent 2)
  (<span style="color: #e45649;">setq</span> f90-type-indent 2)
  (<span style="color: #e45649;">setq</span> f90-program-indent 2)
  (<span style="color: #e45649;">setq</span> f90-continuation-indent 4)
  (<span style="color: #e45649;">setq</span> f90-smart-end 'blink)
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Set Fortran and Fortran 90 mode for appropriate extensions</span>
  (<span style="color: #e45649;">setq</span> auto-mode-alist
  (cons '(<span style="color: #50a14f;">"\\.F90$"</span> . f90-mode) auto-mode-alist))
  (<span style="color: #e45649;">setq</span> auto-mode-alist
  (cons '(<span style="color: #50a14f;">"\\.pf$"</span> . f90-mode) auto-mode-alist))
  (<span style="color: #e45649;">setq</span> auto-mode-alist
  (cons '(<span style="color: #50a14f;">"\\.fpp$"</span> . f90-mode) auto-mode-alist))
  (<span style="color: #e45649;">setq</span> auto-mode-alist
  (cons '(<span style="color: #50a14f;">"\\.F$"</span> . fortran-mode) auto-mode-alist))
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Swap Return and C-j in Fortran 90 mode</span>
  (add-hook 'f90-mode-hook
      '(lambda ()
         (define-key f90-mode-map [return] 'f90-indent-new-line)
         (define-key f90-mode-map <span style="color: #50a14f;">"\C-j"</span> 'newline)
         (<span style="color: #e45649;">setq</span> fill-column 100)
         (abbrev-mode)
         (<span style="color: #e45649;">setq-default</span> indent-tabs-mode nil)
         (<span style="color: #e45649;">setq</span> whitespace-line-column 100)
         (<span style="color: #e45649;">setq</span> whitespace-style '(face tabs lines-tail empty))
         (whitespace-mode)
         <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(add-to-list 'write-file-functions 'delete-trailing-whitespace)</span>
         )
      )
  )
</code></pre>
</div>

</section>
</section>
<section>
<section id="slide-org3c45f8d">
<h2 id="org3c45f8d"><span class="section-number-2">15.</span> Markdown</h2>
<div class="outline-text-2" id="text-15">
</div>
</section>
<section id="slide-orgf6c595b">
<h3 id="orgf6c595b"><span class="section-number-3">15.1.</span> Links</h3>
<ul>
<li><a href="https://jblevins.org/projects/markdown-mode/">https://jblevins.org/projects/markdown-mode/</a></li>

</ul>

</section>
<section id="slide-org10f7241">
<h3 id="org10f7241"><span class="section-number-3">15.2.</span> Key-bindings</h3>
<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<tbody>
<tr>
<td class="org-left">C-c LEFT/RIGHT</td>
<td class="org-left">Downmote/Promote heading, list, etc</td>
</tr>

<tr>
<td class="org-left">C-c C-x C-m</td>
<td class="org-left">markdown-toggle-markup-hiding</td>
</tr>
</tbody>
</table>

</section>
<section id="slide-org9b0f691">
<h3 id="org9b0f691"><span class="section-number-3">15.3.</span> Basic configures</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">markdown-mode</span>
  <span style="color: #a626a4;">:ensure</span> t
  <span style="color: #a626a4;">:mode</span> (<span style="color: #50a14f;">"README\\.md\\'"</span> . gfm-mode)
  <span style="color: #a626a4;">:init</span>
  (<span style="color: #e45649;">setq</span> markdown-command <span style="color: #50a14f;">"multimarkdown"</span>)
)
(eval-after-load 'markdown-mode
'(progn
  (define-key evil-normal-state-map (kbd <span style="color: #50a14f;">"TAB"</span>) 'markdown-cycle)
(define-key markdown-mode-map (kbd <span style="color: #50a14f;">"M-n"</span>) 'markdown-outline-next)
(define-key markdown-mode-map (kbd <span style="color: #50a14f;">"M-p"</span>) 'markdown-outline-previous))
)
</code></pre>
</div>

<p>
Keybindings
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>
</code></pre>
</div>

<p>
Use tab as indent:
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  (add-hook 'text-mode-hook
          '(lambda ()
             (<span style="color: #e45649;">setq</span> indent-tabs-mode t)
             (<span style="color: #e45649;">setq</span> tab-width 4)))
</code></pre>
</div>

</section>
<section id="slide-org1b54c12">
<h3 id="org1b54c12"><span class="section-number-3">15.4.</span> Livedown</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(add-to-list 'load-path (expand-file-name <span style="color: #50a14f;">"~/.emacs.d/emacs-livedown"</span>))
(<span style="color: #e45649;">require</span> '<span style="color: #b751b6;">livedown</span>)
</code></pre>
</div>

</section>
<section id="slide-org29a4098">
<h3 id="org29a4098"><span class="section-number-3">15.5.</span> Marked 2.app</h3>
<p>
Source: <a href="https://www.nistara.net/post/2016-07-21-emacs-marked/">https://www.nistara.net/post/2016-07-21-emacs-marked/</a>
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim><span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Getting emacs to use the '</span><span style="color: #b751b6;">Marked</span><span style="color: #9ca0a4;">' app</span>
(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">markdown-preview-file</span> ()
  <span style="color: #84888b; font-style: italic;">"run Marked on the current file and revert the buffer"</span>
  (<span style="color: #e45649;">interactive</span>)
  (shell-command
   (format <span style="color: #50a14f;">"open -a /Applications/Marked\\ 2.app %s"</span>
       (shell-quote-argument (buffer-file-name))))
)
(eval-after-load 'markdown-mode
  '(define-key markdown-mode-map (kbd <span style="color: #50a14f;">"C-c m"</span>) 'markdown-preview-file))
(<span style="color: #e45649;">defalias</span> '<span style="color: #a626a4;">marked</span> 'markdown-preview-file)
</code></pre>
</div>

</section>
<section id="slide-org7120b3f">
<h3 id="org7120b3f"><span class="section-number-3">15.6.</span> Beautify</h3>
<p>
<a href="https://emacs.stackexchange.com/questions/14740/how-to-configure-markdown-mode-to-render-headings-like-org-mode">https://emacs.stackexchange.com/questions/14740/how-to-configure-markdown-mode-to-render-headings-like-org-mode</a>
</p>

<p>
<code>C-c C-x C-m</code> to toggle markup hiding. 
</p>

</section>
</section>
<section>
<section id="slide-org6066c33">
<h2 id="org6066c33"><span class="section-number-2">16.</span> Latex</h2>
<div class="outline-text-2" id="text-16">
</div>
</section>
<section id="slide-org44f8848">
<h3 id="org44f8848"><span class="section-number-3">16.1.</span> Sources</h3>
<ul>
<li><a href="https://karthinks.com/software/latex-input-for-impatient-scholars/">LaTeX Input for Impatient Scholars | Karthinks</a></li>

</ul>

</section>
<section id="slide-org2a41f22">
<h3 id="org2a41f22"><span class="section-number-3">16.2.</span> Basics</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">latex</span>
  <span style="color: #a626a4;">:defer</span> t
  <span style="color: #a626a4;">:ensure</span> auctex
  <span style="color: #a626a4;">:mode</span> (<span style="color: #50a14f;">"\\.tex\\'"</span> . LaTeX-mode)
  <span style="color: #a626a4;">:bind</span>
  (<span style="color: #a626a4;">:map</span> LaTeX-mode-map
  (<span style="color: #50a14f;">"M-n"</span> . outline-next-heading)
  (<span style="color: #50a14f;">"M-p"</span> . outline-previous-heading)
  (<span style="color: #50a14f;">"C-c C-c"</span> . TeX-command-run-all)
  (<span style="color: #50a14f;">"C-c l"</span> . TeX-error-overview)
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">((kbd "C-tab") . TeX-complete-symbol) </span>
  (<span style="color: #50a14f;">"C-c w"</span> . juanjo:textcount)
  (<span style="color: #50a14f;">"'"</span> . nil)
  )
  <span style="color: #a626a4;">:config</span>
  (<span style="color: #e45649;">setq</span> TeX-auto-save t)
  (<span style="color: #e45649;">setq</span> TeX-auto-save t)
  (<span style="color: #e45649;">setq</span> TeX-PDF-mode t)       <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Compile documents to PDF by default</span>
  (<span style="color: #e45649;">setq</span> TeX-parse-self t)
  (<span style="color: #e45649;">setq</span> TeX-save-query nil)
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq-default TeX-master nil) ;; Make emacs aware of multi-file projects</span>
  (add-hook 'LaTeX-mode-hook #'visual-line-mode)
  (add-hook 'LaTeX-mode-hook #'no-auto-fill)
  (add-hook 'LaTeX-mode-hook 'hs-minor-mode)
  (add-hook 'LaTeX-mode-hook 'outline-minor-mode)
  (add-hook 'LaTeX-mode-hook 'flyspell-mode)
  (add-hook 'LaTeX-mode-hook 'LaTeX-math-mode)
  (<span style="color: #e45649;">evil-define-key</span> 'normal outline-minor-mode-map (kbd <span style="color: #50a14f;">"SPC"</span>) 'evil-toggle-fold)
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq reftex-plug-into-auctex t)</span>
  (add-hook 'LaTeX-mode-hook 'turn-on-reftex)
  (<span style="color: #e45649;">setq</span> reftex-plug-into-AUCTeX t)
  (autoload 'helm-bibtex <span style="color: #50a14f;">"helm-bibtex"</span> <span style="color: #84888b; font-style: italic;">""</span> t)
  (electric-pair-mode)
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">compile</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(evil-define-key 'normal LaTeX-mode-map (kbd ", l") 'TeX-command-master)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">do not query the user before saving each file with TeX-save-document</span>
  (<span style="color: #e45649;">setq</span> TeX-save-query nil) 
  (<span style="color: #e45649;">evil-define-key</span> 'normal LaTeX-mode-map (kbd <span style="color: #50a14f;">", l"</span>) 'TeX-command-run-all)
  (<span style="color: #e45649;">evil-define-key</span> 'normal LaTeX-mode-map (kbd <span style="color: #50a14f;">", v"</span>) 'TeX-view)
  (<span style="color: #e45649;">evil-define-key</span> 'normal LaTeX-mode-map (kbd <span style="color: #50a14f;">"M-w"</span>) 'LaTeX-fill-region)
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">sync</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Enable the clicking feature of the sync</span>
  (add-hook 'LaTeX-mode-hook
      (<span style="color: #e45649;">lambda</span> () (local-set-key (kbd <span style="color: #50a14f;">"&lt;S-s-mouse-1&gt;"</span>) #'TeX-view))
      )
  (<span style="color: #e45649;">setq</span> TeX-PDF-mode t)       <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Compile documents to PDF by default</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Use Skim as viewer, enable source &lt;-&gt; PDF sync</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">make latexmk available via C-c C-c</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Note: SyncTeX is setup via ~/.latexmkrc (see below)</span>
  (add-hook 'LaTeX-mode-hook (<span style="color: #e45649;">lambda</span> ()
             (<span style="color: #e45649;">push</span>
        '(<span style="color: #50a14f;">"latexmk"</span> <span style="color: #50a14f;">"latexmk -pdf %s"</span> TeX-run-TeX nil t <span style="color: #a626a4;">:help</span> <span style="color: #50a14f;">"Run latexmk on fi</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">le"</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">)</span>
        TeX-command-list)))
  (add-hook 'TeX-mode-hook '(lambda () (<span style="color: #e45649;">setq</span> TeX-command-default <span style="color: #50a14f;">"latexmk"</span>)))
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">use Skim as default pdf viewer</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Skim's displayline is used for forward search (from .tex to .pdf)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">option -b highlights the current line; option -g opens Skim in the backgrou</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">nd</span>
  (<span style="color: #e45649;">setq</span> TeX-view-program-selection '((output-pdf <span style="color: #50a14f;">"PDF Viewer"</span>)))
  (<span style="color: #e45649;">setq</span> TeX-view-program-list
  '((<span style="color: #50a14f;">"PDF Viewer"</span> <span style="color: #50a14f;">"/Applications/Skim.app/Contents/SharedSupport/displayline -b </span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">-g %n %o %b"</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">)))</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">keybindings</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(define-key outline-mode-map [M-left] 'outline-hide-body)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(define-key outline-mode-map [M-right] 'outline-show-all)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(define-key outline-mode-map [M-up] 'outline-previous-heading)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(define-key outline-mode-map [M-down] 'outline-next-heading)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(define-key outline-mode-map [C-M-left] 'outline-hide-sublevels)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(define-key outline-mode-map [C-M-right] 'outline-show-children)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(define-key outline-mode-map [C-M-up] 'outline-previous-visible-heading)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(define-key outline-mode-map [C-M-down] 'outline-next-visible-heading)</span>
  (<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">turn-on-outline-minor-mode</span> () (outline-minor-mode 1))
  (add-hook 'LaTeX-mode-hook 'turn-on-outline-minor-mode)
  (add-hook 'LaTeX-mode-hook 'turn-on-outline-minor-mode)
  (<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">turn-on-flycheck-mode</span> () (flycheck-mode 1))
  (add-hook 'LaTeX-mode-hook 'turn-on-flycheck-mode)
  )
</code></pre>
</div>

<p>
Set preview image format as svg. Note: this rely on the use of <a href="https://github.com/railwaycat/homebrew-emacsmacport/releases">Yamamoto's Emacs a.k.a. Emacs Mac Port</a>, which has <code>svg</code> support. Regular emacs downloaded from emacsformacosx.com will not work.
</p>

<p>
Source: <a href="https://emacs.stackexchange.com/a/34085">https://emacs.stackexchange.com/a/34085</a>
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">setq</span> org-latex-create-formula-image-program 'dvisvgm)

(<span style="color: #e45649;">setq</span> org-preview-latex-default-process 'dvisvgm)
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq org-preview-latex-default-process 'divpng)</span>

<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq my:dvi-to-svg</span>
<span style="color: #9ca0a4;">;;     </span><span style="color: #9ca0a4;">(my:dvi-to-svg :programs</span>
<span style="color: #9ca0a4;">;;         </span><span style="color: #9ca0a4;">("latex" "dvisvgm")</span>
<span style="color: #9ca0a4;">;;            </span><span style="color: #9ca0a4;">:description "dvi &gt; svg"</span>
<span style="color: #9ca0a4;">;;            </span><span style="color: #9ca0a4;">:message "you need to install the programs: latex and dvisvgm."</span>
<span style="color: #9ca0a4;">;;            </span><span style="color: #9ca0a4;">:use-xcolor t</span>
<span style="color: #9ca0a4;">;;            </span><span style="color: #9ca0a4;">:image-input-type "dvi"</span>
<span style="color: #9ca0a4;">;;            </span><span style="color: #9ca0a4;">:image-output-type "svg"</span>
<span style="color: #9ca0a4;">;;            </span><span style="color: #9ca0a4;">:image-size-adjust (1.7 . 1.5)</span>
<span style="color: #9ca0a4;">;;            </span><span style="color: #9ca0a4;">:latex-compiler ("latex -interaction nonstopmode -output-directory</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;"> %o %f")</span>
<span style="color: #9ca0a4;">;;            </span><span style="color: #9ca0a4;">:image-converter ("dvisvgm %f -e -n -b min -c %S -o %O")))</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(with-eval-after-load 'ox-latex</span>
<span style="color: #9ca0a4;">;;     </span><span style="color: #9ca0a4;">(add-to-list 'org-preview-latex-process-alist my:dvi-to-svg)</span>
<span style="color: #9ca0a4;">;;     </span><span style="color: #9ca0a4;">(setq org-preview-latex-default-process 'my:dvi-to-svg))</span>
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">preview-dvisvgm</span>)
</code></pre>
</div>


<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">not used</span>

  (global-set-key [M-left] 'outline-hide-body)
  (global-set-key [M-right] 'outline-show-all)
  (global-set-key [M-up] 'outline-previous-heading)
  (global-set-key [M-down] 'outline-next-heading)
  (global-set-key [C-M-left] 'outline-hide-sublevels)
  (global-set-key [C-M-right] 'outline-show-children)
  (global-set-key [C-M-up] 'outline-previous-visible-heading)
  (global-set-key [C-M-down] 'outline-next-visible-heading)

  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">AucTeX</span>
  (<span style="color: #e45649;">setq</span> reftex-default-bibliography '(<span style="color: #50a14f;">"/Users/chongchonghe/Academics/Bib/BIB_HE.</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">bib"</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">) )</span>
  (<span style="color: #e45649;">setq</span> helm-bibtex-bibliography '(<span style="color: #50a14f;">"/Users/chongchonghe/Academics/Bib/BIB_HE.bib</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">"</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">) )</span>
  (<span style="color: #e45649;">setq</span> reftex-default-bibliography '(<span style="color: #50a14f;">"/Users/chongchonghe/Academics/Bib/BIB_HE.</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">bib"</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">))</span>
  (<span style="color: #e45649;">setq</span> helm-bibtex-bibliography '(<span style="color: #50a14f;">"/Users/chongchonghe/Academics/Bib/BIB_HE.bib</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">"</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">))</span>


  (add-hook 'LaTeX-mode-hook
        '(lambda ()
       (define-key LaTeX-mode-map (kbd <span style="color: #50a14f;">"$"</span>) 'self-insert-command)
       ))


  (<span style="color: #e45649;">require</span> '<span style="color: #b751b6;">smartparens-config</span>)
  (add-hook 'LaTex-mode-hook #'smartparens-mode)
</code></pre>
</div>

</section>
<section id="slide-org7e02bf9">
<h3 id="org7e02bf9"><span class="section-number-3">16.3.</span> citation</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">reftex</span>)
(<span style="color: #e45649;">setq</span> reftex-default-bibliography
      '(<span style="color: #50a14f;">"/Users/chongchonghe/Academics/Bib/BIB_HE.bib"</span>))
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq reftex-default-bibliography</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">       '("/Users/chongchonghe/Academics/Bib/BIB_HE.bib",</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;"> "/Users/chongchonghe/Academics/Bib/Books.bib",</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;"> "/Users/chongchonghe/Academics/Bib/Bib_HE_PhD.bib"))</span>

(<span style="color: #e45649;">setq</span> reftex-external-file-finders
      '((<span style="color: #50a14f;">"tex"</span> . <span style="color: #50a14f;">"/path/to/kpsewhich -format=.tex %f"</span>)
  (<span style="color: #50a14f;">"bib"</span> . <span style="color: #50a14f;">"/path/to/kpsewhich -format=.bib %f"</span>)))
</code></pre>
</div>

</section>
<section id="slide-orgde43741">
<h3 id="orgde43741"><span class="section-number-3">16.4.</span> cdlatex</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim><span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">CDLaTeX</span>
(add-hook 'LaTeX-mode-hook 'turn-on-cdlatex)   <span style="color: #9ca0a4;">; </span><span style="color: #9ca0a4;">with AUCTeX LaTeX mode</span>
</code></pre>
</div>

</section>
<section id="slide-org495830e">
<h3 id="org495830e"><span class="section-number-3">16.5.</span> Insert  string</h3>

</section>
</section>
<section>
<section id="slide-org0902b7f">
<h2 id="org0902b7f"><span class="section-number-2">17.</span> Spell check</h2>
<div class="outline-text-2" id="text-17">
</div>
</section>
<section id="slide-orgbb08692">
<h3 id="orgbb08692"><span class="section-number-3">17.1.</span> flyspell and ispell</h3>
<p>
Reference: <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Spelling.html">https://www.gnu.org/software/emacs/manual/html_node/emacs/Spelling.html</a>
</p>

<p>
Usage (see also <code>ch e-spell</code>):
</p>
<pre  class="example" >
# Usage:
flyspell-mode   to turn on spell checker as you type
C-,             move to next error
C-.             correct the word under cursor. Press the key again to swap to next suggestion.
C-;             flyspell-auto-correct-previous-word. Press the key again to swap to next suggestion.
S-C-;           correct previous word
C-=             ispell-word

# More commands   
ispell-region
ispell-buffer
ispell-kill-ispell
</pre>

<p>
To turn on flyspell by default,
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim><span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(defun my-turn-spell-checking-on ()</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">"Turn flyspell-mode on."</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(flyspell-mode 1)</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">)</span>

<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(add-hook 'text-mode-hook 'my-turn-spell-checking-on)</span>

<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq ispell-extra-args '("-W" "2" "--sug-mode=ultra"))</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq ispell-extra-args '("--encoding=utf-8" "--sug-mode=ultra" "--lang=en_US</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">"))</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq ispell-extra-args '("--sug-mode=ultra"))</span>
(<span style="color: #e45649;">setq</span> ispell-extra-args nil)
</code></pre>
</div>

<p>
Flyspell
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(global-set-key (kbd <span style="color: #50a14f;">"&lt;f8&gt;"</span>) 'ispell-word)
(global-set-key (kbd <span style="color: #50a14f;">"C-S-&lt;f8&gt;"</span>) 'flyspell-mode)
(global-set-key (kbd <span style="color: #50a14f;">"C-M-&lt;f8&gt;"</span>) 'flyspell-buffer)
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">use C-; instead</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(global-set-key (kbd "C-&lt;f8&gt;") 'flyspell-check-previous-highlighted-word)</span>
(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">flyspell-check-next-highlighted-word</span> ()
  <span style="color: #84888b; font-style: italic;">"Custom function to spell check next highlighted word"</span>
  (<span style="color: #e45649;">interactive</span>)
  (flyspell-goto-next-error)
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(flyspell-auto-correct-word)</span>
  (ispell-word)
  )
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(global-set-key (kbd "M-&lt;f8&gt;") 'flyspell-check-next-highlighted-word)</span>
(global-set-key (kbd <span style="color: #50a14f;">"C-:"</span>) 'flyspell-check-next-highlighted-word)
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Enable flyspell mode for texts and flyspell-prog mode for C/Python...</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">https://stackoverflow.com/questions/15891808/how-to-enable-automatic-spell-ch</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">eck-by-default</span>
(add-hook 'text-mode-hook 'flyspell-mode)
(add-hook 'org-mode-hook 'flyspell-mode)
(add-hook 'prog-mode-hook 'flyspell-prog-mode)
</code></pre>
</div>


</section>
<section id="slide-orgd45f0ff">
<h3 id="orgd45f0ff"><span class="section-number-3">17.2.</span> langtool</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">langtool</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Check grammar after saving a text file with LanguageTools</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">https://alhassy.github.io/init/</span>
  <span style="color: #a626a4;">:custom</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(langtool-bin "/Applications/LanguageTool.app/Contents/MacOS/LanguageTool")</span>
  (langtool-language-tool-jar <span style="color: #50a14f;">"~/local/LanguageTool-5.0/languagetool-commandline</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">.jar"</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">)</span>
  (langtool-language-tool-server-jar <span style="color: #50a14f;">"/Users/chongchonghe/local/LanguageTool-5.0</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">/languagetool-server.jar"</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">)</span>
  (langtool-server-user-arguments '(<span style="color: #50a14f;">"-p"</span> <span style="color: #50a14f;">"8092"</span>))
  (langtool-default-language <span style="color: #50a14f;">"en-US"</span>)
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">https://www.reddit.com/r/emacs/comments/fxs92h/comment/fmxqhpb/?utm_source=</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">share&amp;utm_medium=web2x&amp;context=3</span>
  (langtool-user-arguments '(
           <span style="color: #50a14f;">"--disable"</span> <span style="color: #50a14f;">"EN_QUOTES,MULTIPLICATION_SIGN,WORD_CONTAINS_UNDERSCORE,E</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">T_AL,SENTENCE_WHITESPACE,DASH_RULE,MORFOLOGIK_RULE_EN_US,EN_UNPAIRED_BRACKETS,WHITESPACE_RULE"</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">)</span>
         )
  <span style="color: #a626a4;">:config</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">https://simpleit.rocks/lisp/emacs/writing-in-emacs-checking-spelling-style-</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">and-grammar/</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(add-hook 'markdown-mode-hook</span>
  <span style="color: #9ca0a4;">;;         </span><span style="color: #9ca0a4;">(lambda ()</span>
  <span style="color: #9ca0a4;">;;            </span><span style="color: #9ca0a4;">(add-hook 'after-save-hook 'langtool-check nil 'make-it-local)))</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(add-hook 'org-mode-hook</span>
  <span style="color: #9ca0a4;">;;         </span><span style="color: #9ca0a4;">(lambda ()</span>
  <span style="color: #9ca0a4;">;;            </span><span style="color: #9ca0a4;">(add-hook 'after-save-hook 'langtool-check nil 'make-it-local)))</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">;; Quickly check, correct, then clean up /region/ with M-^</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(add-hook 'langtool-error-exists-hook</span>
  <span style="color: #9ca0a4;">;;           </span><span style="color: #9ca0a4;">(lambda ()</span>
  <span style="color: #9ca0a4;">;;             </span><span style="color: #9ca0a4;">(langtool-correct-buffer)</span>
  <span style="color: #9ca0a4;">;;             </span><span style="color: #9ca0a4;">(langtool-check-done)</span>
  <span style="color: #9ca0a4;">;;             </span><span style="color: #9ca0a4;">))</span>
  (global-set-key <span style="color: #50a14f;">"\C-cgw"</span> 'langtool-check)
  (global-set-key <span style="color: #50a14f;">"\C-cgd"</span> 'langtool-check-done)
  (global-set-key <span style="color: #50a14f;">"\C-cgc"</span> 'langtool-correct-buffer)
  (global-set-key <span style="color: #50a14f;">"\C-cgn"</span> 'langtool-goto-next-error)
  (global-set-key <span style="color: #50a14f;">"\C-cgp"</span> 'langtool-goto-previous-error)
  (global-set-key <span style="color: #50a14f;">"\C-cgs"</span> 'langtool-show-message-at-point)
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(global-set-key "\C-x4l" 'langtool-switch-default-language)</span>
  )
</code></pre>
</div>

</section>
</section>
<section>
<section id="slide-org20866d7">
<h2 id="org20866d7"><span class="section-number-2">18.</span> Math preview</h2>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">math-preview</span>)
</code></pre>
</div>

</section>
</section>
<section>
<section id="slide-orgcd6059e">
<h2 id="orgcd6059e"><span class="section-number-2">19.</span> Other packages</h2>
<div class="outline-text-2" id="text-19">
</div>
</section>
<section id="slide-orga2ebdec">
<h3 id="orga2ebdec"><span class="section-number-3">19.1.</span> windresize</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  (<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">windresize</span>
    <span style="color: #a626a4;">:defer</span> t
    <span style="color: #a626a4;">:bind</span>
    (<span style="color: #50a14f;">"C-c w"</span> . windresize)
    )
</code></pre>
</div>


</section>
<section id="slide-org741223b">
<h3 id="org741223b"><span class="section-number-3">19.2.</span> clipboard2org (not working)</h3>
<p>
<a href="https://github.com/itf/clipboard2org">https://github.com/itf/clipboard2org</a>
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">clipboard2org</span>
  <span style="color: #a626a4;">:load-path</span> <span style="color: #50a14f;">"/Users/chongchonghe/.emacs.d/pkgs"</span>)
</code></pre>
</div>

</section>
<section id="slide-orgf05cb26">
<h3 id="orgf05cb26"><span class="section-number-3">19.3.</span> html2org-clipboard</h3>
<p>
Source: <a href="https://stackoverflow.com/a/64408897">https://stackoverflow.com/a/64408897</a>
Source2: <a href="https://emacs.stackexchange.com/questions/12121/org-mode-parsing-rich-html-directly-when-pasting">https://emacs.stackexchange.com/questions/12121/org-mode-parsing-rich-html-directly-when-pasting</a>
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-html2org-clipboard</span> ()
  <span style="color: #84888b; font-style: italic;">"Convert clipboard contents from HTML to Org and then paste (yank)."</span>
  (<span style="color: #e45649;">interactive</span>)
  (<span style="color: #e45649;">setq</span> cmd <span style="color: #50a14f;">"osascript -e 'the clipboard as \"HTML\"' | perl -ne 'print chr fore</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">ach unpack(\"C*\",pack(\"H*\",substr($_,11,-3)))' | pandoc -f html -t json | pandoc -f json -t org --wrap=none"</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">)</span>
  (kill-new (shell-command-to-string cmd))
  (yank))

(define-key org-mode-map (kbd <span style="color: #50a14f;">"s-V"</span>) #'my-html2org-clipboard)
</code></pre>
</div>

</section>
</section>
<section>
<section id="slide-org30ee3ba">
<h2 id="org30ee3ba"><span class="section-number-2">20.</span> Keybindings</h2>
<div class="outline-text-2" id="text-20">
</div>
</section>
<section id="slide-org0c0b3c7">
<h3 id="org0c0b3c7"><span class="section-number-3">20.1.</span> Make swithing windows easier</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">;; make swithing windows easier</span>
  (global-set-key (kbd <span style="color: #50a14f;">"M-p"</span>) (kbd <span style="color: #50a14f;">"C-- C-x o"</span>))
  (global-set-key (kbd <span style="color: #50a14f;">"M-n"</span>) (kbd <span style="color: #50a14f;">"C-x o"</span>))
  (global-set-key (kbd <span style="color: #50a14f;">"M-j"</span>) 'windmove-down)
  (global-set-key (kbd <span style="color: #50a14f;">"M-k"</span>) 'windmove-up)
  (global-set-key (kbd <span style="color: #50a14f;">"M-h"</span>) 'windmove-left)
  (global-set-key (kbd <span style="color: #50a14f;">"M-l"</span>) 'windmove-right)
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(global-set-key (kbd "M-j") 'evil-window-down)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(global-set-key (kbd "M-k") 'evil-window-up)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(global-set-key (kbd "M-h") 'evil-window-left)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(global-set-key (kbd "M-l") 'evil-window-right)</span>
  (define-key evil-normal-state-map (kbd <span style="color: #50a14f;">"M-h"</span>) #'evil-window-left)
  (define-key evil-normal-state-map (kbd <span style="color: #50a14f;">"M-j"</span>) #'evil-window-down)
  (define-key evil-normal-state-map (kbd <span style="color: #50a14f;">"M-k"</span>) #'evil-window-up)
  (define-key evil-normal-state-map (kbd <span style="color: #50a14f;">"M-l"</span>) #'evil-window-right)
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">transpose-frame</span>
  <span style="color: #a626a4;">:defer</span> t)
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(global-set-key (kbd <span style="color: #50a14f;">"&lt;f12&gt;"</span>) 'next-buffer)
(global-set-key (kbd <span style="color: #50a14f;">"&lt;f11&gt;"</span>) 'previous-buffer)
</code></pre>
</div>

</section>
<section id="slide-org53d1c5c">
<h3 id="org53d1c5c"><span class="section-number-3">20.2.</span> Super keys</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(global-set-key (kbd <span style="color: #50a14f;">"s-v"</span>) 'clipboard-yank)
(global-set-key (kbd <span style="color: #50a14f;">"s-k"</span>) 'kill-current-buffer)
(global-set-key (kbd <span style="color: #50a14f;">"s-K"</span>) 'kill-buffer-and-window)
(global-set-key (kbd <span style="color: #50a14f;">"s-e"</span>) 'eval-region)
(global-set-key (kbd <span style="color: #50a14f;">"s-b"</span>) 'eval-buffer)
(global-set-key (kbd <span style="color: #50a14f;">"s-c"</span>) 'compile)
(global-set-key (kbd <span style="color: #50a14f;">"s-r"</span>) 'recompile)
(global-set-key (kbd <span style="color: #50a14f;">"s-,"</span>) 'previous-buffer)
(global-set-key (kbd <span style="color: #50a14f;">"s-."</span>) 'next-buffer)
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(global-unset-key (kbd "s-j"))</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(global-set-key (kbd "s-j") 'jump-to-register)</span>
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(global-set-key (kbd "M-v") 'evil-paste-after)</span>
</code></pre>
</div>

</section>
<section id="slide-org5560457">
<h3 id="org5560457"><span class="section-number-3">20.3.</span> Clipboard</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  (global-set-key (kbd <span style="color: #50a14f;">"M-v"</span>) 'clipboard-yank)
</code></pre>
</div>

</section>
<section id="slide-orgafea0e4">
<h3 id="orgafea0e4"><span class="section-number-3">20.4.</span> Adjust window size</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(fset 'my/shrink (kbd <span style="color: #50a14f;">"C-u 39 C-x {"</span>))
</code></pre>
</div>

</section>
</section>
<section>
<section id="slide-org168de11">
<h2 id="org168de11"><span class="section-number-2">21.</span> Smooth scroll</h2>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(use-package smooth-scroll</span>
  <span style="color: #9ca0a4;">;;       </span><span style="color: #9ca0a4;">:config</span>
  <span style="color: #9ca0a4;">;;       </span><span style="color: #9ca0a4;">(smooth-scroll-mode 1)</span>
  <span style="color: #9ca0a4;">;;       </span><span style="color: #9ca0a4;">(setq smooth-scroll/vscroll-step-size 5)</span>
  <span style="color: #9ca0a4;">;;       </span><span style="color: #9ca0a4;">)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(use-package smooth-scrolling</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">       :config</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">       (smooth-scrolling-mode 1))</span>
</code></pre>
</div>

</section>
</section>
<section>
<section id="slide-org5e9c501">
<h2 id="org5e9c501"><span class="section-number-2">22.</span> tramp</h2>
<p>
Make tramp faster:
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  (<span style="color: #e45649;">setq</span> remote-file-name-inhibit-cache nil)
  (<span style="color: #e45649;">setq</span> vc-ignore-dir-regexp
      (format <span style="color: #50a14f;">"%s</span><span style="color: #4078f2; font-weight: bold;">\\</span><span style="color: #4078f2; font-weight: bold;">|</span><span style="color: #50a14f;">%s"</span>
            vc-ignore-dir-regexp
            tramp-file-name-regexp))
  (<span style="color: #e45649;">setq</span> tramp-verbose 1)
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">;; tramp: speed up</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq tramp-shell-prompt-pattern "^[</span><span style="color: #4078f2; font-weight: bold;">^</span><span style="color: #9ca0a4;">$&gt;\n]*[#$%&gt;] *\\(\[[0-9;]*[a-zA-Z] *\\</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">)*")</span>
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">setq</span> server-use-tcp t
      server-port    9999)
(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">server-start-and-copy</span> ()
  (server-start)
  (copy-file <span style="color: #50a14f;">"~/.emacs.d/server/server"</span> <span style="color: #50a14f;">"/des:.emacs.d/server/server"</span> t))
(add-hook 'emacs-startup-hook 'server-start-and-copy)
</code></pre>
</div>

</section>
</section>
<section>
<section id="slide-org108cb72">
<h2 id="org108cb72"><span class="section-number-2">23.</span> hide-show</h2>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  (add-hook 'hs-minor-mode-hook
    (<span style="color: #e45649;">lambda</span> ()
      <span style="color: #9ca0a4;">;;</span><span style="color: #9ca0a4;">(local-set-key (kbd "C-c p") 'hs-toggle-hiding)</span>
      <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(local-set-key (kbd "SPC") 'hs-toggle-hiding)</span>
      (local-set-key (kbd <span style="color: #50a14f;">"C-c h"</span>) 'hs-hide-all)
      (local-set-key (kbd <span style="color: #50a14f;">"C-c s"</span>) 'hs-show-all)
      (local-set-key (kbd <span style="color: #50a14f;">"C-c l"</span>) 'hs-hide-level)))
  (add-hook 'emacs-lisp-mode-hook 'hs-minor-mode)
  (<span style="color: #e45649;">evil-define-key</span> 'normal hs-minor-mode-map (kbd <span style="color: #50a14f;">"SPC"</span>) 'hs-toggle-hiding)

  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(add-hook 'hs-minor-mode-hook 'my-hideshow-config)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(defun my-hideshow-config ()</span>
  <span style="color: #9ca0a4;">;;       </span><span style="color: #9ca0a4;">"For use in '</span><span style="color: #b751b6;">hs-minor-mode-hook</span><span style="color: #9ca0a4;">'."</span>
  <span style="color: #9ca0a4;">;;       </span><span style="color: #9ca0a4;">;;(local-set-key (kbd "C-c p") 'hs-toggle-hiding)</span>
  <span style="color: #9ca0a4;">;;       </span><span style="color: #9ca0a4;">;; (local-set-key (kbd "SPC") 'hs-toggle-hiding)</span>
  <span style="color: #9ca0a4;">;;       </span><span style="color: #9ca0a4;">(local-set-key (kbd "C-c h") 'hs-hide-all)</span>
  <span style="color: #9ca0a4;">;;       </span><span style="color: #9ca0a4;">(local-set-key (kbd "C-c s") 'hs-show-all)</span>
  <span style="color: #9ca0a4;">;;       </span><span style="color: #9ca0a4;">(local-set-key (kbd "C-c l") 'hs-hide-level)</span>
  <span style="color: #9ca0a4;">;;       </span><span style="color: #9ca0a4;">)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(add-hook 'emacs-lisp-mode-hook 'hs-minor-mode)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(evil-define-key 'normal hs-minor-mode-map (kbd "SPC") 'hs-toggle-hiding)</span>
</code></pre>
</div>

</section>
</section>
<section>
<section id="slide-orgf996c3e">
<h2 id="orgf996c3e"><span class="section-number-2">24.</span> Some Automatics</h2>
<div class="outline-text-2" id="text-24">
</div>
</section>
<section id="slide-org144b469">
<h3 id="org144b469"><span class="section-number-3">24.1.</span> Initial my tasks.org view</h3>
<p>
Not working&#x2026;
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">taskinit</span> ()
  (<span style="color: #e45649;">interactive</span>)
  (split-window-right)
  ((kbd <span style="color: #50a14f;">"C-u 10 C-x {"</span>))
  (set-frame-height (selected-frame) 60)
  )
</code></pre>
</div>

</section>
</section>
<section>
<section id="slide-org533e28f">
<h2 id="org533e28f"><span class="section-number-2">25.</span> dashboard</h2>
<ul>
<li><a href="https://github.com/rakanalh/emacs-dashboard">https://github.com/rakanalh/emacs-dashboard</a></li>
<li><a href="https://emacs.stackexchange.com/questions/14282/replace-splash-screen-with-list-of-recentf">https://emacs.stackexchange.com/questions/14282/replace-splash-screen-with-list-of-recentf</a></li>

</ul>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">dashboard</span>
  <span style="color: #a626a4;">:ensure</span> t
  <span style="color: #a626a4;">:diminish</span> dashboard-mode
  <span style="color: #a626a4;">:config</span>
  (<span style="color: #e45649;">setq</span> dashboard-banner-logo-title <span style="color: #50a14f;">"Welcome! Work day."</span>)
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq dashboard-startup-banner "/path/to/image")</span>
  (<span style="color: #e45649;">setq</span> dashboard-items '((recents  . 10)
                          (bookmarks . 10)))
  (dashboard-setup-startup-hook)
  )
</code></pre>
</div>

</section>
</section>
<section>
<section id="slide-orgdec9998">
<h2 id="orgdec9998"><span class="section-number-2">26.</span> Folding mode (not using)</h2>
<div class="outline-text-2" id="text-26">
</div>
</section>
<section id="slide-orgc8e78dc">
<h3 id="orgc8e78dc"><span class="section-number-3">26.1.</span> Usage</h3>
<p>
Folding block are defined as <code># {{{</code> and <code># }}}</code> pairs (in python mode). Use the snippet '#{&lt;tab&gt;' to quick insert. Use &lt;F9&gt; to toggle folding.
</p>

<p>
Source: <a href="https://www.emacswiki.org/emacs/FoldingMode#toc6">https://www.emacswiki.org/emacs/FoldingMode#toc6</a>
</p>

</section>
<section id="slide-org0867e1b">
<h3 id="org0867e1b"><span class="section-number-3">26.2.</span> Config</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">folding</span>
  <span style="color: #a626a4;">:defer</span> 20
  <span style="color: #a626a4;">:ensure</span> t
  <span style="color: #a626a4;">:load-path</span> <span style="color: #50a14f;">"/Users/chongchonghe/dotfiles/emacs/packages/project-emacs--folding</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">-mode"</span>
  <span style="color: #a626a4;">:config</span>
  (folding-mode-add-find-file-hook)
  (add-hook 'folding-mode
      (<span style="color: #e45649;">lambda</span> () (local-set-key [f9] 'folding-toggle-show-hide)))
  )
</code></pre>
</div>

</section>
</section>
<section>
<section id="slide-org614eb48">
<h2 id="org614eb48"><span class="section-number-2">27.</span> f.el</h2>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">helm-org</span>)
(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">f</span>)
</code></pre>
</div>

</section>
</section>
<section>
<section id="slide-org727d256">
<h2 id="org727d256"><span class="section-number-2">28.</span> layout-restore.el</h2>
<p>
Old and causing problem. Not using.
</p>

<p>
Ref: <a href="https://www.emacswiki.org/emacs/layout-restore.el">https://www.emacswiki.org/emacs/layout-restore.el</a>
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim><span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(use-package layout-restore</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">:defer nil</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">:load-path "~/dotfiles/emacs/packages/layout-restore.el"</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">:config</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(global-set-key (kbd "C-c l") 'layout-save-current)</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(global-set-key (kbd "C-c r") 'layout-restore)</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(global-set-key (kbd "C-c d") 'layout-delete-current)</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">)</span>

<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(require 'layout-restore)</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(global-set-key (kbd "C-c l") 'layout-save-current)</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(global-set-key (kbd "C-c r") 'layout-restore)</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(global-set-key (kbd "C-c d") 'layout-delete-current)</span>
</code></pre>
</div>

</section>
</section>
<section>
<section id="slide-orge624d7e">
<h2 id="orge624d7e"><span class="section-number-2">29.</span> Neotree</h2>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">neotree</span>
  <span style="color: #a626a4;">:config</span>
  (<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-neotree-mode-config</span> ()
    <span style="color: #84888b; font-style: italic;">"For use in '</span><span style="color: #b751b6; font-style: italic;">neotree-mode-hook</span><span style="color: #84888b; font-style: italic;">'."</span>
    <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(local-set-key (kbd "j") 'neotree-next-line)</span>
    <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(local-set-key (kbd "k") 'neotree-previous-line)</span>
    (local-set-key (kbd <span style="color: #50a14f;">"C-j"</span>) 'neotree-change-root)
    (local-set-key (kbd <span style="color: #50a14f;">"C-k"</span>) 'neotree-select-up-node)
    (local-set-key (kbd <span style="color: #50a14f;">"&lt;return&gt;"</span>) 'neotree-enter)
    <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(local-set-key (kbd "SPC") 'neotree-quick-look)</span>
    (<span style="color: #e45649;">evil-define-key</span> 'normal neotree-mode-map (kbd <span style="color: #50a14f;">"SPC"</span>) 'neotree-quick-look)
    <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(with-eval-after-load 'neotree</span>
    <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(define-key neotree-mode-map (kbd "&lt;return&gt;") 'neotree-enter))</span>
    (define-key evil-normal-state-local-map (kbd <span style="color: #50a14f;">"q"</span>) 'neotree-hide)
    (define-key evil-normal-state-local-map (kbd <span style="color: #50a14f;">"g"</span>) 'neotree-refresh)
    (define-key evil-normal-state-local-map (kbd <span style="color: #50a14f;">"A"</span>) 'neotree-stretch-toggle)
    (define-key evil-normal-state-local-map (kbd <span style="color: #50a14f;">"H"</span>) 'neotree-hidden-file-toggl<span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">e)</span>
    )
  (add-hook 'neotree-mode-hook 'my-neotree-mode-config))
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(add-hook 'neotree-mode-hook
    (<span style="color: #e45649;">lambda</span> () (define-key evil-motion-state-local-map (kbd <span style="color: #50a14f;">"g"</span>) 'neotree-refres<span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">h)))</span>
</code></pre>
</div>

</section>
</section>
<section>
<section id="slide-org1c0f779">
<h2 id="org1c0f779"><span class="section-number-2">30.</span> Elfeed</h2>
<p>
<a href="https://github.com/skeeto/elfeed">Elfeed</a> is a web feeds client that supports both Atom and RSS feeds.
</p>

</section>
<section id="slide-orgb7e1c7a">
<h3 id="orgb7e1c7a"><span class="section-number-3">30.1.</span> Usage</h3>
<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<tbody>
<tr>
<td class="org-left">C-x w</td>
<td class="org-left">elfeed</td>
</tr>

<tr>
<td class="org-left">s</td>
<td class="org-left">filter</td>
</tr>

<tr>
<td class="org-left">r</td>
<td class="org-left">elfeed-toggle-read</td>
</tr>

<tr>
<td class="org-left">R</td>
<td class="org-left">mark the wholer buffer as read</td>
</tr>

<tr>
<td class="org-left">U</td>
<td class="org-left">elfeed-update</td>
</tr>

<tr>
<td class="org-left">g R</td>
<td class="org-left"><code>elfeed-search-fetch</code>: fetch from server</td>
</tr>

<tr>
<td class="org-left">m</td>
<td class="org-left">star the selected entry</td>
</tr>

<tr>
<td class="org-left">b</td>
<td class="org-left">open in browser</td>
</tr>

<tr>
<td class="org-left">c</td>
<td class="org-left">elfeed-search-clear-filter</td>
</tr>
</tbody>
</table>

<p>
Filters syntax: <a href="https://github.com/skeeto/elfeed#filter-syntax">https://github.com/skeeto/elfeed#filter-syntax</a>
</p>

<ul>
<li><code>@1-week-ago +unread</code></li>
<li><code>@1-week-ago +star</code></li>
<li><code>@2019-06-20--2019-06-24</code></li>
<li><code>@5-days-ago--1-day-ago</code></li>

</ul>

<p>
Here is how I organize my astro-ph entries:
</p>
<ul>
<li>[unread]: unread</li>
<li>[]: should be tagged to either [trash] or [read]</li>
<li>[trash]: = read title, not interesting</li>
<li>[read]: read content</li>
<li>[star]: interesting, to read</li>
<li>[star2]: super interesting, to read</li>

</ul>

</section>
<section id="slide-org8b2fc39">
<h3 id="org8b2fc39"><span class="section-number-3">30.2.</span> Basic config</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim><span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">new</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(global-set-key (kbd "C-x w") 'elfeed)</span>
(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">elfeed</span>
  <span style="color: #a626a4;">:ensure</span> t
  <span style="color: #a626a4;">:defer</span> t
  <span style="color: #a626a4;">:commands</span> (elfeed)
  <span style="color: #a626a4;">:bind</span> (<span style="color: #50a14f;">"C-x w"</span> . elfeed)
  <span style="color: #a626a4;">:config</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(require 'elfeed)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(use-package elfeed</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">:defer nil</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">:ensure t</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">:bind</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">("C-x w" . elfeed )</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">:config</span>
  (<span style="color: #e45649;">setq</span> elfeed-db-directory (expand-file-name <span style="color: #50a14f;">"elfeed"</span> user-emacs-directory)
  elfeed-show-entry-switch 'display-buffer)
  (<span style="color: #e45649;">setq</span> elfeed-feeds
  '(<span style="color: #50a14f;">"http://export.arxiv.org/api/query?search_query=cat:astro-ph.GA&amp;start=0&amp;max_</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">results=500&amp;sortBy=submittedDate&amp;sortOrder=descending"</span>
    <span style="color: #50a14f;">"http://export.arxiv.org/api/query?search_query=cat:astro-ph.SR&amp;start=0&amp;max_</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">results=500&amp;sortBy=submittedDate&amp;sortOrder=descending"</span>
    ))
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(use-package elfeed-org</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">:ensure t</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">:config</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(setq rmh-elfeed-org-files (list "~/dotfiles/emacs/packages/elfeed/elfeed</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">.org")))</span>

  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">https://www.reddit.com/r/emacs/comments/6z6xm6/comment/dmthpb7/?utm_source=</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">share&amp;utm_medium=web2x&amp;context=3</span>
  (add-to-list 'evil-motion-state-modes 'elfeed-search-mode)
  (add-to-list 'evil-motion-state-modes 'elfeed-show-mode)
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">face for starred articles</span>
  (<span style="color: #e45649;">defface</span> <span style="color: #6a1868;">elfeed-search-starred-title-face</span>
    '((t <span style="color: #a626a4;">:foreground</span> <span style="color: #50a14f;">"#f77"</span>))
    <span style="color: #84888b; font-style: italic;">"Marks a starred Elfeed entry."</span>)
  (<span style="color: #e45649;">push</span> '(star elfeed-search-starred-title-face) elfeed-search-face-alist)
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Default search filter</span>
  (<span style="color: #e45649;">setq-default</span> elfeed-search-filter <span style="color: #50a14f;">"@1-week-ago -trash -read"</span>)

  (<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">elfeed-tag-selection-as</span> (mytag)
    <span style="color: #84888b; font-style: italic;">"Returns a function that tags an elfeed entry or selection as</span>
<span style="color: #84888b; font-style: italic;">MYTAG"</span>
    (<span style="color: #e45649;">lambda</span> ()
      <span style="color: #84888b; font-style: italic;">"Toggle a tag on an Elfeed search selection"</span>
      (<span style="color: #e45649;">interactive</span>)
      (elfeed-search-toggle-all mytag)))

  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">https://emacs.stackexchange.com/a/2441/26582</span>
  (<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">elfeed-mark-all-as-read</span> ()
    (<span style="color: #e45649;">interactive</span>)
    (<span style="color: #e45649;">if</span> (yes-or-no-p <span style="color: #50a14f;">"Do you really want to mark everything as READ?"</span>)
  (<span style="color: #e45649;">progn</span>
          (mark-whole-buffer)
          (elfeed-search-untag-all-unread))
      nil)
    )

  (<span style="color: #e45649;">defalias</span> '<span style="color: #a626a4;">elfeed-toggle-star</span>
    (elfeed-expose #'elfeed-search-toggle-all 'star))
  (<span style="color: #e45649;">defalias</span> '<span style="color: #a626a4;">elfeed-toggle-starstar</span>
    (elfeed-expose #'elfeed-search-toggle-all 'star2))
  (<span style="color: #e45649;">defalias</span> '<span style="color: #a626a4;">elfeed-toggle-read</span>
    (elfeed-expose #'elfeed-search-toggle-all 'unread))
  (<span style="color: #e45649;">defalias</span> '<span style="color: #a626a4;">elfeed-mark-read</span>
    (elfeed-expose #'elfeed-search-toggle-all 'read))
  (<span style="color: #e45649;">defalias</span> '<span style="color: #a626a4;">elfeed-toggle-trash</span>
    (elfeed-expose #'elfeed-search-toggle-all 'trash))
  (eval-after-load 'elfeed-search
    '(progn
       <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(define-key elfeed-search-mode-map (kbd "R") 'elfeed-mark-all-as-read)</span>
       (define-key elfeed-search-mode-map (kbd <span style="color: #50a14f;">"M"</span>) (elfeed-tag-selection-as 'st<span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">arstar))</span>
       (evil-define-key* 'motion elfeed-search-mode-map
         (kbd <span style="color: #50a14f;">"RET"</span>) #'elfeed-search-show-entry
         <span style="color: #50a14f;">"b"</span> #'elfeed-search-browse-url
         <span style="color: #50a14f;">"U"</span> #'elfeed-update
         <span style="color: #50a14f;">"m"</span> #'elfeed-toggle-star
         <span style="color: #50a14f;">"M"</span> #'elfeed-toggle-starstar
         <span style="color: #50a14f;">"r"</span> #'elfeed-toggle-read
         <span style="color: #50a14f;">"R"</span> #'elfeed-mark-read
         <span style="color: #50a14f;">"t"</span> #'elfeed-toggle-trash
         <span style="color: #50a14f;">"gr"</span> #'elfeed-search-update--force
         <span style="color: #50a14f;">"gR"</span> #'elfeed-search-fetch)
       ))
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(eval-after-load 'elfeed-search</span>
  <span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">'(define-key elfeed-search-mode-map (kbd "m") 'elfeed-toggle-star))</span>

  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Managing ArXiv RSS Feeds in Emacs</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Ref: https://cundy.me/post/elfeed/</span>

  (<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">concatenate-authors</span> (authors-list)
    <span style="color: #84888b; font-style: italic;">"Given AUTHORS-LIST, list of plists; return string of all authors concatenat</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold; font-style: italic;">ed."</span>
    (mapconcat
     (<span style="color: #e45649;">lambda</span> (author) (plist-get author <span style="color: #a626a4;">:name</span>))
     authors-list <span style="color: #50a14f;">", "</span>))

  (<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">elfeed-search-format-date</span> (date)
    (format-time-string <span style="color: #50a14f;">"%m-%d"</span> (seconds-to-time date)))

  (<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">elfeed-goodies</span>)

  (<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-search-print-fn</span> (entry)
    <span style="color: #84888b; font-style: italic;">"Print ENTRY to the buffer."</span>

    (<span style="color: #e45649;">let*</span> ((title (<span style="color: #e45649;">or</span> (elfeed-meta entry <span style="color: #a626a4;">:title</span>) (elfeed-entry-title entry) <span style="color: #50a14f;">""</span>))
     (title-faces (elfeed-search--faces (elfeed-entry-tags entry)))
     (date (elfeed-search-format-date (elfeed-entry-date entry)))
     (feed (elfeed-entry-feed entry))
     (feed-title
      (<span style="color: #e45649;">when</span> feed
        (<span style="color: #e45649;">or</span> (elfeed-meta feed <span style="color: #a626a4;">:title</span>) (elfeed-feed-title feed))))
     (tags (mapcar #'symbol-name (elfeed-entry-tags entry)))
     (tags-str (concat <span style="color: #50a14f;">"["</span> (mapconcat 'identity tags <span style="color: #50a14f;">","</span>) <span style="color: #50a14f;">"]"</span>))
     (title-width (- (window-width) elfeed-goodies/feed-source-column-width
         elfeed-goodies/tag-column-width 4))
     (title-column (elfeed-format-column
        title (elfeed-clamp
         elfeed-search-title-min-width
         title-width
         title-width)
        <span style="color: #a626a4;">:left</span>))
     (tag-column (elfeed-format-column
      tags-str 13
      <span style="color: #a626a4;">:left</span>))
     (feed-column (elfeed-format-column
       feed-title 41
       <span style="color: #a626a4;">:left</span>))
     (entry-authors (concatenate-authors
         (elfeed-meta entry <span style="color: #a626a4;">:authors</span>)))
     (authors-column (elfeed-format-column
          entry-authors 24
          <span style="color: #a626a4;">:left</span>))
     )

      (<span style="color: #e45649;">if</span> (&gt;= (window-width) (* (frame-width) elfeed-goodies/wide-threshold))
    (<span style="color: #e45649;">progn</span>
      (insert (propertize feed-column 'face 'elfeed-search-feed-face) <span style="color: #50a14f;">" "</span>)
      (insert (propertize date 'face 'elfeed-search-date-face) <span style="color: #50a14f;">" "</span>)
            (insert (propertize tag-column 'face 'elfeed-search-tag-face) <span style="color: #50a14f;">" "</span>)
            (insert (propertize authors-column
        'face 'elfeed-search-date-face
        'kbd-help entry-authors) <span style="color: #986801;">" "</span><span style="color: #986801;">)</span>
            (insert (propertize title 'face title-faces 'kbd-help title))
            )
  (insert (propertize title 'face title-faces 'kbd-help title)))))

  (<span style="color: #e45649;">setq</span> elfeed-search-print-entry-function #'my-search-print-fn)

  )
</code></pre>
</div>

<p>
Variable pitch in elfeed-show mode. Do not use. Texts are hard wrapped. Will look bad.
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim><span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq elfeed-show-mode-hook</span>
<span style="color: #9ca0a4;">;;       </span><span style="color: #9ca0a4;">(lambda ()</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;"> (set-face-attribute 'variable-pitch (selected-frame)))</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;"> )</span>

<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(defun my-show-elfeed (buffer)</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(with-current-buffer buffer</span>
<span style="color: #9ca0a4;">;;     </span><span style="color: #9ca0a4;">(setq buffer-read-only nil)</span>
<span style="color: #9ca0a4;">;;     </span><span style="color: #9ca0a4;">(goto-char (point-min))</span>
<span style="color: #9ca0a4;">;;     </span><span style="color: #9ca0a4;">(re-search-forward "\n\n")</span>
<span style="color: #9ca0a4;">;;     </span><span style="color: #9ca0a4;">(fill-individual-paragraphs (point) (point-max))</span>
<span style="color: #9ca0a4;">;;     </span><span style="color: #9ca0a4;">(setq buffer-read-only t))</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(switch-to-buffer buffer))</span>

<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(add-hook 'elfeed-show-mode-hook</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">   (lambda () (buffer-face-set 'variable-pitch)))</span>

<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(add-hook 'elfeed-show-mode-hook 'variable-pitch-mode)</span>
</code></pre>
</div>

</section>
<section id="slide-org9c4ad65">
<h3 id="org9c4ad65"><span class="section-number-3">30.3.</span> Trash</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">elfeed</span>
  <span style="color: #a626a4;">:ensure</span> t
  <span style="color: #a626a4;">:config</span>
  (<span style="color: #e45649;">setq</span> elfeed-db-directory (expand-file-name <span style="color: #50a14f;">"elfeed"</span> user-emacs-directory)
  elfeed-show-entry-switch 'display-buffer)
  <span style="color: #a626a4;">:bind</span>
  (<span style="color: #50a14f;">"C-x w"</span> . elfeed ))

(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">elfeed-org</span>
  <span style="color: #a626a4;">:ensure</span> t
  <span style="color: #a626a4;">:config</span>
  (<span style="color: #e45649;">setq</span> rmh-elfeed-org-files (list <span style="color: #50a14f;">"~/.spacemacs.d/private/elfeed.org"</span>)))

<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(use-package elfeed</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">:defer 15</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">:config</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(add-hook 'elfeed 'linum-mode)</span>

<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(defalias 'elfeed-toggle-star</span>
<span style="color: #9ca0a4;">;;     </span><span style="color: #9ca0a4;">(elfeed-expose #'elfeed-search-toggle-all 'star))</span>

<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(eval-after-load 'elfeed-search</span>
<span style="color: #9ca0a4;">;;     </span><span style="color: #9ca0a4;">'(define-key elfeed-search-mode-map (kbd "m") 'elfeed-toggle-star))</span>

<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">;; face for starred articles</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(defface elfeed-search-starred-title-face</span>
<span style="color: #9ca0a4;">;;     </span><span style="color: #9ca0a4;">'((t :foreground "#f77"))</span>
<span style="color: #9ca0a4;">;;     </span><span style="color: #9ca0a4;">"Marks a starred Elfeed entry.")</span>

<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(push '(star elfeed-search-starred-title-face) elfeed-search-face-alist)</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(setq-default elfeed-search-filter "@1-week-ago ")</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">;; Default search filter</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(setq-default elfeed-search-filter "@1-week-ago ")</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">)</span>
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Managing ArXiv RSS Feeds in Emacs: </span>

  (<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">concatenate-authors</span> (authors-list)
    <span style="color: #84888b; font-style: italic;">"Given AUTHORS-LIST, list of plists; return string of all authors</span>
<span style="color: #84888b; font-style: italic;">concatenated."</span>
    (mapconcat
     (<span style="color: #e45649;">lambda</span> (author) (plist-get author <span style="color: #a626a4;">:name</span>))
     authors-list <span style="color: #50a14f;">", "</span>))

  (<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">elfeed-search-format-date</span> (date)
    (format-time-string <span style="color: #50a14f;">"%m-%d"</span> (seconds-to-time date)))

  (<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-search-print-fn</span> (entry)
    <span style="color: #84888b; font-style: italic;">"Print ENTRY to the buffer."</span>
    (<span style="color: #e45649;">let*</span> ((title (<span style="color: #e45649;">or</span> (elfeed-meta entry <span style="color: #a626a4;">:title</span>) (elfeed-entry-title entry) <span style="color: #50a14f;">""</span>))
     (title-faces (elfeed-search--faces (elfeed-entry-tags entry)))
     (date (elfeed-search-format-date (elfeed-entry-date entry)))
     (feed (elfeed-entry-feed entry))
     (feed-title
      (<span style="color: #e45649;">when</span> feed
        (<span style="color: #e45649;">or</span> (elfeed-meta feed <span style="color: #a626a4;">:title</span>) (elfeed-feed-title feed))))
     (tags (mapcar #'symbol-name (elfeed-entry-tags entry)))
     (tags-str (concat <span style="color: #50a14f;">"["</span> (mapconcat 'identity tags <span style="color: #50a14f;">","</span>) <span style="color: #50a14f;">"]"</span>))
     (title-width (- (window-width) elfeed-goodies/feed-source-column-width
         elfeed-goodies/tag-column-width 4))
     (title-column (elfeed-format-column
        title (elfeed-clamp
         elfeed-search-title-min-width
         title-width
         title-width)
        <span style="color: #a626a4;">:left</span>))
     (tag-column (elfeed-format-column
      tags-str 13
      <span style="color: #a626a4;">:left</span>))
     (feed-column (elfeed-format-column
       feed-title 11
       <span style="color: #a626a4;">:left</span>))
     (entry-authors (concatenate-authors
         (elfeed-meta entry <span style="color: #a626a4;">:authors</span>)))
     (authors-column (elfeed-format-column
          entry-authors 30
          <span style="color: #a626a4;">:left</span>))
     )
      (<span style="color: #e45649;">if</span> (&gt;= (window-width) (* (frame-width) elfeed-goodies/wide-threshold))
    (<span style="color: #e45649;">progn</span>
      (insert (propertize feed-column 'face 'elfeed-search-feed-face) <span style="color: #50a14f;">" "</span>)
      (insert (propertize date 'face 'elfeed-search-date-face) <span style="color: #50a14f;">" "</span>)
            (insert (propertize tag-column 'face 'elfeed-search-tag-face) <span style="color: #50a14f;">" "</span>)
            (insert (propertize authors-column
        'face 'elfeed-search-date-face
        'kbd-help entry-authors) <span style="color: #986801;">" "</span><span style="color: #986801;">)</span>
            (insert (propertize title 'face title-faces 'kbd-help title))
            )
  (insert (propertize title 'face title-faces 'kbd-help title)))))

  (<span style="color: #e45649;">setq</span> elfeed-search-print-entry-function #'my-search-print-fn)
</code></pre>
</div>

</section>
</section>
<section>
<section id="slide-org36cde44">
<h2 id="org36cde44"><span class="section-number-2">31.</span> PDF-tool</h2>
<p>
Not using. Configure later typo here 
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  (<span style="color: #e45649;">require</span> '<span style="color: #b751b6;">pdf-occur</span>)
  (<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">pdf-tools</span>
    <span style="color: #a626a4;">:ensure</span> t
    <span style="color: #a626a4;">:mode</span> (<span style="color: #50a14f;">"\\.pdf$"</span> . pdf-view-mode)
    <span style="color: #a626a4;">:config</span>
    (pdf-tools-install)

    (<span style="color: #e45649;">let</span> ((foreground-orig (car pdf-view-midnight-colors)))
      (<span style="color: #e45649;">setq</span> pdf-view-midnight-colors 
            (cons <span style="color: #50a14f;">"white"</span> <span style="color: #50a14f;">"black"</span>)))

    (<span style="color: #e45649;">with-eval-after-load</span> 'evil
      (<span style="color: #e45649;">progn</span>
        (add-to-list 'evil-emacs-state-modes 'pdf-outline-buffer-mode)
        (add-to-list 'evil-emacs-state-modes 'pdf-view-mode))))

  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(define-key pdf-occur-global-minor-mode-map (kbd "RET") 'pdf-occur-goto-occ</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">urance)</span>

  (<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">org-pdfview</span>
    <span style="color: #a626a4;">:ensure</span> t)
</code></pre>
</div>

</section>
</section>
<section>
<section id="slide-orgeccf926">
<h2 id="orgeccf926"><span class="section-number-2">32.</span> Shell</h2>
<div class="outline-text-2" id="text-32">
</div>
</section>
<section id="slide-org74a7d0b">
<h3 id="org74a7d0b"><span class="section-number-3">32.1.</span> ansi-term</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  (<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">ansi-term-post</span> (<span style="color: #986801;">&amp;rest</span> _)
    <span style="color: #84888b; font-style: italic;">"configuration settings for ansi-term"</span>
    (evil-local-mode -1))
</code></pre>
</div>

</section>
</section>
<section>
<section id="slide-orgb6d961b">
<h2 id="orgb6d961b"><span class="section-number-2">33.</span> Other major and minor modes</h2>
<div class="outline-text-2" id="text-33">
</div>
</section>
<section id="slide-orgdfc4cc6">
<h3 id="orgdfc4cc6"><span class="section-number-3">33.1.</span> matlab</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim><span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(use-package matlab-mode)</span>
</code></pre>
</div>

</section>
<section id="slide-orgc0de2ab">
<h3 id="orgc0de2ab"><span class="section-number-3">33.2.</span> YAML</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">yaml-mode</span>
  <span style="color: #a626a4;">:mode</span>
  <span style="color: #50a14f;">"\\.yml\\'"</span>
)
</code></pre>
</div>

</section>
<section id="slide-orgc47a53d">
<h3 id="orgc47a53d"><span class="section-number-3">33.3.</span> epa-file ??</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim><span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(require 'epa-file)</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(epa-file-enable)</span>
</code></pre>
</div>

</section>
</section>
<section>
<section id="slide-org3c3ca46">
<h2 id="org3c3ca46"><span class="section-number-2">34.</span> Themes and fonts</h2>
<div class="outline-text-2" id="text-34">
</div>
</section>
<section id="slide-org11ed5a8">
<h3 id="org11ed5a8"><span class="section-number-3">34.1.</span> Doom theme</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-light-theme</span> ()
  (<span style="color: #e45649;">interactive</span>)
  (load-theme 'doom-one-light t)
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(set-background-color "#e6e3df")</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(set-background-color "#fffcf7")</span>
  (set-background-color <span style="color: #50a14f;">"#FFFDFB"</span>)
  (set-foreground-color <span style="color: #50a14f;">"#000000"</span>)
  (my-org-set-light-todo-faces)
  )
(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-dark-theme</span> ()
  (<span style="color: #e45649;">interactive</span>)
  (load-theme 'doom-one t)
  (set-foreground-color <span style="color: #50a14f;">"#eee"</span>)
  (my-org-set-dark-todo-faces)
  )
(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-white-background</span> ()
  (<span style="color: #e45649;">interactive</span>)
  (set-background-color <span style="color: #50a14f;">"white"</span>)
  )
(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">doom-themes</span>
  <span style="color: #a626a4;">:ensure</span> t
  <span style="color: #a626a4;">:config</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Global settings (defaults)</span>
  (<span style="color: #e45649;">setq</span> doom-themes-enable-bold t    <span style="color: #9ca0a4;">; </span><span style="color: #9ca0a4;">if nil, bold is universally disabled</span>
  doom-themes-enable-italic t) <span style="color: #9ca0a4;">; </span><span style="color: #9ca0a4;">if nil, italics is universally disabled</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(load-theme 'doom-one t)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(load-theme 'doom-one-light t)</span>
  (my-light-theme)
  )
</code></pre>
</div>

</section>
<section id="slide-org16a7112">
<h3 id="org16a7112"><span class="section-number-3">34.2.</span> variable-pitch-mode and mixed-pitch</h3>
<p>
Set variable pitch for org mode
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim><span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(add-hook 'org-mode-hook 'variable-pitch-mode)</span>
</code></pre>
</div>

<p>
Ref: <a href="https://gitlab.com/jabranham/mixed-pitch">https://gitlab.com/jabranham/mixed-pitch</a>
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim><span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">mixed-pitch</span>
(<span style="color: #e45649;">use-package</span> <span style="color: #b751b6;">mixed-pitch</span>
  <span style="color: #a626a4;">:hook</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">If you want it in all text modes:</span>
  (text-mode . mixed-pitch-mode)
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(elfeed-show-mode . mixed-pitch-mode)</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">not sure. ref: https://emacs-china.org/t/doom-emacs-mixed-pitch-set-height-</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">org/16558</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(mixed-pitch-mode . #'solaire-mode-reset)</span>
  <span style="color: #a626a4;">:config</span>
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Default font</span>
  (set-face-attribute 'default nil <span style="color: #a626a4;">:font</span> <span style="color: #50a14f;">"Monaco-16"</span>)
  (set-face-attribute 'variable-pitch nil <span style="color: #a626a4;">:family</span> <span style="color: #50a14f;">"Helvetica Neue"</span> <span style="color: #a626a4;">:height</span> 1.3)
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(set-face-attribute 'variable-pitch nil :family "DejaVu Serif" :height 1.2)</span>
  (set-face-attribute 'fixed-pitch nil <span style="color: #a626a4;">:family</span> <span style="color: #50a14f;">"Monaco"</span> <span style="color: #a626a4;">:height</span> 1.0)
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">bigger text for org-mode headings</span>
  (custom-theme-set-faces
   'user
   `(org-level-4 ((t (<span style="color: #a626a4;">:inherit</span> outline-4 <span style="color: #a626a4;">:height</span> 1.0))))
   `(org-level-3 ((t (<span style="color: #a626a4;">:inherit</span> outline-3 <span style="color: #a626a4;">:height</span> 1.1))))
   `(org-level-2 ((t (<span style="color: #a626a4;">:inherit</span> outline-2 <span style="color: #a626a4;">:family</span> <span style="color: #50a14f;">"Helvetica Neue"</span> <span style="color: #a626a4;">:height</span> 1.2)))<span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">)</span>
   `(org-level-1 ((t (<span style="color: #a626a4;">:inherit</span> outline-1 <span style="color: #a626a4;">:family</span> <span style="color: #50a14f;">"Helvetica Neue"</span> <span style="color: #a626a4;">:height</span> 1.3)))<span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">)</span>
   `(org-document-title ((t (<span style="color: #a626a4;">:family</span> <span style="color: #50a14f;">"Helvetica Neue"</span> <span style="color: #a626a4;">:height</span> 1.6 <span style="color: #a626a4;">:underline</span> nil<span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">))))</span>
   )
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(setq mixed-pitch-set-height t)</span>
  )
(add-hook 'org-mode-hook #'org-superstar-mode)
</code></pre>
</div>

</section>
<section id="slide-org8d788e5">
<h3 id="org8d788e5"><span class="section-number-3">34.3.</span> Chinese font</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim><span style="color: #9ca0a4;">;;;</span><span style="color: #9ca0a4;">&#20013;&#25991;&#19982;&#33521;&#25991;&#23383;&#20307;&#35774;&#32622;</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Setting English Font</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(set-face-attribute</span>
<span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">'default nil :font "Monaco 14")</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Chinese Font</span>
(<span style="color: #e45649;">dolist</span> (charset '(kana han symbol cjk-misc bopomofo))
  (set-fontset-font (frame-parameter nil 'font)
        charset (font-spec <span style="color: #a626a4;">:family</span> <span style="color: #50a14f;">"STHeiti"</span> <span style="color: #a626a4;">:height</span> 1.0)))
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">more options:</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">"PingFang SC": ugly</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">"STXihei": thicker</span>
</code></pre>
</div>

</section>
<section id="slide-org554219c">
<h3 id="org554219c"><span class="section-number-3">34.4.</span> Font size</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(set-face-attribute 'default nil <span style="color: #a626a4;">:height</span> 140)
(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-setfontsize</span> (size)
  (<span style="color: #e45649;">interactive</span> <span style="color: #50a14f;">"sSet the fontsize (default 140): "</span>)
  (set-face-attribute 'default (selected-frame) <span style="color: #a626a4;">:height</span> (string-to-number size))
  (message <span style="color: #50a14f;">"Fontsize set to %s"</span> size)
  )
(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-set-font-color-to-dark</span> ()
  (<span style="color: #e45649;">interactive</span>)
  (set-foreground-color <span style="color: #50a14f;">"#000000"</span>)
  (message <span style="color: #50a14f;">"Font color set to black"</span>)
  )
</code></pre>
</div>

</section>
<section id="slide-org2d2a7a2">
<h3 id="org2d2a7a2"><span class="section-number-3">34.5.</span> Window size and more</h3>
<p>
Window size (width hight, in chars)
</p>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">when</span> window-system (set-frame-size (selected-frame) 100 50))
</code></pre>
</div>

<p>
Here are some more sofisticated config (not using)
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Define variable font</span>
  (<span style="color: #e45649;">let*</span> ((variable-tuple
          (<span style="color: #e45649;">cond</span> ((x-list-fonts <span style="color: #50a14f;">"ETBembo"</span>)         '(<span style="color: #a626a4;">:font</span> <span style="color: #50a14f;">"ETBembo"</span>))
                ((x-list-fonts <span style="color: #50a14f;">"Source Sans Pro"</span>) '(<span style="color: #a626a4;">:font</span> <span style="color: #50a14f;">"Source Sans Pro"</span>))
                ((x-list-fonts <span style="color: #50a14f;">"Lucida Grande"</span>)   '(<span style="color: #a626a4;">:font</span> <span style="color: #50a14f;">"Lucida Grande"</span>))
                ((x-list-fonts <span style="color: #50a14f;">"Verdana"</span>)         '(<span style="color: #a626a4;">:font</span> <span style="color: #50a14f;">"Verdana"</span>))
                ((x-family-fonts <span style="color: #50a14f;">"Sans Serif"</span>)    '(<span style="color: #a626a4;">:family</span> <span style="color: #50a14f;">"Sans Serif"</span>))
                (nil (<span style="color: #986801;">warn</span> <span style="color: #50a14f;">"Cannot find a Sans Serif Font.  Install Source Sans </span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">Pro."</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">)))))</span>

    (custom-theme-set-faces
     'user
     `(org-level-7 ((t (<span style="color: #a626a4;">:inherit</span> outline-7 ,@variable-tuple))))
     `(org-level-6 ((t (<span style="color: #a626a4;">:inherit</span> outline-6 ,@variable-tuple))))
     `(org-level-5 ((t (<span style="color: #a626a4;">:inherit</span> outline-5 ,@variable-tuple))))
     `(org-level-4 ((t (<span style="color: #a626a4;">:inherit</span> outline-4 ,@variable-tuple <span style="color: #a626a4;">:height</span> 1.1))))
     `(org-level-3 ((t (<span style="color: #a626a4;">:inherit</span> outline-3 ,@variable-tuple <span style="color: #a626a4;">:height</span> 1.25))))
     `(org-level-2 ((t (<span style="color: #a626a4;">:inherit</span> outline-2 ,@variable-tuple <span style="color: #a626a4;">:height</span> 1.5))))
     `(org-level-1 ((t (<span style="color: #a626a4;">:inherit</span> outline-1 ,@variable-tuple <span style="color: #a626a4;">:height</span> 1.75))))
     `(org-document-title ((t (,@variable-tuple <span style="color: #a626a4;">:height</span> 2.0 <span style="color: #a626a4;">:underline</span> nil))))
     ))
  
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(custom-theme-set-faces</span>
  <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">'user</span>
  <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">;; '(variable-pitch ((t (:inherit default :family "ETBembo" :height 180)))</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">)</span>
  <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">'(variable-pitch ((t (:inherit default :family "Source Serif Pro" :height </span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">180))))</span>
  <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">;; '(fixed-pitch ((t (:inherit default :family "Source Font Pro" :height 1</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">40))))</span>
  <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">;; '(org-table   ((t (:inherit fixed-pitch))))</span>
  <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">;; '(org-block   ((t (:inherit fixed-pitch))))</span>
  <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">;; '(org-block-begin-line :foreground fg :slant 'italic :inherit 'fixed-pi</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">tch)</span>
  <span style="color: #9ca0a4;">;;  </span><span style="color: #9ca0a4;">)</span>
</code></pre>
</div>

</section>
<section id="slide-orge878901">
<h3 id="orge878901"><span class="section-number-3">34.6.</span> Not used</h3>
<p>
The following is an example of installing a theme
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim><span style="color: #9ca0a4;">;;</span><span style="color: #9ca0a4;">customize theme</span>
(add-to-list 'custom-theme-load-path <span style="color: #50a14f;">"~/.emacs.d/moe-theme.el/"</span>)
(add-to-list 'load-path <span style="color: #50a14f;">"~/.emacs.d/moe-theme.el/"</span>)
(<span style="color: #e45649;">require</span> '<span style="color: #b751b6;">moe-theme</span>)
</code></pre>
</div>

<p>
The tsdh theme (disabled, replaced with doom theme)
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim><span style="color: #9ca0a4;">;;</span><span style="color: #9ca0a4;">customize theme</span>
(add-to-list 'custom-theme-load-path <span style="color: #50a14f;">"~/.emacs.d/themes/"</span>)
(add-to-list 'load-path <span style="color: #50a14f;">"~/.emacs.d/themes/"</span>)
(<span style="color: #e45649;">require</span> '<span style="color: #b751b6;">tsdh-light-theme</span>)
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(set-background-color "#d4cec3")</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(set-background-color "#e6e3df")</span>
(set-background-color <span style="color: #50a14f;">"#f5efe6"</span>)
</code></pre>
</div>

</section>
</section>
<section>
<section id="slide-org102b608">
<h2 id="org102b608"><span class="section-number-2">35.</span> Keybinding in the end</h2>
<div class="outline-text-2" id="text-35">
</div>
</section>
<section id="slide-org61b0474">
<h3 id="org61b0474"><span class="section-number-3">35.1.</span> org-mode keymap</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim><span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(with-eval-after-load 'org</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(define-key org-agenda-mode-map (kbd "j") #'org-agenda-next-item)</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(define-key org-agenda-mode-map (kbd "k") #'org-agenda-previous-item))</span>
</code></pre>
</div>

</section>
<section id="slide-orgc02c5ff">
<h3 id="orgc02c5ff"><span class="section-number-3">35.2.</span> my-keys-minor-mode (not using)</h3>
<p>
<a href="https://stackoverflow.com/questions/683425/globally-override-key-binding-in-emacs/5340797#5340797">https://stackoverflow.com/questions/683425/globally-override-key-binding-in-emacs/5340797#5340797</a>
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">defvar</span> <span style="color: #6a1868;">my-mode-map</span>
  (<span style="color: #e45649;">let</span> ((map (make-sparse-keymap)))
    (
define-key map (kbd <span style="color: #50a14f;">"C-i"</span>) 'some-function)
    map)
  <span style="color: #84888b; font-style: italic;">"my-keys-minor-mode keymap."</span>)

(<span style="color: #e45649;">define-minor-mode</span> <span style="color: #a626a4;">my-mode</span>
  <span style="color: #84888b; font-style: italic;">"A minor mode so that my key settings override annoying major modes."</span>
  <span style="color: #a626a4;">:init-value</span> t
  <span style="color: #a626a4;">:lighter</span> <span style="color: #50a14f;">" my-keys"</span>)

(my-mode 1)

(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-minibuffer-setup-hook</span> ()
  (my-mode 0))

(add-hook 'minibuffer-setup-hook 'my-minibuffer-setup-hook)

(define-key my-mode-map (kbd <span style="color: #50a14f;">"C-c t"</span>) 'org-todo-list)
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">require</span> '<span style="color: #b751b6;">bind-key</span>)
(<span style="color: #e45649;">bind-key*</span> <span style="color: #50a14f;">"C-c t"</span> 'org-todo-list)
</code></pre>
</div>

</section>
<section id="slide-orga2cad01">
<h3 id="orga2cad01"><span class="section-number-3">35.3.</span> Global keys in the very end</h3>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(global-set-key (kbd <span style="color: #50a14f;">"C-c c"</span>) 'org-capture)
(global-set-key (kbd <span style="color: #50a14f;">"C-c a"</span>) 'org-agenda)
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(global-set-key (kbd "C-c a") 'org-agenda-list)</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(define-key yas-minor-mode-map (kbd "C-c t") nil)</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(global-set-key (kbd "C-c t") 'org-todo-list)</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">;; (bind-key* "C-c t" 'org-todo-list)</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(global-set-key (kbd "&lt;f9&gt;") 'org-todo-list)</span>
(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my/kill-other-buffers</span> ()
      <span style="color: #84888b; font-style: italic;">"Kill all other buffers."</span>
      (<span style="color: #e45649;">interactive</span>)
      (mapc 'kill-buffer (delq (current-buffer) (buffer-list))))
(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my/kill-all-buffers</span> ()
      <span style="color: #84888b; font-style: italic;">"Kill all other buffers."</span>
      (<span style="color: #e45649;">interactive</span>)
      (mapc 'kill-buffer (buffer-list)))
</code></pre>
</div>

<p>
flyspell
</p>

<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(define-key org-mode-map (kbd <span style="color: #50a14f;">"C-,"</span>) nil)
(define-key evil-normal-state-map (kbd <span style="color: #50a14f;">"C-."</span>) nil)
(define-key org-mode-map (kbd <span style="color: #50a14f;">"C-."</span>) nil)
(global-set-key (kbd <span style="color: #50a14f;">"C-,"</span>) 'flyspell-goto-next-error)
(global-set-key (kbd <span style="color: #50a14f;">"C-."</span>) 'flyspell-auto-correct-word)
(global-set-key (kbd <span style="color: #50a14f;">"C-="</span>) 'ispell-word)
</code></pre>
</div>

</section>
</section>
<section>
<section id="slide-org1d08aff">
<h2 id="org1d08aff"><span class="section-number-2">36.</span> Try (TODO)</h2>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim>(<span style="color: #e45649;">defvar</span> <span style="color: #6a1868;">org-babel-eval-verbose</span> t
  <span style="color: #84888b; font-style: italic;">"A non-nil value makes `</span><span style="color: #b751b6; font-style: italic;">org-babel-eval</span><span style="color: #84888b; font-style: italic;">' display"</span>)

(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">org-babel-eval</span> (cmd body)
  <span style="color: #84888b; font-style: italic;">"Run CMD on BODY.</span>
<span style="color: #84888b; font-style: italic;">If CMD succeeds then return its results, otherwise display</span>
<span style="color: #84888b; font-style: italic;">STDERR with `</span><span style="color: #b751b6; font-style: italic;">org-babel-eval-error-notify</span><span style="color: #84888b; font-style: italic;">'."</span>
  (<span style="color: #e45649;">let</span> ((err-buff (get-buffer-create <span style="color: #50a14f;">" *Org-Babel Error*"</span>)) exit-code)
    (<span style="color: #e45649;">with-current-buffer</span> err-buff (erase-buffer))
    (<span style="color: #e45649;">with-temp-buffer</span>
      (insert body)
      (<span style="color: #e45649;">setq</span> exit-code
            (org-babel--shell-command-on-region
             (point-min) (point-max) cmd err-buff))
      (<span style="color: #e45649;">if</span> (<span style="color: #e45649;">or</span> (not (numberp exit-code)) (&gt; exit-code 0)
              (<span style="color: #e45649;">and</span> org-babel-eval-verbose (&gt; (buffer-size err-buff) 0))) <span style="color: #9ca0a4;">; </span><span style="color: #9ca0a4;">new c</span><span style="color: #e45649; background-color: #f0f0f0; font-weight: bold;">ondition</span>
          (<span style="color: #e45649;">progn</span>
            (<span style="color: #e45649;">with-current-buffer</span> err-buff
              (org-babel-eval-error-notify exit-code (buffer-string)))
            nil)
        (buffer-string)))))
</code></pre>
</div>

<ul>
<li>insert file content into .el file
<ul>
<li><a href="https://stackoverflow.com/questions/34432246/how-to-read-contents-of-the-file-programmatically-in-emacs">https://stackoverflow.com/questions/34432246/how-to-read-contents-of-the-file-programmatically-in-emacs</a></li>

</ul></li>

</ul>

</section>
</section>
<section>
<section id="slide-orgd883458">
<h2 id="orgd883458"><span class="section-number-2">37.</span> Startup</h2>
<div class="org-src-container">

<pre  class="src src-emacs-lisp"   ><code trim><span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(defun my-shrink ()</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">(interactive)</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">;; (funcall (key-binding (kbd "C-u 39 C-x {")))</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">;; (call-interactively (key-binding (kbd "C-u 39 C-x {")))</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">;; (/ (loop repeat 39 collect (key-binding (kbd "C-u 39 C-x {"))))</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">;; (/ (loop repeat n sum (funcall f arg)) n)</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">;; (cl-loop repeat 39 (shrink-window-horizontally))</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">;; (r 39 'shrink-window-horizontally '</span><span style="color: #b751b6;">nil</span><span style="color: #9ca0a4;">')</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">'shrink-window-horizontally</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">'shrink-window-horizontally</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">'shrink-window-horizontally</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">'shrink-window-horizontally</span>
<span style="color: #9ca0a4;">;;   </span><span style="color: #9ca0a4;">)</span>

<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">Saving Emacs Sessions</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(desktop-save-mode 1)</span>

<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(fset 'my-shrink (kbd "C-u 43 C-x {"))</span>
(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-shrink</span> ()
  (<span style="color: #e45649;">interactive</span>)
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(shrink-window-horizontally 60)</span>
  (evil-window-set-width 80)
  )
(<span style="color: #e45649;">defun</span> <span style="color: #a626a4;">my-todo</span> ()
  (<span style="color: #e45649;">interactive</span>)
  (split-window-right)
  (evil-window-right 1)
  <span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(find-file "~/Dropbox/orgfiles/work.org")</span>
  (org-agenda-list)
  (my-shrink)
  )

<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">open agenda list</span>
<span style="color: #9ca0a4;">;; </span><span style="color: #9ca0a4;">(org-agenda-list)</span>
</code></pre>
</div>
</section>
</section>
</div>
</div>
<script src="/Users/chongchonghe/local/reveal.js-master/dist/reveal.js"></script>
<script src="/Users/chongchonghe/local/reveal.js-master/plugin/markdown/markdown.js"></script>
<script src="/Users/chongchonghe/local/reveal.js-master/plugin/zoom/zoom.js"></script>
<script src="/Users/chongchonghe/local/reveal.js-master/plugin/notes/notes.js"></script>


<script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({
plugins: [RevealMarkdown, RevealZoom, RevealNotes]
});

</script>
</body>
</html>
